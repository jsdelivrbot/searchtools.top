"use strict";"object"!=typeof window.CP&&(window.CP={}),window.CP.PenTimer={programNoLongerBeingMonitored:!1,timeOfFirstCallToShouldStopLoop:0,_loopExits:{},_loopTimers:{},START_MONITORING_AFTER:2e3,STOP_ALL_MONITORING_TIMEOUT:5e3,MAX_TIME_IN_LOOP_WO_EXIT:2200,exitedLoop:function(o){this._loopExits[o]=!0},shouldStopLoop:function(o){if(this.programKilledSoStopMonitoring)return!0;if(this.programNoLongerBeingMonitored)return!1;if(this._loopExits[o])return!1;var t=this._getTime();if(0===this.timeOfFirstCallToShouldStopLoop)return this.timeOfFirstCallToShouldStopLoop=t,!1;var i=t-this.timeOfFirstCallToShouldStopLoop;if(i<this.START_MONITORING_AFTER)return!1;if(i>this.STOP_ALL_MONITORING_TIMEOUT)return this.programNoLongerBeingMonitored=!0,!1;try{this._checkOnInfiniteLoop(o,t)}catch(o){return this._sendErrorMessageToEditor(),this.programKilledSoStopMonitoring=!0,!0}return!1},_sendErrorMessageToEditor:function(){try{if(this._shouldPostMessage()){var o={action:"infinite-loop",line:this._findAroundLineNumber()};parent.postMessage(JSON.stringify(o),"*")}else this._throwAnErrorToStopPen()}catch(o){this._throwAnErrorToStopPen()}},_shouldPostMessage:function(){return document.location.href.match(/boomerang/)},_throwAnErrorToStopPen:function(){throw"We found an infinite loop in your Pen. We've stopped the Pen from running. Please correct it or contact support@codepen.io."},_findAroundLineNumber:function(){var o=new Error,t=0;if(o.stack){var i=o.stack.match(/boomerang\S+:(\d+):\d+/);i&&(t=i[1])}return t},_checkOnInfiniteLoop:function(o,t){if(!this._loopTimers[o])return this._loopTimers[o]=t,!1;var i=t-this._loopTimers[o];if(i>this.MAX_TIME_IN_LOOP_WO_EXIT)throw"Infinite Loop found on loop: "+o},_getTime:function(){return+new Date}},window.CP.shouldStopExecution=function(o){var t=window.CP.PenTimer.shouldStopLoop(o);return t===!0&&console.warn("[CodePen]: An infinite loop (or a loop taking too long) was detected, so we stopped its execution. Sorry!"),t},window.CP.exitedLoop=function(o){window.CP.PenTimer.exitedLoop(o)};

(function(b,c){var a=(function(){var R=document.title,ah=document.getElementById("ap"),I,ak,Z,s,L,e,y,V,S,w,k,j,h,H,W=0,v,ab,z=0,am,ac=false,N=false,m=false,d=false,p=false,A,T,P,ae='<li class="pl-list" data-track="{count}"><div class="pl-list__track"><div class="pl-list__icon"></div><div class="pl-list__eq"><div class="eq"><div class="eq__bar"></div><div class="eq__bar"></div><div class="eq__bar"></div></div></div></div><div class="pl-list__title">{title}</div><button class="pl-list__remove"><svg fill="#000000" height="20" viewBox="0 0 24 24" width="20"><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/><path d="M0 0h24v24H0z" fill="none"/></svg></button></li>',ai={volume:0.9,changeDocTitle:true,confirmClose:true,autoPlay:false,buffered:true,notification:true,playList:[]};function ag(an){if(!("classList" in document.documentElement)){return false}if(p||ah===null){return"Player already init"}ai=t(ai,an);I=ah.querySelector(".ap__controls--toggle");ak=I.querySelector(".icon-play");Z=ak.querySelector("path");s=ah.querySelector(".ap__controls--prev");L=ah.querySelector(".ap__controls--next");y=ah.querySelector(".ap__controls--repeat");V=ah.querySelector(".volume-btn");e=ah.querySelector(".ap__controls--playlist");k=ah.querySelector(".track__time--current");j=ah.querySelector(".track__time--duration");h=ah.querySelector(".track__title");S=ah.querySelector(".progress__bar");w=ah.querySelector(".progress__preload");ab=ah.querySelector(".volume__bar");v=ai.playList;I.addEventListener("click",o,false);V.addEventListener("click",l,false);y.addEventListener("click",Y,false);S.closest(".progress-container").addEventListener("mousedown",n,false);S.closest(".progress-container").addEventListener("mousemove",G,false);document.documentElement.addEventListener("mouseup",af,false);ab.closest(".volume").addEventListener("mousedown",C,false);ab.closest(".volume").addEventListener("mousemove",D);ab.closest(".volume").addEventListener(B(),D,false);s.addEventListener("click",Q,false);L.addEventListener("click",g,false);p=true;aj();e.addEventListener("click",f,false);H=new Audio();H.volume=ai.volume;H.preload="auto";H.addEventListener("error",U,false);H.addEventListener("timeupdate",aa,false);H.addEventListener("ended",u,false);ab.style.height=H.volume*100+"%";am=ab.css("height");if(ai.confirmClose){b.addEventListener("beforeunload",i,false)}if(al()){return false}H.src=v[W].file;h.innerHTML=v[W].title;if(ai.autoPlay){H.play();I.classList.add("is-playing");Z.setAttribute("d",ak.getAttribute("data-pause"));P[W].classList.add("pl-list--current");x(v[W].title,{icon:v[W].icon,body:"Now playing"})}}function F(an){if(ai.changeDocTitle){if(an){document.title=an}else{document.title=R}}}function i(an){if(!H.paused){var ao="Music still playing";an.returnValue=ao;return ao}}function U(an){if(al()){return}var ao={"1":"MEDIA_ERR_ABORTED","2":"MEDIA_ERR_NETWORK","3":"MEDIA_ERR_DECODE","4":"MEDIA_ERR_SRC_NOT_SUPPORTED"};H.pause();k.innerHTML="--";j.innerHTML="--";S.style.width=0;w.style.width=0;I.classList.remove("is-playing");Z.setAttribute("d",ak.getAttribute("data-play"));P[W]&&P[W].classList.remove("pl-list--current");F();throw new Error("Houston we have a problem: "+ao[an.target.error.code])}function K(ap){if(!p){return"Player is not yet initialized"}if(!Array.isArray(ap)){return}if(ap.length===0){return}var ao=v.length;var an=[];v.push.apply(v,ap);ap.forEach(function(aq){an.push(ae.replace("{count}",ao++).replace("{title}",aq.title))});if(T.querySelector(".pl-list--empty")){T.removeChild(A.querySelector(".pl-list--empty"));H.src=v[W].file;h.innerHTML=v[W].title}T.insertAdjacentHTML("beforeEnd",an.join(""));P=A.querySelectorAll("li")}function aj(){var an=[];v.forEach(function(ap,ao){an.push(ae.replace("{count}",ao).replace("{title}",ap.title))});A=q("div",{className:"pl-container",id:"pl",innerHTML:'<ul class="pl-ul">'+(!al()?an.join(""):'<li class="pl-list--empty">PlayList is empty</li>')+"</ul>"});ah.parentNode.insertBefore(A,ah.nextSibling);T=A.querySelector(".pl-ul");P=T.querySelectorAll("li");A.addEventListener("click",O,false)}function O(an){an.preventDefault();if(an.target.matches(".pl-list__title")){var aq=parseInt(an.target.closest(".pl-list").getAttribute("data-track"),10);if(W!==aq){W=aq;M(aq)}else{o()}}else{if(!!an.target.closest(".pl-list__remove")){var ao=an.target.closest(".pl-list");var ap=parseInt(ao.getAttribute("data-track"),10);v.splice(ap,1);ao.closest(".pl-ul").removeChild(ao);P=A.querySelectorAll("li");[].forEach.call(P,function(at,ar){at.setAttribute("data-track",ar)});if(!H.paused){if(ap===W){M(W)}}else{if(al()){J()}else{if(ap===W){if(ap>v.length-1){W-=1}H.src=v[W].file;h.innerHTML=v[W].title;S.style.width=0}}}if(ap<W){W--}}}}function E(){if(H.paused){P[W].classList.remove("pl-list--current");return}var ap=W;for(var ao=0,an=P.length;an>ao;ao++){if(b.CP.shouldStopExecution(1)){break}P[ao].classList.remove("pl-list--current")}b.CP.exitedLoop(1);P[ap].classList.add("pl-list--current")}function M(an){if(al()){return J()}W=(an+v.length)%v.length;H.src=v[W].file;h.innerHTML=v[W].title;F(v[W].title);H.play();x(v[W].title,{icon:v[W].icon,body:"Now playing",tag:"music-player"});I.classList.add("is-playing");Z.setAttribute("d",ak.getAttribute("data-pause"));E()}function Q(){M(W-1)}function g(){M(W+1)}function al(){return v.length===0}function J(){H.pause();H.src="";h.innerHTML="queue is empty";k.innerHTML="--";j.innerHTML="--";S.style.width=0;w.style.width=0;I.classList.remove("is-playing");Z.setAttribute("d",ak.getAttribute("data-play"));if(!T.querySelector(".pl-list--empty")){T.innerHTML='<li class="pl-list--empty">PlayList is empty</li>'}F()}function o(){if(al()){return}if(H.paused){if(H.currentTime===0){x(v[W].title,{icon:v[W].icon,body:"Now playing"})}F(v[W].title);H.play();I.classList.add("is-playing");Z.setAttribute("d",ak.getAttribute("data-pause"))}else{F();H.pause();I.classList.remove("is-playing");Z.setAttribute("d",ak.getAttribute("data-play"))}E()}function l(){if(H.muted){if(parseInt(am,10)===0){ab.style.height=ai.volume*100+"%";H.volume=ai.volume}else{ab.style.height=am}H.muted=false;V.classList.remove("has-muted")}else{H.muted=true;ab.style.height=0;V.classList.add("has-muted")}}function Y(){if(y.classList.contains("is-active")){ac=false;y.classList.remove("is-active")}else{ac=true;y.classList.add("is-active")}}function f(){e.classList.toggle("is-active");A.classList.toggle("h-show")}function aa(){if(H.readyState===0||N){return}var aq=Math.round(H.currentTime*(100/H.duration));S.style.width=aq+"%";var at=Math.floor(H.currentTime/60),ao=Math.floor(H.currentTime-at*60),au=Math.floor(H.duration/60),ap=Math.floor(H.duration-au*60);(ao<10)&&(ao="0"+ao);(ap<10)&&(ap="0"+ap);k.innerHTML=at+":"+ao;j.innerHTML=au+":"+ap;if(ai.buffered){var ar=H.buffered;if(ar.length){var an=Math.round(100*ar.end(0)/H.duration);w.style.width=an+"%"}}}function X(){if(X){W=Math.round(Math.random()*v.length)}}function u(){if(W===v.length-1){if(!ac){H.pause();E();I.classList.remove("is-playing");Z.setAttribute("d",ak.getAttribute("data-play"));return}else{M(0)}}else{M(W+1)}}function r(an,ap,ao){var aq;if(ao==="horizontal"){aq=Math.round(((an.clientX-ap.offset().left)+b.pageXOffset)*100/ap.parentNode.offsetWidth);ap.style.width=aq+"%";return aq}else{if(an.type===B()){aq=parseInt(am,10);var at=an.deltaY||an.detail||-an.wheelDelta;aq=(at>0)?aq-10:aq+10}else{var ar=(ap.offset().top+ap.offsetHeight)-b.pageYOffset;aq=Math.round((ar-an.clientY))}if(aq>100){aq=z=100}if(aq<0){aq=z=0}ab.style.height=aq+"%";return aq}}function n(an){d=(an.which===3)?true:false;N=true;!d&&S.classList.add("progress__bar--active");G(an)}function C(an){d=(an.which===3)?true:false;m=true;D(an)}function G(an){an.preventDefault();if(N&&d===false&&H.readyState!==0){b.value=r(an,S,"horizontal")}}function af(){if(N&&d===false&&H.readyState!==0){H.currentTime=H.duration*(b.value/100);S.classList.remove("progress__bar--active")}N=false;m=false}function D(an){an.preventDefault();am=ab.css("height");if(m&&d===false||an.type===B()){var ao=r(an,ab.parentNode,"vertical")/100;if(ao<=0){H.volume=0;H.muted=true;V.classList.add("has-muted")}else{if(H.muted){H.muted=false}H.volume=ao;V.classList.remove("has-muted")}}}function x(ao,an){if(!ai.notification){return}if(b.Notification===c){return}an.tag="AP music player";b.Notification.requestPermission(function(ap){if(ap==="granted"){var aq=new Notification(ao.substr(0,110),an);setTimeout(aq.close.bind(aq),5000)}})}function ad(){if(!p){return}if(ai.confirmClose){b.removeEventListener("beforeunload",i,false)}I.removeEventListener("click",o,false);V.removeEventListener("click",l,false);y.removeEventListener("click",Y,false);e.removeEventListener("click",f,false);S.closest(".progress-container").removeEventListener("mousedown",n,false);S.closest(".progress-container").removeEventListener("mousemove",G,false);document.documentElement.removeEventListener("mouseup",af,false);ab.closest(".volume").removeEventListener("mousedown",C,false);ab.closest(".volume").removeEventListener("mousemove",D);ab.closest(".volume").removeEventListener(B(),D);document.documentElement.removeEventListener("mouseup",af,false);s.removeEventListener("click",Q,false);L.removeEventListener("click",g,false);H.removeEventListener("error",U,false);H.removeEventListener("timeupdate",aa,false);H.removeEventListener("ended",u,false);A.removeEventListener("click",O,false);A.parentNode.removeChild(A);H.pause();p=false;W=0;I.classList.remove("is-playing");Z.setAttribute("d",ak.getAttribute("data-play"));V.classList.remove("has-muted");e.classList.remove("is-active");y.classList.remove("is-active")}function B(){var an;if("onwheel" in document){an="wheel"}else{if("onmousewheel" in document){an="mousewheel"}else{an="MozMousePixelScroll"}}return an}function t(ap,ao){for(var an in ao){if(b.CP.shouldStopExecution(2)){break}if(ap.hasOwnProperty(an)){ap[an]=ao[an]}}b.CP.exitedLoop(2);return ap}function q(aq,an){var ap=document.createElement(aq);if(an){for(var ao in an){if(b.CP.shouldStopExecution(3)){break}if(ap[ao]!==c){ap[ao]=an[ao]}}b.CP.exitedLoop(3)}return ap}Element.prototype.offset=function(){var an=this.getBoundingClientRect(),ap=b.pageXOffset||document.documentElement.scrollLeft,ao=b.pageYOffset||document.documentElement.scrollTop;return{top:an.top+ao,left:an.left+ap}};Element.prototype.css=function(an){if(typeof an==="string"){return getComputedStyle(this,"")[an]}else{if(typeof an==="object"){for(var ao in an){if(b.CP.shouldStopExecution(4)){break}if(this.style[ao]!==c){this.style[ao]=an[ao]}}b.CP.exitedLoop(4)}}};b.Element&&function(an){an.matches=an.matches||an.matchesSelector||an.webkitMatchesSelector||an.msMatchesSelector||function(ao){var ar=this,ap=(ar.parentNode||ar.document).querySelectorAll(ao),aq=-1;while(ap[++aq]&&ap[aq]!=ar){if(b.CP.shouldStopExecution(5)){break}}b.CP.exitedLoop(5);return !!ap[aq]}}(Element.prototype);b.Element&&function(an){an.closest=an.closest||function(ao){var ap=this;while(ap.matches&&!ap.matches(ao)){if(b.CP.shouldStopExecution(6)){break}ap=ap.parentNode}b.CP.exitedLoop(6);return ap.matches?ap:null}}(Element.prototype);return{init:ag,update:K,destroy:ad}})();b.AP=a})(window);

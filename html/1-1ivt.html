<html><head><style>html,body{margin:0;padding:0;background:#000;;}</style></head>
<meta charset="utf-8">
<script type="text/javascript">/*<![CDATA[*/
!function(w,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Clappr=t():w.Clappr=t()}(this,function(){return function(w){function t(v){if(c[v])return c[v].exports;var m=c[v]={i:v,l:!1,exports:{}};return w[v].call(m.exports,m,m.exports,t),m.l=!0,m.exports}var c={};return t.m=w,t.c=c,t.i=function(c){return c},t.d=function(c,m,g){t.o(c,m)||Object.defineProperty(c,m,{configurable:!1,enumerable:!0,
get:g})},t.n=function(c){var m=c&&c.__esModule?function(){return c["default"]}:function(){return c};return t.d(m,"a",m),m},t.o=function(c,m){return Object.prototype.hasOwnProperty.call(c,m)},t.p="<%=baseUrl%>/",t(t.s=47)}([function(w,t,c){Object.defineProperty(t,"__esModule",{value:!0});var v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},m=c(19),
g=m&&m.__esModule?m:{"default":m},q=c(1),u=(c=c(106))&&c.__esModule?c:{"default":c},p=Array.prototype.slice,h=/\s+/,e=function(b,l,d,a){if(!d)return!0;if("object"===(void 0===d?"undefined":v(d))){for(var f in d)b[l].apply(b,[f,d[f]].concat(a));return!1}if(h.test(d)){d=d.split(h);f=0;for(var e=d.length;f<e;f++)b[l].apply(b,[d[f]].concat(a));return!1}return!0},b=function(b,l,d,a){function f(){try{switch(l.length){case 0:for(;++r<k;)(e=b[r]).callback.call(e.ctx);break;case 1:for(;++r<k;)(e=b[r]).callback.call(e.ctx,
n);break;case 2:for(;++r<k;)(e=b[r]).callback.call(e.ctx,n,h);break;case 3:for(;++r<k;)(e=b[r]).callback.call(e.ctx,n,h,A);break;default:for(;++r<k;)(e=b[r]).callback.apply(e.ctx,l)}}catch(L){g["default"].error.apply(g["default"],[d,"error on event",a,"trigger","-",L]),f()}}var e=void 0,r=-1,k=b.length,n=l[0],h=l[1],A=l[2];f()},n=function(){function r(){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");}return r.prototype.on=function(b,d,a){return e(this,"on",b,[d,a])&&
d?(this._events||(this._events={}),(this._events[b]||(this._events[b]=[])).push({callback:d,context:a,ctx:a||this}),this):this},r.prototype.once=function(b,d,a){if(!e(this,"once",b,[d,a])||!d)return this;var f=this,l=(0,u["default"])(function(){f.off(b,l);d.apply(this,arguments)});return l._callback=d,this.on(b,l,a)},r.prototype.off=function(b,d,a){var f,l,r,k;if(!this._events||!e(this,"off",b,[d,a]))return this;if(!b&&!d&&!a)return this._events=void 0,this;var n=b?[b]:Object.keys(this._events);var h=
0;for(r=n.length;h<r;h++)if(b=n[h],l=this._events[b]){if(this._events[b]=f=[],d||a){var A=0;for(k=l.length;A<k;A++){var p=l[A];(d&&d!==p.callback&&d!==p.callback._callback||a&&a!==p.context)&&f.push(p)}}f.length||delete this._events[b]}return this},r.prototype.trigger=function(l){var d=this.name||this.constructor.name;if(g["default"].debug.apply(g["default"],[d].concat(Array.prototype.slice.call(arguments))),!this._events)return this;var a=p.call(arguments,1);if(!e(this,"trigger",l,a))return this;
var f=this._events[l],r=this._events.all;return f&&b(f,a,d,l),r&&b(r,arguments,d,l),this},r.prototype.stopListening=function(b,d,a){var f=this._listeningTo;if(!f)return this;var e=!d&&!a;a||"object"!==(void 0===d?"undefined":v(d))||(a=this);b&&((f={})[b._listenId]=b);for(var l in f)b=f[l],b.off(d,a,this),(e||0===Object.keys(b._events).length)&&delete this._listeningTo[l];return this},r}();t["default"]=n;var k={listenTo:"on",listenToOnce:"once"};Object.keys(k).forEach(function(b){n.prototype[b]=function(e,
d,a){return(this._listeningTo||(this._listeningTo={}))[e._listenId||(e._listenId=(0,q.uniqueId)("l"))]=e,a||"object"!==(void 0===d?"undefined":v(d))||(a=this),e[k[b]](d,a,this),this}});n.PLAYER_READY="ready";n.PLAYER_RESIZE="resize";n.PLAYER_FULLSCREEN="fullscreen";n.PLAYER_PLAY="play";n.PLAYER_PAUSE="pause";n.PLAYER_STOP="stop";n.PLAYER_ENDED="ended";n.PLAYER_SEEK="seek";n.PLAYER_ERROR="error";n.PLAYER_TIMEUPDATE="timeupdate";n.PLAYER_VOLUMEUPDATE="volumeupdate";n.PLAYBACK_PROGRESS="playback:progress";
n.PLAYBACK_TIMEUPDATE="playback:timeupdate";n.PLAYBACK_READY="playback:ready";n.PLAYBACK_BUFFERING="playback:buffering";n.PLAYBACK_BUFFERFULL="playback:bufferfull";n.PLAYBACK_SETTINGSUPDATE="playback:settingsupdate";n.PLAYBACK_LOADEDMETADATA="playback:loadedmetadata";n.PLAYBACK_HIGHDEFINITIONUPDATE="playback:highdefinitionupdate";n.PLAYBACK_BITRATE="playback:bitrate";n.PLAYBACK_LEVELS_AVAILABLE="playback:levels:available";n.PLAYBACK_LEVEL_SWITCH_START="playback:levels:switch:start";n.PLAYBACK_LEVEL_SWITCH_END=
"playback:levels:switch:end";n.PLAYBACK_PLAYBACKSTATE="playback:playbackstate";n.PLAYBACK_DVR="playback:dvr";n.PLAYBACK_MEDIACONTROL_DISABLE="playback:mediacontrol:disable";n.PLAYBACK_MEDIACONTROL_ENABLE="playback:mediacontrol:enable";n.PLAYBACK_ENDED="playback:ended";n.PLAYBACK_PLAY_INTENT="playback:play:intent";n.PLAYBACK_PLAY="playback:play";n.PLAYBACK_PAUSE="playback:pause";n.PLAYBACK_STOP="playback:stop";n.PLAYBACK_ERROR="playback:error";n.PLAYBACK_STATS_ADD="playback:stats:add";n.PLAYBACK_FRAGMENT_LOADED=
"playback:fragment:loaded";n.PLAYBACK_LEVEL_SWITCH="playback:level:switch";n.CORE_OPTIONS_CHANGE="core:options:change";n.CORE_READY="core:ready";n.CORE_FULLSCREEN="core:fullscreen";n.CONTAINER_PLAYBACKSTATE="container:playbackstate";n.CONTAINER_PLAYBACKDVRSTATECHANGED="container:dvr";n.CONTAINER_BITRATE="container:bitrate";n.CONTAINER_STATS_REPORT="container:stats:report";n.CONTAINER_DESTROYED="container:destroyed";n.CONTAINER_READY="container:ready";n.CONTAINER_ERROR="container:error";n.CONTAINER_LOADEDMETADATA=
"container:loadedmetadata";n.CONTAINER_TIMEUPDATE="container:timeupdate";n.CONTAINER_PROGRESS="container:progress";n.CONTAINER_PLAY="container:play";n.CONTAINER_STOP="container:stop";n.CONTAINER_PAUSE="container:pause";n.CONTAINER_ENDED="container:ended";n.CONTAINER_CLICK="container:click";n.CONTAINER_DBLCLICK="container:dblclick";n.CONTAINER_CONTEXTMENU="container:contextmenu";n.CONTAINER_MOUSE_ENTER="container:mouseenter";n.CONTAINER_MOUSE_LEAVE="container:mouseleave";n.CONTAINER_SEEK="container:seek";
n.CONTAINER_VOLUME="container:volume";n.CONTAINER_FULLSCREEN="container:fullscreen";n.CONTAINER_STATE_BUFFERING="container:state:buffering";n.CONTAINER_STATE_BUFFERFULL="container:state:bufferfull";n.CONTAINER_SETTINGSUPDATE="container:settingsupdate";n.CONTAINER_HIGHDEFINITIONUPDATE="container:highdefinitionupdate";n.CONTAINER_MEDIACONTROL_SHOW="container:mediacontrol:show";n.CONTAINER_MEDIACONTROL_HIDE="container:mediacontrol:hide";n.CONTAINER_MEDIACONTROL_DISABLE="container:mediacontrol:disable";
n.CONTAINER_MEDIACONTROL_ENABLE="container:mediacontrol:enable";n.CONTAINER_STATS_ADD="container:stats:add";n.CONTAINER_OPTIONS_CHANGE="container:options:change";n.MEDIACONTROL_RENDERED="mediacontrol:rendered";n.MEDIACONTROL_FULLSCREEN="mediacontrol:fullscreen";n.MEDIACONTROL_SHOW="mediacontrol:show";n.MEDIACONTROL_HIDE="mediacontrol:hide";n.MEDIACONTROL_MOUSEMOVE_SEEKBAR="mediacontrol:mousemove:seekbar";n.MEDIACONTROL_MOUSELEAVE_SEEKBAR="mediacontrol:mouseleave:seekbar";n.MEDIACONTROL_PLAYING="mediacontrol:playing";
n.MEDIACONTROL_NOTPLAYING="mediacontrol:notplaying";n.MEDIACONTROL_CONTAINERCHANGED="mediacontrol:containerchanged";n.CORE_CONTAINERS_CREATED="core:containers:created";w.exports=t["default"]},function(w,t,c){function v(a,f){if(!(a instanceof f))throw new TypeError("Cannot call a class as a function");}function m(a,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);a.prototype=Object.create(f&&f.prototype,{constructor:{value:a,
enumerable:!1,writable:!0,configurable:!0}});f&&(Object.setPrototypeOf?Object.setPrototypeOf(a,f):a.__proto__=f)}function g(a,f){if(f)for(var d in f){var b=Object.getOwnPropertyDescriptor(f,d);b?Object.defineProperty(a,d,b):a[d]=f[d]}return a}function q(a,f){var d=function(a){function d(){v(this,d);for(var b=arguments.length,e=Array(b),l=0;l<b;l++)e[l]=arguments[l];b=a.call.apply(a,[this].concat(e));if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");b=!b||
"object"!=typeof b&&"function"!=typeof b?this:b;return f.initialize&&f.initialize.apply(b,e),b}return m(d,a),d}(a);return g(d.prototype,f),d}function u(a,f){if(!isFinite(a))return"--:--";a=parseInt(1E3*a/1E3);var d=a%60;a=parseInt(a/60);var b=a%60;a=parseInt(a/60);var e=a%24,l=parseInt(a/24),r="";return l&&0<l&&(r+=l+":",1>e&&(r+="00:")),(e&&0<e||f)&&(r+=("0"+e).slice(-2)+":"),r+=("0"+b).slice(-2)+":",r+=("0"+d).slice(-2),r.trim()}function p(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:
"t",d=0,a=f.params[a]||f.hashParams[a]||"",b=a.match(/[0-9]+[hms]+/g)||[];return 0<b.length?function(){var a={h:3600,m:60,s:1};b.forEach(function(f){if(f){var b=f[f.length-1];f=parseInt(f.slice(0,f.length-1),10);d+=f*a[b]}})}():a&&(d=parseInt(a,10)),d}function h(a){return H[a]||(H[a]=0),a+ ++H[a]}function e(a){return 0<=a-parseFloat(a)+1}function b(){var a=document.getElementsByTagName("script");return a.length?a[a.length-1].src:""}function n(){return window.navigator&&window.navigator.language}function k(){return window.performance&&
window.performance.now?performance.now():Date.now()}function r(a,f){var d=a.indexOf(f);0<=d&&a.splice(d,1)}Object.defineProperty(t,"__esModule",{value:!0});t.DomRecycler=t.cancelAnimationFrame=t.requestAnimationFrame=t.QueryString=t.Config=t.Fullscreen=void 0;var l=function(){function a(a,f){for(var d=0;d<f.length;d++){var b=f[d];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(a,b.key,b)}}return function(f,d,b){return d&&a(f.prototype,d),b&&a(f,b),
f}}();t.extend=q;t.formatTime=u;t.seekStringToSeconds=p;t.uniqueId=h;t.isNumber=e;t.currentScriptUrl=b;t.getBrowserLanguage=n;t.now=k;t.removeArrayItem=r;var d=(w=c(7))&&w.__esModule?w:{"default":w},a=(c=c(3))&&c.__esModule?c:{"default":c};c=t.Fullscreen={isFullscreen:function(){return!!(document.webkitFullscreenElement||document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement)},requestFullscreen:function(a){a.requestFullscreen?a.requestFullscreen():a.webkitRequestFullscreen?
a.webkitRequestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.msRequestFullscreen?a.msRequestFullscreen():a.querySelector&&a.querySelector("video")&&a.querySelector("video").webkitEnterFullScreen&&a.querySelector("video").webkitEnterFullScreen()},cancelFullscreen:function(){document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():
document.msExitFullscreen&&document.msExitFullscreen()},fullscreenEnabled:function(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}};w=t.Config=function(){function a(){v(this,a)}return a._defaultConfig=function(){return{volume:{value:100,parse:parseInt}}},a._defaultValueFor=function(a){try{return this._defaultConfig()[a].parse(this._defaultConfig()[a].value)}catch(C){}},a._createKeyspace=function(a){return"clappr."+
document.domain+"."+a},a.restore=function(a){return d["default"].hasLocalstorage&&localStorage[this._createKeyspace(a)]?this._defaultConfig()[a].parse(localStorage[this._createKeyspace(a)]):this._defaultValueFor(a)},a.persist=function(a,f){if(d["default"].hasLocalstorage)try{return localStorage[this._createKeyspace(a)]=f,!0}catch(E){return!1}},a}();var f=t.QueryString=function(){function a(){v(this,a)}return a.parse=function(a){for(var f,d=/([^&=]+)=?([^&]*)/g,b={};f=d.exec(a);)b[decodeURIComponent(f[1].replace(/\+/g,
" ")).toLowerCase()]=decodeURIComponent(f[2].replace(/\+/g," "));return b},l(a,null,[{key:"params",get:function(){var a=window.location.search.substring(1);return a!==this.query&&(this._urlParams=this.parse(a),this.query=a),this._urlParams}},{key:"hashParams",get:function(){var a=window.location.hash.substring(1);return a!==this.hash&&(this._hashParams=this.parse(a),this.hash=a),this._hashParams}}]),a}(),H={},D=t.requestAnimationFrame=(window.requestAnimationFrame||window.mozRequestAnimationFrame||
window.webkitRequestAnimationFrame||function(a){window.setTimeout(a,1E3/60)}).bind(window),y=t.cancelAnimationFrame=(window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout).bind(window),z=[],x=t.DomRecycler=function(){function f(){v(this,f)}return f.configure=function(f){this.options=a["default"].extend(this.options,f)},f.create=function(f){return this.options.recycleVideo&&"video"===f&&0<z.length?z.shift():(0,a["default"])("<"+f+">")},
f.garbage=function(a){this.options.recycleVideo&&"VIDEO"===a[0].tagName.toUpperCase()&&(a.children().remove(),z.push(a))},f}();x.options={recycleVideo:!1};t["default"]={Config:w,Fullscreen:c,QueryString:f,DomRecycler:x,extend:q,formatTime:u,seekStringToSeconds:p,uniqueId:h,currentScriptUrl:b,isNumber:e,requestAnimationFrame:D,cancelAnimationFrame:y,getBrowserLanguage:n,now:k,removeArrayItem:r}},function(w,t,c){function v(g,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function, not "+
typeof p);g.prototype=Object.create(p&&p.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}});p&&(Object.setPrototypeOf?Object.setPrototypeOf(g,p):g.__proto__=p)}Object.defineProperty(t,"__esModule",{value:!0});var m=function(){function g(p,h){for(var e=0;e<h.length;e++){var b=h[e];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(p,b.key,b)}}return function(p,h,e){return h&&g(p.prototype,h),e&&g(p,e),p}}(),g=c(1);c=c(9);var q=
function(g){function p(h,e){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");var b=g.call(this,h);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");b=!b||"object"!=typeof b&&"function"!=typeof b?this:b;return b.settings={},b._i18n=e,b}return v(p,g),m(p,[{key:"isAudioOnly",get:function(){return!1}},{key:"ended",get:function(){return!1}},{key:"i18n",get:function(){return this._i18n}},{key:"buffering",get:function(){return!1}}]),
p.prototype.consent=function(){},p.prototype.play=function(){},p.prototype.pause=function(){},p.prototype.stop=function(){},p.prototype.seek=function(h){},p.prototype.seekPercentage=function(h){},p.prototype.getStartTimeOffset=function(){return 0},p.prototype.getDuration=function(){return 0},p.prototype.isPlaying=function(){return!1},p.prototype.getPlaybackType=function(){return p.NO_OP},p.prototype.isHighDefinitionInUse=function(){return!1},p.prototype.volume=function(h){},p.prototype.destroy=function(){this.$el.remove()},
m(p,[{key:"isReady",get:function(){return!1}}]),p}((c&&c.__esModule?c:{"default":c})["default"]);t["default"]=q;q.extend=function(c){return(0,g.extend)(q,c)};q.canPlay=function(g,p){return!1};q.VOD="vod";q.AOD="aod";q.LIVE="live";q.NO_OP="no_op";q.type="playback";w.exports=t["default"]},function(w,t){var c=function(){function c(a){return null==a?String(a):Z[pa.call(a)]||"object"}function m(a){return"function"==c(a)}function g(a){return null!=a&&a==a.window}function q(a){return"object"==c(a)}function u(a){return q(a)&&
!g(a)&&Object.getPrototypeOf(a)==Object.prototype}function p(a){var f=!!a&&"length"in a&&a.length,d=x.type(a);return"function"!=d&&!g(a)&&("array"==d||0===f||"number"==typeof f&&0<f&&f-1 in a)}function h(a){return t.call(a,function(a){return null!=a})}function e(a){return a.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function b(a){return a in B?B[a]:B[a]=new RegExp("(^|\\s)"+a+"(\\s|$)")}function n(a,f){return"number"!=
typeof f||O[e(a)]?f:f+"px"}function k(a){return"children"in a?G.call(a.children):x.map(a.childNodes,function(a){if(1==a.nodeType)return a})}function r(a,f){var d,b=a?a.length:0;for(d=0;d<b;d++)this[d]=a[d];this.length=b;this.selector=f||""}function l(a,f,d){for(z in f)d&&(u(f[z])||ha(f[z]))?(u(f[z])&&!u(a[z])&&(a[z]={}),ha(f[z])&&!ha(a[z])&&(a[z]=[]),l(a[z],f[z],d)):f[z]!==y&&(a[z]=f[z])}function d(a,f){return null==f?x(a):x(a).filter(f)}function a(a,f,d,b){return m(f)?f.call(a,d,b):f}function f(a,
f){var d=a.className||"",b=d&&d.baseVal!==y;if(f===y)return b?d.baseVal:d;b?d.baseVal=f:a.className=f}function H(a){try{return a?"true"==a||"false"!=a&&("null"==a?null:+a+""==a?+a:/^[\[\{]/.test(a)?x.parseJSON(a):a):a}catch(Da){return a}}function D(a,f){f(a);for(var d=0,b=a.childNodes.length;d<b;d++)D(a.childNodes[d],f)}var y,z,x,A,L,C,E=[],P=E.concat,t=E.filter,G=E.slice,w=window.document,J={},B={},O={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},N=/^\s*<(\w+|!)[^>]*>/,
I=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,K=/^(?:body|html)$/i,T="val css html text data width height offset".split(" "),U=w.createElement("table"),Y=w.createElement("tr"),S={tr:w.createElement("tbody"),tbody:U,thead:U,tfoot:U,td:Y,th:Y,"*":w.createElement("div")},aa=/complete|loaded|interactive/,da=/^[\w-]*$/,Z={},pa=Z.toString,Q={},ea=w.createElement("div"),ia={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",
rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},ha=Array.isArray||function(a){return a instanceof Array};return Q.matches=function(a,f){if(!f||!a||1!==a.nodeType)return!1;var d=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.matchesSelector;if(d)return d.call(a,f);var b,d=a.parentNode,e=!d;return e&&(d=ea).appendChild(a),b=~Q.qsa(d,f).indexOf(a),e&&ea.removeChild(a),b},L=function(a){return a.replace(/-+(.)?/g,
function(a,f){return f?f.toUpperCase():""})},C=function(a){return t.call(a,function(f,d){return a.indexOf(f)==d})},Q.fragment=function(a,f,d){var b,e,l;return I.test(a)&&(b=x(w.createElement(RegExp.$1))),b||(a.replace&&(a=a.replace(/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,"<$1></$2>")),f===y&&(f=N.test(a)&&RegExp.$1),f in S||(f="*"),l=S[f],l.innerHTML=""+a,b=x.each(G.call(l.childNodes),function(){l.removeChild(this)})),u(d)&&(e=x(b),x.each(d,function(a,f){-1<T.indexOf(a)?
e[a](f):e.attr(a,f)})),b},Q.Z=function(a,f){return new r(a,f)},Q.isZ=function(a){return a instanceof Q.Z},Q.init=function(a,f){if(!a)return Q.Z();if("string"==typeof a)if(a=a.trim(),"<"==a[0]&&N.test(a)){var d=Q.fragment(a,RegExp.$1,f);a=null}else{if(f!==y)return x(f).find(a);d=Q.qsa(w,a)}else{if(m(a))return x(w).ready(a);if(Q.isZ(a))return a;if(ha(a))d=h(a);else if(q(a))d=[a],a=null;else if(N.test(a))d=Q.fragment(a.trim(),RegExp.$1,f),a=null;else{if(f!==y)return x(f).find(a);d=Q.qsa(w,a)}}return Q.Z(d,
a)},x=function(a,f){return Q.init(a,f)},x.extend=function(a){var f,d=G.call(arguments,1);return"boolean"==typeof a&&(f=a,a=d.shift()),d.forEach(function(d){l(a,d,f)}),a},Q.qsa=function(a,f){var d,b="#"==f[0],e=!b&&"."==f[0],l=b||e?f.slice(1):f,r=da.test(l);return a.getElementById&&r&&b?(d=a.getElementById(l))?[d]:[]:1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType?[]:G.call(r&&!b&&a.getElementsByClassName?e?a.getElementsByClassName(l):a.getElementsByTagName(f):a.querySelectorAll(f))},x.contains=w.documentElement.contains?
function(a,f){return a!==f&&a.contains(f)}:function(a,f){for(;f&&(f=f.parentNode);)if(f===a)return!0;return!1},x.type=c,x.isFunction=m,x.isWindow=g,x.isArray=ha,x.isPlainObject=u,x.isEmptyObject=function(a){for(var f in a)return!1;return!0},x.isNumeric=function(a){var f=Number(a),d=typeof a;return null!=a&&"boolean"!=d&&("string"!=d||a.length)&&!isNaN(f)&&isFinite(f)||!1},x.inArray=function(a,f,d){return E.indexOf.call(f,a,d)},x.camelCase=L,x.trim=function(a){return null==a?"":String.prototype.trim.call(a)},
x.uuid=0,x.support={},x.expr={},x.noop=function(){},x.map=function(a,f){var d,b,e=[];if(p(a))for(b=0;b<a.length;b++)null!=(d=f(a[b],b))&&e.push(d);else for(b in a)null!=(d=f(a[b],b))&&e.push(d);return 0<e.length?x.fn.concat.apply([],e):e},x.each=function(a,f){var d;if(p(a))for(d=0;d<a.length&&!1!==f.call(a[d],d,a[d]);d++);else for(d in a)if(!1===f.call(a[d],d,a[d]))break;return a},x.grep=function(a,f){return t.call(a,f)},window.JSON&&(x.parseJSON=JSON.parse),x.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),
function(a,f){Z["[object "+f+"]"]=f.toLowerCase()}),x.fn={constructor:Q.Z,length:0,forEach:E.forEach,reduce:E.reduce,push:E.push,sort:E.sort,splice:E.splice,indexOf:E.indexOf,concat:function(){var a,f=[];for(a=0;a<arguments.length;a++){var d=arguments[a];f[a]=Q.isZ(d)?d.toArray():d}return P.apply(Q.isZ(this)?this.toArray():this,f)},map:function(a){return x(x.map(this,function(f,d){return a.call(f,d,f)}))},slice:function(){return x(G.apply(this,arguments))},ready:function(a){return aa.test(w.readyState)&&
w.body?a(x):w.addEventListener("DOMContentLoaded",function(){a(x)},!1),this},get:function(a){return a===y?G.call(this):this[0<=a?a:a+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(a){return E.every.call(this,function(f,d){return!1!==a.call(f,d,f)}),this},filter:function(a){return m(a)?this.not(this.not(a)):x(t.call(this,function(f){return Q.matches(f,
a)}))},add:function(a,f){return x(C(this.concat(x(a,f))))},is:function(a){return 0<this.length&&Q.matches(this[0],a)},not:function(a){var f=[];if(m(a)&&a.call!==y)this.each(function(d){a.call(this,d)||f.push(this)});else{var d="string"==typeof a?this.filter(a):p(a)&&m(a.item)?G.call(a):x(a);this.forEach(function(a){0>d.indexOf(a)&&f.push(a)})}return x(f)},has:function(a){return this.filter(function(){return q(a)?x.contains(this,a):x(this).find(a).size()})},eq:function(a){return-1===a?this.slice(a):
this.slice(a,+a+1)},first:function(){var a=this[0];return a&&!q(a)?a:x(a)},last:function(){var a=this[this.length-1];return a&&!q(a)?a:x(a)},find:function(a){var f=this;return a?"object"==typeof a?x(a).filter(function(){var a=this;return E.some.call(f,function(f){return x.contains(f,a)})}):1==this.length?x(Q.qsa(this[0],a)):this.map(function(){return Q.qsa(this,a)}):x()},closest:function(a,f){var d=[],b="object"==typeof a&&x(a);return this.each(function(e,l){for(;l&&!(b?0<=b.indexOf(l):Q.matches(l,
a));)l=l!==f&&!(null!=l&&l.nodeType==l.DOCUMENT_NODE)&&l.parentNode;l&&0>d.indexOf(l)&&d.push(l)}),x(d)},parents:function(a){for(var f=[],b=this;0<b.length;)b=x.map(b,function(a){if((a=a.parentNode)&&(null==a||a.nodeType!=a.DOCUMENT_NODE)&&0>f.indexOf(a))return f.push(a),a});return d(f,a)},parent:function(a){return d(C(this.pluck("parentNode")),a)},children:function(a){return d(this.map(function(){return k(this)}),a)},contents:function(){return this.map(function(){return this.contentDocument||G.call(this.childNodes)})},
siblings:function(a){return d(this.map(function(a,f){return t.call(k(f.parentNode),function(a){return a!==f})}),a)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(a){return x.map(this,function(f){return f[a]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display="");if("none"==getComputedStyle(this,"").getPropertyValue("display")){var a=this.style;var f=this.nodeName;var d,b;f=(J[f]||(d=w.createElement(f),w.body.appendChild(d),
b=getComputedStyle(d,"").getPropertyValue("display"),d.parentNode.removeChild(d),"none"==b&&(b="block"),J[f]=b),J[f]);a.display=f}})},replaceWith:function(a){return this.before(a).remove()},wrap:function(a){var f=m(a);if(this[0]&&!f){var d=x(a).get(0);var b=d.parentNode||1<this.length}return this.each(function(e){x(this).wrapAll(f?a.call(this,e):b?d.cloneNode(!0):d)})},wrapAll:function(a){if(this[0]){x(this[0]).before(a=x(a));for(var f;(f=a.children()).length;)a=f.first();x(a).append(this)}return this},
wrapInner:function(a){var f=m(a);return this.each(function(d){var b=x(this),e=b.contents();d=f?a.call(this,d):a;e.length?e.wrapAll(d):b.append(d)})},unwrap:function(){return this.parent().each(function(){x(this).replaceWith(x(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(a){return this.each(function(){var f=x(this);(a===y?"none"==f.css("display"):a)?f.show():f.hide()})},prev:function(a){return x(this.pluck("previousElementSibling")).filter(a||
"*")},next:function(a){return x(this.pluck("nextElementSibling")).filter(a||"*")},html:function(f){return 0 in arguments?this.each(function(d){var b=this.innerHTML;x(this).empty().append(a(this,f,d,b))}):0 in this?this[0].innerHTML:null},text:function(f){return 0 in arguments?this.each(function(d){d=a(this,f,d,this.textContent);this.textContent=null==d?"":""+d}):0 in this?this.pluck("textContent").join(""):null},attr:function(f,d){var b;return"string"!=typeof f||1 in arguments?this.each(function(b){if(1===
this.nodeType)if(q(f))for(z in f){var e=z;b=f[z];null==b?this.removeAttribute(e):this.setAttribute(e,b)}else e=f,b=a(this,d,b,this.getAttribute(f)),null==b?this.removeAttribute(e):this.setAttribute(e,b)}):0 in this&&1==this[0].nodeType&&null!=(b=this[0].getAttribute(f))?b:y},removeAttr:function(a){return this.each(function(){1===this.nodeType&&a.split(" ").forEach(function(a){this.removeAttribute(a)},this)})},prop:function(f,d){return f=ia[f]||f,1 in arguments?this.each(function(b){this[f]=a(this,
d,b,this[f])}):this[0]&&this[0][f]},removeProp:function(a){return a=ia[a]||a,this.each(function(){delete this[a]})},data:function(a,f){var d="data-"+a.replace(/([A-Z])/g,"-$1").toLowerCase(),d=1 in arguments?this.attr(d,f):this.attr(d);return null!==d?H(d):y},val:function(f){return 0 in arguments?(null==f&&(f=""),this.each(function(d){this.value=a(this,f,d,this.value)})):this[0]&&(this[0].multiple?x(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(f){if(f)return this.each(function(d){var b=
x(this);d=a(this,f,d,b.offset());var e=b.offsetParent().offset();d={top:d.top-e.top,left:d.left-e.left};"static"==b.css("position")&&(d.position="relative");b.css(d)});if(!this.length)return null;if(w.documentElement!==this[0]&&!x.contains(w.documentElement,this[0]))return{top:0,left:0};var d=this[0].getBoundingClientRect();return{left:d.left+window.pageXOffset,top:d.top+window.pageYOffset,width:Math.round(d.width),height:Math.round(d.height)}},css:function(a,f){if(2>arguments.length){var d=this[0];
if("string"==typeof a)return d?d.style[L(a)]||getComputedStyle(d,"").getPropertyValue(a):void 0;if(ha(a)){if(!d)return;var b={},l=getComputedStyle(d,"");return x.each(a,function(a,f){b[f]=d.style[L(f)]||l.getPropertyValue(f)}),b}}var r="";if("string"==c(a))f||0===f?r=e(a)+":"+n(a,f):this.each(function(){this.style.removeProperty(e(a))});else for(z in a)a[z]||0===a[z]?r+=e(z)+":"+n(z,a[z])+";":this.each(function(){this.style.removeProperty(e(z))});return this.each(function(){this.style.cssText+=";"+
r})},index:function(a){return a?this.indexOf(x(a)[0]):this.parent().children().indexOf(this[0])},hasClass:function(a){return!!a&&E.some.call(this,function(a){return this.test(f(a))},b(a))},addClass:function(d){return d?this.each(function(b){if("className"in this){A=[];var e=f(this);a(this,d,b,e).split(/\s+/g).forEach(function(a){x(this).hasClass(a)||A.push(a)},this);A.length&&f(this,e+(e?" ":"")+A.join(" "))}}):this},removeClass:function(d){return this.each(function(e){if("className"in this){if(d===
y)return f(this,"");A=f(this);a(this,d,e,A).split(/\s+/g).forEach(function(a){A=A.replace(b(a)," ")});f(this,A.trim())}})},toggleClass:function(d,b){return d?this.each(function(e){var l=x(this);a(this,d,e,f(this)).split(/\s+/g).forEach(function(a){(b===y?!l.hasClass(a):b)?l.addClass(a):l.removeClass(a)})}):this},scrollTop:function(a){if(this.length){var f="scrollTop"in this[0];return a===y?f?this[0].scrollTop:this[0].pageYOffset:this.each(f?function(){this.scrollTop=a}:function(){this.scrollTo(this.scrollX,
a)})}},scrollLeft:function(a){if(this.length){var f="scrollLeft"in this[0];return a===y?f?this[0].scrollLeft:this[0].pageXOffset:this.each(f?function(){this.scrollLeft=a}:function(){this.scrollTo(a,this.scrollY)})}},position:function(){if(this.length){var a=this[0],f=this.offsetParent(),d=this.offset(),b=K.test(f[0].nodeName)?{top:0,left:0}:f.offset();return d.top-=parseFloat(x(a).css("margin-top"))||0,d.left-=parseFloat(x(a).css("margin-left"))||0,b.top+=parseFloat(x(f[0]).css("border-top-width"))||
0,b.left+=parseFloat(x(f[0]).css("border-left-width"))||0,{top:d.top-b.top,left:d.left-b.left}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||w.body;a&&!K.test(a.nodeName)&&"static"==x(a).css("position");)a=a.offsetParent;return a})}},x.fn.detach=x.fn.remove,["width","height"].forEach(function(f){var d=f.replace(/./,function(a){return a[0].toUpperCase()});x.fn[f]=function(b){var e,l=this[0];return b===y?g(l)?l["inner"+d]:null!=l&&l.nodeType==l.DOCUMENT_NODE?l.documentElement["scroll"+
d]:(e=this.offset())&&e[f]:this.each(function(d){l=x(this);l.css(f,a(this,b,d,l[f]()))})}}),["after","prepend","before","append"].forEach(function(a,f){var d=f%2;x.fn[a]=function(){var a,b,e=x.map(arguments,function(f){var d=[];return a=c(f),"array"==a?(f.forEach(function(a){return a.nodeType!==y?d.push(a):x.zepto.isZ(a)?d=d.concat(a.get()):void(d=d.concat(Q.fragment(a)))}),d):"object"==a||null==f?f:Q.fragment(f)}),l=1<this.length;return 1>e.length?this:this.each(function(a,r){b=d?r:r.parentNode;
r=0==f?r.nextSibling:1==f?r.firstChild:2==f?r:null;var k=x.contains(w.documentElement,b);e.forEach(function(a){if(l)a=a.cloneNode(!0);else if(!b)return x(a).remove();b.insertBefore(a,r);k&&D(a,function(a){if(!(null==a.nodeName||"SCRIPT"!==a.nodeName.toUpperCase()||a.type&&"text/javascript"!==a.type||a.src)){var f=a.ownerDocument?a.ownerDocument.defaultView:window;f.eval.call(f,a.innerHTML)}})})})};x.fn[d?a+"To":"insert"+(f?"Before":"After")]=function(f){return x(f)[a](this),this}}),Q.Z.prototype=
r.prototype=x.fn,Q.uniq=C,Q.deserializeValue=H,x.zepto=Q,x}();window.Zepto=c;void 0===window.$&&(window.$=c);(function(c){function m(a,f,d,b){if(a.global)return a=f||H,d=c.Event(d),c(a).trigger(d,b),!d.isDefaultPrevented()}function g(a){a.global&&0==c.active++&&m(a,null,"ajaxStart")}function q(a,f){var d=f.context;if(!1===f.beforeSend.call(d,a,f)||!1===m(f,d,"ajaxBeforeSend",[a,f]))return!1;m(f,d,"ajaxSend",[a,f])}function u(a,f,d,b){var e=d.context;d.success.call(e,a,"success",f);b&&b.resolveWith(e,
[a,"success",f]);m(d,e,"ajaxSuccess",[f,d,a]);h("success",f,d)}function p(a,f,d,b,e){var l=b.context;b.error.call(l,d,f,a);e&&e.rejectWith(l,[d,f,a]);m(b,l,"ajaxError",[d,b,a||f]);h(f,d,b)}function h(a,f,d){var b=d.context;d.complete.call(b,f,a);m(d,b,"ajaxComplete",[f,d]);d.global&&!--c.active&&m(d,null,"ajaxStop")}function e(){}function b(a){return a&&(a=a.split(";",2)[0]),a&&(a==x?"html":a==z?"json":D.test(a)?"script":y.test(a)&&"xml")||"text"}function n(a,f){return""==f?a:(a+"&"+f).replace(/[&?]{1,2}/,
"?")}function k(a){a.processData&&a.data&&"string"!=c.type(a.data)&&(a.data=c.param(a.data,a.traditional));!a.data||a.type&&"GET"!=a.type.toUpperCase()&&"jsonp"!=a.dataType||(a.url=n(a.url,a.data),a.data=void 0)}function r(a,f,d,b){return c.isFunction(f)&&(b=d,d=f,f=void 0),c.isFunction(d)||(b=d,d=void 0),{url:a,data:f,success:d,dataType:b}}function l(a,f,d,b){var e,r=c.isArray(f),k=c.isPlainObject(f);c.each(f,function(f,n){e=c.type(n);b&&(f=d?b:b+"["+(k||"object"==e||"array"==e?f:"")+"]");!b&&r?
a.add(n.name,n.value):"array"==e||!d&&"object"==e?l(a,n,d,f):a.add(f,n)})}var d,a,f=+new Date,H=window.document,D=/^(?:text|application)\/javascript/i,y=/^(?:text|application)\/xml/i,z="application/json",x="text/html",A=/^\s*$/,L=H.createElement("a");L.href=window.location.href;c.active=0;c.ajaxJSONP=function(a,d){if(!("type"in a))return c.ajax(a);var b,e,l=a.jsonpCallback,r=(c.isFunction(l)?l():l)||"Zepto"+f++,k=H.createElement("script"),n=window[r],y=function(a){c(k).triggerHandler("error",a||"abort")},
h={abort:y};return d&&d.promise(h),c(k).on("load error",function(f,l){clearTimeout(e);c(k).off().remove();"error"!=f.type&&b?u(b[0],h,a,d):p(null,l||"error",h,a,d);window[r]=n;b&&c.isFunction(n)&&n(b[0]);n=b=void 0}),!1===q(h,a)?(y("abort"),h):(window[r]=function(){b=arguments},k.src=a.url.replace(/\?(.+)=\?/,"?$1="+r),H.head.appendChild(k),0<a.timeout&&(e=setTimeout(function(){y("timeout")},a.timeout)),h)};c.ajaxSettings={type:"GET",beforeSend:e,success:e,error:e,complete:e,context:null,global:!0,
xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:z,xml:"application/xml, text/xml",html:x,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0,dataFilter:e};c.ajax=function(f){var l,r,y=c.extend({},f||{}),h=c.Deferred&&c.Deferred();for(d in c.ajaxSettings)void 0===y[d]&&(y[d]=c.ajaxSettings[d]);g(y);y.crossDomain||(l=H.createElement("a"),l.href=y.url,l.href=l.href,y.crossDomain=L.protocol+"//"+
L.host!=l.protocol+"//"+l.host);y.url||(y.url=window.location.toString());-1<(r=y.url.indexOf("#"))&&(y.url=y.url.slice(0,r));k(y);var z=y.dataType;l=/\?.+=\?/.test(y.url);if(l&&(z="jsonp"),!1!==y.cache&&(f&&!0===f.cache||"script"!=z&&"jsonp"!=z)||(y.url=n(y.url,"_="+Date.now())),"jsonp"==z)return l||(y.url=n(y.url,y.jsonp?y.jsonp+"=?":!1===y.jsonp?"":"callback=?")),c.ajaxJSONP(y,h);var x;f=y.accepts[z];var D={};l=function(a,f){D[a.toLowerCase()]=[a,f]};var m=/^([\w-]+:)\/\//.test(y.url)?RegExp.$1:
window.location.protocol,C=y.xhr();r=C.setRequestHeader;if(h&&h.promise(C),y.crossDomain||l("X-Requested-With","XMLHttpRequest"),l("Accept",f||"*/*"),(f=y.mimeType||f)&&(-1<f.indexOf(",")&&(f=f.split(",",2)[0]),C.overrideMimeType&&C.overrideMimeType(f)),(y.contentType||!1!==y.contentType&&y.data&&"GET"!=y.type.toUpperCase())&&l("Content-Type",y.contentType||"application/x-www-form-urlencoded"),y.headers)for(a in y.headers)l(a,y.headers[a]);if(C.setRequestHeader=l,C.onreadystatechange=function(){if(4==
C.readyState){C.onreadystatechange=e;clearTimeout(x);var a=!1;if(200<=C.status&&300>C.status||304==C.status||0==C.status&&"file:"==m){if(z=z||b(y.mimeType||C.getResponseHeader("content-type")),"arraybuffer"==C.responseType||"blob"==C.responseType)var f=C.response;else{f=C.responseText;try{f=y.dataFilter==e?f:y.dataFilter.call(y.context,f,z),"script"==z?(0,eval)(f):"xml"==z?f=C.responseXML:"json"==z&&(f=A.test(f)?null:c.parseJSON(f))}catch(U){a=U}if(a)return p(a,"parsererror",C,y,h)}u(f,C,y,h)}else p(C.statusText||
null,C.status?"error":"abort",C,y,h)}},!1===q(C,y))return C.abort(),p(null,"abort",C,y,h),C;if(C.open(y.type,y.url,!("async"in y)||y.async,y.username,y.password),y.xhrFields)for(a in y.xhrFields)C[a]=y.xhrFields[a];for(a in D)r.apply(C,D[a]);return 0<y.timeout&&(x=setTimeout(function(){C.onreadystatechange=e;C.abort();p(null,"timeout",C,y,h)},y.timeout)),C.send(y.data?y.data:null),C};c.get=function(){return c.ajax(r.apply(null,arguments))};c.post=function(){var a=r.apply(null,arguments);return a.type=
"POST",c.ajax(a)};c.getJSON=function(){var a=r.apply(null,arguments);return a.dataType="json",c.ajax(a)};c.fn.load=function(a,f,d){if(!this.length)return this;var b,e=this,l=a.split(/\s/);a=r(a,f,d);var k=a.success;return 1<l.length&&(a.url=l[0],b=l[1]),a.success=function(a){e.html(b?c("<div>").html(a.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"")).find(b):a);k&&k.apply(e,arguments)},c.ajax(a),this};var C=encodeURIComponent;c.param=function(a,f){var d=[];return d.add=function(a,
f){c.isFunction(f)&&(f=f());null==f&&(f="");this.push(C(a)+"="+C(f))},l(d,a,f),d.join("&").replace(/%20/g,"+")}})(c);(function(c){c.Callbacks=function(m){m=c.extend({},m);var g,q,u,p,h,e,b=[],n=!m.once&&[],k=function(l){g=m.memory&&l;q=!0;e=p||0;p=0;h=b.length;for(u=!0;b&&e<h;++e)if(!1===b[e].apply(l[0],l[1])&&m.stopOnFalse){g=!1;break}u=!1;b&&(n?n.length&&k(n.shift()):g?b.length=0:r.disable())},r={add:function(){if(b){var e=b.length,d=function(a){c.each(a,function(a,e){"function"==typeof e?m.unique&&
r.has(e)||b.push(e):e&&e.length&&"string"!=typeof e&&d(e)})};d(arguments);u?h=b.length:g&&(p=e,k(g))}return this},remove:function(){return b&&c.each(arguments,function(l,d){for(var a;-1<(a=c.inArray(d,b,a));)b.splice(a,1),u&&(a<=h&&--h,a<=e&&--e)}),this},has:function(e){return!(!b||!(e?-1<c.inArray(e,b):b.length))},empty:function(){return h=b.length=0,this},disable:function(){return b=n=g=void 0,this},disabled:function(){return!b},lock:function(){return n=void 0,g||r.disable(),this},locked:function(){return!n},
fireWith:function(e,d){return!b||q&&!n||(d=d||[],d=[e,d.slice?d.slice():d],u?n.push(d):k(d)),this},fire:function(){return r.fireWith(this,arguments)},fired:function(){return!!q}};return r}})(c);(function(c){function m(g){var u=[["resolve","done",c.Callbacks({once:1,memory:1}),"resolved"],["reject","fail",c.Callbacks({once:1,memory:1}),"rejected"],["notify","progress",c.Callbacks({memory:1})]],p="pending",h={state:function(){return p},always:function(){return e.done(arguments).fail(arguments),this},
then:function(){var b=arguments;return m(function(n){c.each(u,function(k,r){var l=c.isFunction(b[k])&&b[k];e[r[1]](function(){var d=l&&l.apply(this,arguments);if(d&&c.isFunction(d.promise))d.promise().done(n.resolve).fail(n.reject).progress(n.notify);else{var a=this===h?n.promise():this;n[r[0]+"With"](a,l?[d]:arguments)}})});b=null}).promise()},promise:function(b){return null!=b?c.extend(b,h):h}},e={};return c.each(u,function(b,n){var k=n[2],r=n[3];h[n[1]]=k.add;r&&k.add(function(){p=r},u[1^b][2].disable,
u[2][2].lock);e[n[0]]=function(){return e[n[0]+"With"](this===e?h:this,arguments),this};e[n[0]+"With"]=k.fireWith}),h.promise(e),g&&g.call(e,e),e}var g=Array.prototype.slice;c.when=function(q){var u,p=g.call(arguments),h=p.length,e=0,b=1!==h||q&&c.isFunction(q.promise)?h:0,n=1===b?q:m(),k=function(d,a,f){return function(e){a[d]=this;f[d]=1<arguments.length?g.call(arguments):e;f===r?n.notifyWith(a,f):--b||n.resolveWith(a,f)}};if(1<h){var r=Array(h);var l=Array(h);for(u=Array(h);e<h;++e)p[e]&&c.isFunction(p[e].promise)?
p[e].promise().done(k(e,u,p)).fail(n.reject).progress(k(e,l,r)):--b}return b||n.resolveWith(u,p),n.promise()};c.Deferred=m})(c);(function(c){function m(a){return a._zid||(a._zid=k++)}function g(f,d,b,e){if(d=q(d),d.ns)var l=new RegExp("(?:^| )"+d.ns.replace(" "," .* ?")+"(?: |$)");return(a[m(f)]||[]).filter(function(a){return a&&(!d.e||a.e==d.e)&&(!d.ns||l.test(a.ns))&&(!b||m(a.fn)===m(b))&&(!e||a.sel==e)})}function q(a){a=(""+a).split(".");return{e:a[0],ns:a.slice(1).sort().join(" ")}}function u(a){return y[a]||
H&&D[a]||a}function p(f,d,b,l,r,k,h){var z=m(f),x=a[z]||(a[z]=[]);d.split(/\s/).forEach(function(a){if("ready"==a)return c(document).ready(b);var d=q(a);d.fn=b;d.sel=r;d.e in y&&(b=function(a){var f=a.relatedTarget;if(!f||f!==this&&!c.contains(this,f))return d.fn.apply(this,arguments)});var z=(d.del=k)||b;d.proxy=function(a){if(a=e(a),!a.isImmediatePropagationStopped()){a.data=l;var d=z.apply(f,a._args==n?[a]:[a].concat(a._args));return!1===d&&(a.preventDefault(),a.stopPropagation()),d}};d.i=x.length;
x.push(d);"addEventListener"in f&&f.addEventListener(u(d.e),d.proxy,d.del&&!H&&d.e in D||!!h)})}function h(f,d,b,e,l){var r=m(f);(d||"").split(/\s/).forEach(function(d){g(f,d,b,e).forEach(function(d){delete a[r][d.i];"removeEventListener"in f&&f.removeEventListener(u(d.e),d.proxy,d.del&&!H&&d.e in D||!!l)})})}function e(a,f){return!f&&a.isDefaultPrevented||(f||(f=a),c.each(L,function(d,b){var e=f[d];a[d]=function(){return this[b]=z,e&&e.apply(f,arguments)};a[b]=x}),a.timeStamp||(a.timeStamp=Date.now()),
(f.defaultPrevented!==n?f.defaultPrevented:"returnValue"in f?!1===f.returnValue:f.getPreventDefault&&f.getPreventDefault())&&(a.isDefaultPrevented=z)),a}function b(a){var f,d={originalEvent:a};for(f in a)A.test(f)||a[f]===n||(d[f]=a[f]);return e(d,a)}var n,k=1,r=Array.prototype.slice,l=c.isFunction,d=function(a){return"string"==typeof a},a={},f={},H="onfocusin"in window,D={focus:"focusin",blur:"focusout"},y={mouseenter:"mouseover",mouseleave:"mouseout"};f.click=f.mousedown=f.mouseup=f.mousemove="MouseEvents";
c.event={add:p,remove:h};c.proxy=function(a,f){var b=2 in arguments&&r.call(arguments,2);if(l(a)){var e=function(){return a.apply(f,b?b.concat(r.call(arguments)):arguments)};return e._zid=m(a),e}if(d(f))return b?(b.unshift(a[f],a),c.proxy.apply(null,b)):c.proxy(a[f],a);throw new TypeError("expected function");};c.fn.bind=function(a,f,d){return this.on(a,f,d)};c.fn.unbind=function(a,f){return this.off(a,f)};c.fn.one=function(a,f,d,b){return this.on(a,f,d,b,1)};var z=function(){return!0},x=function(){return!1},
A=/^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,L={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};c.fn.delegate=function(a,f,d){return this.on(f,a,d)};c.fn.undelegate=function(a,f,d){return this.off(f,a,d)};c.fn.live=function(a,f){return c(document.body).delegate(this.selector,a,f),this};c.fn.die=function(a,f){return c(document.body).undelegate(this.selector,a,f),this};c.fn.on=function(a,f,e,k,y){var z,
H,B=this;return a&&!d(a)?(c.each(a,function(a,d){B.on(a,f,e,d,y)}),B):(d(f)||l(k)||!1===k||(k=e,e=f,f=n),k!==n&&!1!==e||(k=e,e=n),!1===k&&(k=x),B.each(function(d,l){y&&(z=function(a){return h(l,a.type,k),k.apply(this,arguments)});f&&(H=function(a){var d,e=c(a.target).closest(f,l).get(0);if(e&&e!==l)return d=c.extend(b(a),{currentTarget:e,liveFired:l}),(z||k).apply(e,[d].concat(r.call(arguments,1)))});p(l,a,k,e,f,H||z)}))};c.fn.off=function(a,f,b){var e=this;return a&&!d(a)?(c.each(a,function(a,d){e.off(a,
f,d)}),e):(d(f)||l(b)||!1===b||(b=f,f=n),!1===b&&(b=x),e.each(function(){h(this,a,b,f)}))};c.fn.trigger=function(a,f){return a=d(a)||c.isPlainObject(a)?c.Event(a):e(a),a._args=f,this.each(function(){a.type in D&&"function"==typeof this[a.type]?this[a.type]():"dispatchEvent"in this?this.dispatchEvent(a):c(this).triggerHandler(a,f)})};c.fn.triggerHandler=function(a,f){var e,l;return this.each(function(r,k){e=b(d(a)?c.Event(a):a);e._args=f;e.target=k;c.each(g(k,a.type||a),function(a,f){if(l=f.proxy(e),
e.isImmediatePropagationStopped())return!1})}),l};"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(a){c.fn[a]=function(f){return 0 in arguments?this.bind(a,f):this.trigger(a)}});c.Event=function(a,b){d(a)||(b=a,a=b.type);var l=document.createEvent(f[a]||"Events"),r=!0;if(b)for(var k in b)"bubbles"==k?r=!!b[k]:l[k]=b[k];return l.initEvent(a,
r,!0),e(l)}})(c);(function(){try{getComputedStyle(void 0)}catch(m){var c=getComputedStyle;window.getComputedStyle=function(g,m){try{return c(g,m)}catch(u){return null}}}})();(function(c){function m(b){return b=c(b),!(!b.width()&&!b.height())&&"none"!==b.css("display")}function g(b,r){b=b.replace(/=#\]/g,'="#"]');var l,d,a=e.exec(b);a&&a[2]in h&&(l=h[a[2]],d=a[3],b=a[1],d)&&(a=Number(d),d=isNaN(a)?d.replace(/^["']|["']$/g,""):a);return r(b,l,d)}var q=c.zepto,u=q.qsa,p=q.matches,h=c.expr[":"]={visible:function(){if(m(this))return this},
hidden:function(){if(!m(this))return this},selected:function(){if(this.selected)return this},checked:function(){if(this.checked)return this},parent:function(){return this.parentNode},first:function(b){if(0===b)return this},last:function(b,e){if(b===e.length-1)return this},eq:function(b,e,l){if(b===l)return this},contains:function(b,e,l){if(-1<c(this).text().indexOf(l))return this},has:function(b,e,l){if(q.qsa(this,l).length)return this}},e=/(.*):(\w+)(?:\(([^)]+)\))?$\s*/,b=/^\s*>/,n="Zepto"+ +new Date;
q.qsa=function(e,r){return g(r,function(l,d,a){var f;try{!l&&d?l="*":b.test(l)&&(f=c(e).addClass(n),l="."+n+" "+l);var k=u(e,l)}catch(D){throw console.error("error performing selector: %o",r),D;}finally{f&&f.removeClass(n)}return d?q.uniq(c.map(k,function(f,b){return d.call(f,b,k,a)})):k})};q.matches=function(b,e){return g(e,function(e,d,a){return(!e||p(b,e))&&(!d||d.call(b,null,a)===b)})}})(c);w.exports=c},function(w,t,c){Object.defineProperty(t,"__esModule",{value:!0});var v=c(3),m=v&&v.__esModule?
v:{"default":v},g=(c=c(5))&&c.__esModule?c:{"default":c};t["default"]={getStyleFor:function(c){var u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{baseUrl:""};return(0,m["default"])('<style class="clappr-style"></style>').html((0,g["default"])(c.toString())(u))}};w.exports=t["default"]},function(w,t,c){var v={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},m={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},g={"&":"&amp;",
"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"},q=RegExp("[&<>\"']","g"),u=function(h){return null===h?"":(""+h).replace(q,function(e){return g[e]})},p=0;t=function(h,e){var b=new RegExp([(v.escape||/(.)^/).source,(v.interpolate||/(.)^/).source,(v.evaluate||/(.)^/).source].join("|")+"|$","g"),n=0,k="__p+='";h.replace(b,function(b,d,a,f,e){return k+=h.slice(n,e).replace(/\\|'|\r|\n|\t|\u2028|\u2029/g,function(a){return"\\"+m[a]}),d&&(k+="'+\n((__t=("+d+"))==null?'':escapeExpr(__t))+\n'"),a&&(k+="'+\n((__t=("+
a+"))==null?'':__t)+\n'"),f&&(k+="';\n"+f+"\n__p+='"),n=e+b.length,b});k+="';\n";v.variable||(k="with(obj||{}){\n"+k+"}\n");k="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+k+"return __p;\n//# sourceURL=/microtemplates/source["+p++ +"]";try{var r=new Function(v.variable||"obj","escapeExpr",k)}catch(l){throw l.source=k,l;}if(e)return r(e,u);b=function(b){return r.call(this,b,u)};return b.source="function("+(v.variable||"obj")+"){\n"+k+"}",b};t.settings=
v;w.exports=t},function(w,t,c){(function(c){function m(g,m){var u=g[1]||"",p=g[3];if(!p)return u;if(m){var h="/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+(new c(JSON.stringify(p))).toString("base64")+" */";return[u].concat(p.sources.map(function(e){return"/*# sourceURL="+p.sourceRoot+e+" */"})).concat([h]).join("\n")}return""+u}w.exports=function(c){var g=[];return g.toString=function(){return this.map(function(g){var p=m(g,c);return g[2]?"@media "+g[2]+"{"+p+"}":p}).join("")},
g.i=function(c,p){"string"==typeof c&&(c=[[null,c,""]]);for(var h={},e=0;e<this.length;e++){var b=this[e][0];"number"==typeof b&&(h[b]=!0)}for(e=0;e<c.length;e++)b=c[e],"number"==typeof b[0]&&h[b[0]]||(p&&!b[2]?b[2]=p:p&&(b[2]="("+b[2]+") and ("+p+")"),g.push(b))},g}}).call(t,c(80).Buffer)},function(w,t,c){Object.defineProperty(t,"__esModule",{value:!0});c={};var v=navigator.userAgent;var m=v.match(/\b(playstation 4|nx|opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[],g=void 0;v=/trident/i.test(m[1])?
(g=/\brv[ :]+(\d+)/g.exec(v)||[],{name:"IE",version:parseInt(g[1]||"")}):"Chrome"===m[1]&&null!=(g=v.match(/\bOPR\/(\d+)/))?{name:"Opera",version:parseInt(g[1])}:(m=m[2]?[m[1],m[2]]:[navigator.appName,navigator.appVersion,"-?"],(g=v.match(/version\/(\d+)/i))&&m.splice(1,1,g[1]),{name:m[0],version:parseInt(m[1])});c.isSafari=/safari/i.test(navigator.userAgent)&&-1===navigator.userAgent.indexOf("Chrome");c.isChrome=/chrome/i.test(navigator.userAgent)||/CriOS/i.test(navigator.userAgent);c.isFirefox=
/firefox/i.test(navigator.userAgent);c.isLegacyIE=!!window.ActiveXObject;c.isIE=c.isLegacyIE||/trident.*rv:1\d/i.test(navigator.userAgent);c.isIE11=/trident.*rv:11/i.test(navigator.userAgent);c.isChromecast=c.isChrome&&/CrKey/i.test(navigator.userAgent);c.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone|IEMobile|Opera Mini/i.test(navigator.userAgent);c.isiOS=/iPad|iPhone|iPod/i.test(navigator.userAgent);c.isAndroid=/Android/i.test(navigator.userAgent);c.isWindowsPhone=/Windows Phone/i.test(navigator.userAgent);
c.isWin8App=/MSAppHost/i.test(navigator.userAgent);c.isWiiU=/WiiU/i.test(navigator.userAgent);c.isPS4=/PlayStation 4/i.test(navigator.userAgent);try{var q=(localStorage.setItem("clappr","clappr"),localStorage.removeItem("clappr"),!0)}catch(p){q=!1}c.hasLocalstorage=q;try{var u=!!new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(p){u=!(!navigator.mimeTypes||void 0===navigator.mimeTypes["application/x-shockwave-flash"]||!navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)}c.hasFlash=
u;c.name=v.name;c.version=v.version;t["default"]=c;w.exports=t["default"]},function(w,t,c){function v(c,g){if("function"!=typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function, not "+typeof g);c.prototype=Object.create(g&&g.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});g&&(Object.setPrototypeOf?Object.setPrototypeOf(c,g):c.__proto__=g)}Object.defineProperty(t,"__esModule",{value:!0});var m=function(){function c(c,g){for(var h=0;h<
g.length;h++){var e=g[h];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(c,e.key,e)}}return function(g,p,h){return p&&c(g.prototype,p),h&&c(g,h),g}}(),g=c(1);c=c(0);c=function(c){function u(){var p=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");var h=c.call(this,p);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
h=!h||"object"!=typeof h&&"function"!=typeof h?this:h;return h._options=p,h.uniqueId=(0,g.uniqueId)("o"),h}return v(u,c),m(u,[{key:"options",get:function(){return this._options}}]),u}((c&&c.__esModule?c:{"default":c})["default"]);t["default"]=c;w.exports=t["default"]},function(w,t,c){function v(e){return e&&e.__esModule?e:{"default":e}}function m(e,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);e.prototype=Object.create(b&&
b.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(e,b):e.__proto__=b)}Object.defineProperty(t,"__esModule",{value:!0});var g=function(){function e(b,e){for(var k=0;k<e.length;k++){var r=e[k];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(b,r.key,r)}}return function(b,n,k){return n&&e(b.prototype,n),k&&e(b,k),b}}(),q=c(1),u=c(3),p=v(u),u=c(107),h=v(u);c=c(8);c=function(e){function b(n){if(!(this instanceof
b))throw new TypeError("Cannot call a class as a function");n=e.call(this,n);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");n=!n||"object"!=typeof n&&"function"!=typeof n?this:n;return n.cid=(0,q.uniqueId)("c"),n._ensureElement(),n.delegateEvents(),n}return m(b,e),g(b,[{key:"tagName",get:function(){return"div"}},{key:"events",get:function(){return{}}},{key:"attributes",get:function(){return{}}}]),b.prototype.$=function(b){return this.$el.find(b)},b.prototype.render=
function(){return this},b.prototype.remove=function(){return this.$el.remove(),this.stopListening(),this.undelegateEvents(),this},b.prototype.setElement=function(b,e){return this.$el&&this.undelegateEvents(),this.$el=b instanceof p["default"]?b:(0,p["default"])(b),this.el=this.$el[0],!1!==e&&this.delegateEvents(),this},b.prototype.delegateEvents=function(b){if(!b&&!(b=(0,h["default"])(this,"events")))return this;this.undelegateEvents();for(var e in b){var r=b[e];if(r&&r.constructor!==Function&&(r=
this[b[e]]),r){var l=e.match(/^(\S+)\s*(.*)$/),d=l[1],l=l[2],d=d+(".delegateEvents"+this.cid);""===l?this.$el.on(d,r.bind(this)):this.$el.on(d,l,r.bind(this))}}return this},b.prototype.undelegateEvents=function(){return this.$el.off(".delegateEvents"+this.cid),this},b.prototype._ensureElement=function(){if(this.el)this.setElement((0,h["default"])(this,"el"),!1);else{var b=p["default"].extend({},(0,h["default"])(this,"attributes"));this.id&&(b.id=(0,h["default"])(this,"id"));this.className&&(b["class"]=
(0,h["default"])(this,"className"));b=q.DomRecycler.create((0,h["default"])(this,"tagName")).attr(b);this.setElement(b,!1)}},b}(v(c)["default"]);t["default"]=c;w.exports=t["default"]},function(w,t,c){Object.defineProperty(t,"__esModule",{value:!0});c=c(0);var v=new (c&&c.__esModule?c:{"default":c})["default"];c=function g(){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");};t["default"]=c;c.on=function(c,q,u){v.on(c,q,u)};c.once=function(c,q,u){v.once(c,q,u)};c.off=
function(c,q,u){v.off(c,q,u)};c.trigger=function(c){for(var g=arguments.length,u=Array(1<g?g-1:0),p=1;p<g;p++)u[p-1]=arguments[p];v.trigger.apply(v,[c].concat(u))};c.stopListening=function(c,q,u){v.stopListening(c,q,u)};w.exports=t["default"]},function(w,t,c){function v(c,g){if("function"!=typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function, not "+typeof g);c.prototype=Object.create(g&&g.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});
g&&(Object.setPrototypeOf?Object.setPrototypeOf(c,g):c.__proto__=g)}Object.defineProperty(t,"__esModule",{value:!0});var m=c(1);c=c(8);var g=function(c){function g(p){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");var h=c.call(this,p.options);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");h=!h||"object"!=typeof h&&"function"!=typeof h?this:h;return h.core=p,h.enabled=!0,h.bindEvents(),h}return v(g,c),g.prototype.bindEvents=
function(){},g.prototype.enable=function(){this.enabled||(this.bindEvents(),this.enabled=!0)},g.prototype.disable=function(){this.enabled&&(this.stopListening(),this.enabled=!1)},g.prototype.getExternalInterface=function(){return{}},g.prototype.destroy=function(){this.stopListening()},g}((c&&c.__esModule?c:{"default":c})["default"]);t["default"]=g;g.extend=function(c){return(0,m.extend)(g,c)};g.type="core";w.exports=t["default"]},function(w,t){var c=function(){return this}();try{c=c||Function("return this")()||
(0,eval)("this")}catch(v){"object"==typeof window&&(c=window)}w.exports=c},function(w,t,c){function v(c,g){if("function"!=typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function, not "+typeof g);c.prototype=Object.create(g&&g.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});g&&(Object.setPrototypeOf?Object.setPrototypeOf(c,g):c.__proto__=g)}Object.defineProperty(t,"__esModule",{value:!0});var m=c(8),m=m&&m.__esModule?m:{"default":m},g=
c(1),q=function(c){function g(h){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");var e=c.call(this,h.options);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");e=!e||"object"!=typeof e&&"function"!=typeof e?this:e;return e.container=h,e.enabled=!0,e.bindEvents(),e}return v(g,c),g.prototype.enable=function(){this.enabled||(this.bindEvents(),this.enabled=!0)},g.prototype.disable=function(){this.enabled&&(this.stopListening(),
this.enabled=!1)},g.prototype.bindEvents=function(){},g.prototype.destroy=function(){this.stopListening()},g}(m["default"]);t["default"]=q;q.extend=function(c){return(0,g.extend)(q,c)};q.type="container";w.exports=t["default"]},function(w,t,c){function v(c,g){if("function"!=typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function, not "+typeof g);c.prototype=Object.create(g&&g.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});g&&(Object.setPrototypeOf?
Object.setPrototypeOf(c,g):c.__proto__=g)}Object.defineProperty(t,"__esModule",{value:!0});var m=c(1);c=c(9);var g=function(c){function g(p){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");var h=c.call(this,p.options);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");h=!h||"object"!=typeof h&&"function"!=typeof h?this:h;return h.container=p,h.enabled=!0,h.bindEvents(),h}return v(g,c),g.prototype.enable=function(){this.enabled||
(this.bindEvents(),this.$el.show(),this.enabled=!0)},g.prototype.disable=function(){this.stopListening();this.$el.hide();this.enabled=!1},g.prototype.bindEvents=function(){},g.prototype.destroy=function(){this.remove()},g}((c&&c.__esModule?c:{"default":c})["default"]);t["default"]=g;g.extend=function(c){return(0,m.extend)(g,c)};g.type="container";w.exports=t["default"]},function(w,t,c){Object.defineProperty(t,"__esModule",{value:!0});var v=function g(){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");
this.options={};this.playbackPlugins=[];this.currentSize={width:0,height:0}};v._players={};v.getInstance=function(c){return v._players[c]||(v._players[c]=new v)};t["default"]=v;w.exports=t["default"]},function(w,t,c){w.exports=c(54)},function(w,t,c){function v(c,g){if("function"!=typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function, not "+typeof g);c.prototype=Object.create(g&&g.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});g&&(Object.setPrototypeOf?
Object.setPrototypeOf(c,g):c.__proto__=g)}Object.defineProperty(t,"__esModule",{value:!0});var m=c(1);c=c(9);var g=function(c){function g(p){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");var h=c.call(this,p.options);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");h=!h||"object"!=typeof h&&"function"!=typeof h?this:h;return h.core=p,h.enabled=!0,h.bindEvents(),h.render(),h}return v(g,c),g.prototype.bindEvents=function(){},
g.prototype.getExternalInterface=function(){return{}},g.prototype.enable=function(){this.enabled||(this.bindEvents(),this.$el.show(),this.enabled=!0)},g.prototype.disable=function(){this.stopListening();this.$el.hide();this.enabled=!1},g.prototype.destroy=function(){this.remove()},g.prototype.render=function(){return this},g}((c&&c.__esModule?c:{"default":c})["default"]);t["default"]=g;g.extend=function(c){return(0,m.extend)(g,c)};g.type="core";w.exports=t["default"]},function(w,t,c){Object.defineProperty(t,
"__esModule",{value:!0});t["default"]=c(48);w.exports=t["default"]},function(w,t,c){w.exports=c(66)},function(w,t,c){Object.defineProperty(t,"__esModule",{value:!0});c=c(78);t["default"]={Kibo:(c&&c.__esModule?c:{"default":c})["default"]};w.exports=t["default"]},function(w,t){function c(){throw Error("setTimeout has not been defined");}function v(){throw Error("clearTimeout has not been defined");}function m(a){if(b===setTimeout)return setTimeout(a,0);if((b===c||!b)&&setTimeout)return b=setTimeout,
setTimeout(a,0);try{return b(a,0)}catch(f){try{return b.call(null,a,0)}catch(H){return b.call(this,a,0)}}}function g(a){if(n===clearTimeout)return clearTimeout(a);if((n===v||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(a);try{return n(a)}catch(f){try{return n.call(null,a)}catch(H){return n.call(this,a)}}}function q(){l&&k&&(l=!1,k.length?r=k.concat(r):d=-1,r.length&&u())}function u(){if(!l){var a=m(q);l=!0;for(var f=r.length;f;){k=r;for(r=[];++d<f;)k&&k[d].run();d=-1;f=r.length}k=null;l=!1;
g(a)}}function p(a,f){this.fun=a;this.array=f}function h(){}var e=w.exports={};try{var b="function"==typeof setTimeout?setTimeout:c}catch(a){b=c}try{var n="function"==typeof clearTimeout?clearTimeout:v}catch(a){n=v}!0;var k,r=[],l=!1,d=-1;e.nextTick=function(a){var f=Array(arguments.length-1);if(1<arguments.length)for(var d=1;d<arguments.length;d++)f[d-1]=arguments[d];r.push(new p(a,f));1!==r.length||l||m(u)};p.prototype.run=function(){this.fun.apply(null,this.array)};e.title="browser";e.browser=
!0;e.env={};e.argv=[];e.version="";e.versions={};e.on=h;e.addListener=h;e.once=h;e.off=h;e.removeListener=h;e.removeAllListeners=h;e.emit=h;e.binding=function(a){throw Error("process.binding is not supported");};e.cwd=function(){return"/"};e.chdir=function(a){throw Error("process.chdir is not supported");};e.umask=function(){return 0}},function(w,t){w.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill="#010101" d="M1.425.35L14.575 8l-13.15 7.65V.35z"></path></svg>'},function(w,
t){w.exports=function(c){return c.webpackPolyfill||(c.deprecate=function(){},c.paths=[],c.children||(c.children=[]),Object.defineProperty(c,"loaded",{enumerable:!0,get:function(){return c.l}}),Object.defineProperty(c,"id",{enumerable:!0,get:function(){return c.i}}),c.webpackPolyfill=1),c}},function(w,t,c){w.exports=c(39)},function(w,t,c){w.exports=c(42)},function(w,t,c){w.exports=c(45)},function(w,t,c){w.exports=c(46)},function(w,t,c){w.exports=c(49)},function(w,t,c){w.exports=c(50)},function(w,t,
c){w.exports=c(52)},function(w,t,c){w.exports=c(53)},function(w,t,c){w.exports=c(55)},function(w,t,c){w.exports=c(56)},function(w,t,c){w.exports=c(67)},function(w,t,c){(function(c,m){function g(a,f){return a.set(f[0],f[1]),a}function q(a,f){return a.add(f),a}function u(a,f,d){switch(d.length){case 0:return a.call(f);case 1:return a.call(f,d[0]);case 2:return a.call(f,d[0],d[1]);case 3:return a.call(f,d[0],d[1],d[2])}return a.apply(f,d)}function p(a,f){for(var d=-1,b=a?a.length:0;++d<b&&!1!==f(a[d],
d,a););return a}function h(a,f,d,b){var e=-1,l=a?a.length:0;for(b&&l&&(d=a[++e]);++e<l;)d=f(d,a[e],e,a);return d}function e(a){var f=!1;if(null!=a&&"function"!=typeof a.toString)try{f=!!(a+"")}catch(Gb){}return f}function b(a){var f=-1,d=Array(a.size);return a.forEach(function(a,b){d[++f]=[b,a]}),d}function n(a,f){return function(d){return a(f(d))}}function k(a){var f=-1,d=Array(a.size);return a.forEach(function(a){d[++f]=a}),d}function r(a){var f=-1,d=a?a.length:0;for(this.clear();++f<d;){var b=
a[f];this.set(b[0],b[1])}}function l(a){var f=-1,d=a?a.length:0;for(this.clear();++f<d;){var b=a[f];this.set(b[0],b[1])}}function d(a){var f=-1,d=a?a.length:0;for(this.clear();++f<d;){var b=a[f];this.set(b[0],b[1])}}function a(a){this.__data__=new l(a)}function f(a,f){if(hb(a)||da(a)){var d=a.length;for(var b=String,e=-1,l=Array(d);++e<d;)l[e]=b(e);d=l}else d=[];var b=d.length,e=!!b,r;for(r in a)!f&&!fa.call(a,r)||e&&("length"==r||U(r,b))||d.push(r);return d}function H(a,f,d){(void 0===d||aa(a[f],
d))&&("number"!=typeof f||void 0!==d||f in a)||(a[f]=d)}function D(a,f,d){var b=a[f];fa.call(a,f)&&aa(b,d)&&(void 0!==d||f in a)||(a[f]=d)}function y(a,f){for(var d=a.length;d--;)if(aa(a[d][0],f))return d;return-1}function z(a,f){return a&&J(f,Ca(f),a)}function x(f,d,b,l,r,k,y){var n,h;if(l&&(h=k?l(f,r,k,y):l(f)),void 0!==h)return h;if(!ia(f))return f;if(r=hb(f)){if(h=I(f),!d)return M(f,h)}else{var c=bb(f),H=c==La||c==W;if(Ab(f))return w(f,d);if(c==ca||c==Fa||H&&!k){if(e(f))return k?f:{};if(h=K(H?
{}:f),!d)return B(f,z(h,f))}else{if(!R[c])return k?f:{};h=T(f,c,x,d)}}y||(y=new a);if(k=y.get(f))return k;(y.set(f,h),r)||(n=b?A(f,Ca,tb):Ca(f));return p(n||f,function(a,e){n&&(e=a,a=f[e]);D(h,e,x(a,d,b,l,e,f,y))}),h}function A(a,f,d){f=f(a);if(!hb(a)){a=d(a);d=-1;for(var b=a.length,e=f.length;++d<b;)f[e+d]=a[d]}return f}function L(a){return ha(a)&&ea(a.length)&&!!X[ba.call(a)]}function C(a){if(!ia(a)){var f=[];if(null!=a)for(var d in Object(a))f.push(d);return f}d=Y(a);var b=[];for(f in a)("constructor"!=
f||!d&&fa.call(a,f))&&b.push(f);return b}function v(d,b,l,r,k){var y;d!==b&&(hb(b)||ub(b)||(y=C(b)),p(y||b,function(n,h){if(y&&(h=n,n=b[h]),ia(n)){k||(k=new a);var c=h,z=k,g=d[c],B=b[c],A=z.get(B);if(A)H(d,c,A);else{var p=r?r(g,B,c+"",d,b,z):void 0;if(A=void 0===p)if(p=B,hb(B)||ub(B))hb(g)?p=g:pa(g)?p=M(g):(A=!1,p=x(B,!0));else{if(!ha(B)||ba.call(B)!=ca||e(B))var m=!1;else m=Ma(B),null===m?m=!0:(m=fa.call(m,"constructor")&&m.constructor,m="function"==typeof m&&m instanceof m&&Na.call(m)==ib);m||da(B)?
da(g)?(p=Z(g)?f(g,!0):C(g),p=J(g,p)):!ia(g)||l&&Q(g)?(A=!1,p=x(B,!0)):p=g:A=!1}A&&(z.set(B,p),v(p,B,l,r,z),z["delete"](B));H(d,c,p)}}else c=r?r(d[h],n,h+"",d,b,k):void 0,void 0===c&&(c=n),H(d,h,c)}))}function P(a,f){return f=jb(void 0===f?a.length-1:f,0),function(){for(var d=arguments,b=-1,e=jb(d.length-f,0),l=Array(e);++b<e;)l[b]=d[f+b];b=-1;for(e=Array(f+1);++b<f;)e[b]=d[b];return e[f]=l,u(a,this,e)}}function w(a,f){if(f)return a.slice();var d=new a.constructor(a.length);return a.copy(d),d}function G(a){var f=
new a.constructor(a.byteLength);return(new Oa(f)).set(new Oa(a)),f}function M(a,f){var d=-1,b=a.length;for(f||(f=Array(b));++d<b;)f[d]=a[d];return f}function J(a,f,d,b){d||(d={});for(var e=-1,l=f.length;++e<l;){var r=f[e],k=b?b(d[r],a[r],r,d,a):void 0;D(d,r,void 0===k?a[r]:k)}return d}function B(a,f){return J(a,tb(a),f)}function O(a,f){var d=a.__data__,b=typeof f;return("string"==b||"number"==b||"symbol"==b||"boolean"==b?"__proto__"!==f:null===f)?d["string"==typeof f?"string":"hash"]:d.map}function N(a,
f){var d=null==a?void 0:a[f];return!ia(d)||cb&&cb in d||!(Q(d)||e(d)?Pa:kb).test(S(d))?void 0:d}function I(a){var f=a.length,d=a.constructor(f);return f&&"string"==typeof a[0]&&fa.call(a,"index")&&(d.index=a.index,d.input=a.input),d}function K(a){"function"!=typeof a.constructor||Y(a)?a={}:(a=Ma(a),a=ia(a)?pb(a):{});return a}function T(a,f,d,e){var l=a.constructor;switch(f){case qa:return G(a);case ka:case Ka:return new l(+a);case va:return f=e?G(a.buffer):a.buffer,new a.constructor(f,a.byteOffset,
a.byteLength);case Ua:case wa:case ra:case Va:case ga:case Wa:case Xa:case db:case V:return f=e?G(a.buffer):a.buffer,new a.constructor(f,a.byteOffset,a.length);case ta:return h(e?d(b(a),!0):b(a),g,new a.constructor);case Ta:case la:return new l(a);case ua:return f=new a.constructor(a.source,Qa.exec(a)),f.lastIndex=a.lastIndex,f;case xa:return h(e?d(k(a),!0):k(a),q,new a.constructor);case Ra:return vb?Object(vb.call(a)):{}}}function U(a,f){return!!(f=null==f?Sa:f)&&("number"==typeof a||ma.test(a))&&
-1<a&&0==a%1&&a<f}function Y(a){var f=a&&a.constructor;return a===("function"==typeof f&&f.prototype||Ya)}function S(a){if(null!=a){try{return Na.call(a)}catch(Fb){}return a+""}return""}function aa(a,f){return a===f||a!==a&&f!==f}function da(a){return pa(a)&&fa.call(a,"callee")&&(!qb.call(a,"callee")||ba.call(a)==Fa)}function Z(a){return null!=a&&ea(a.length)&&!Q(a)}function pa(a){return ha(a)&&Z(a)}function Q(a){a=ia(a)?ba.call(a):"";return a==La||a==W}function ea(a){return"number"==typeof a&&-1<
a&&0==a%1&&a<=Sa}function ia(a){var f=typeof a;return!!a&&("object"==f||"function"==f)}function ha(a){return!!a&&"object"==typeof a}function Ca(a){if(Z(a))a=f(a);else if(Y(a)){var d=[],b;for(b in Object(a))fa.call(a,b)&&"constructor"!=b&&d.push(b);a=d}else a=lb(a);return a}function Da(){return[]}function Ea(){return!1}var Sa=9007199254740991,Fa="[object Arguments]",ka="[object Boolean]",Ka="[object Date]",La="[object Function]",W="[object GeneratorFunction]",ta="[object Map]",Ta="[object Number]",
ca="[object Object]",ua="[object RegExp]",xa="[object Set]",la="[object String]",Ra="[object Symbol]",qa="[object ArrayBuffer]",va="[object DataView]",Ua="[object Float32Array]",wa="[object Float64Array]",ra="[object Int8Array]",Va="[object Int16Array]",ga="[object Int32Array]",Wa="[object Uint8Array]",Xa="[object Uint8ClampedArray]",db="[object Uint16Array]",V="[object Uint32Array]",Qa=/\w*$/,kb=/^\[object .+?Constructor\]$/,ma=/^(?:0|[1-9]\d*)$/,X={};X[Ua]=X[wa]=X[ra]=X[Va]=X[ga]=X[Wa]=X[Xa]=X[db]=
X[V]=!0;X[Fa]=X["[object Array]"]=X[qa]=X[ka]=X[va]=X[Ka]=X["[object Error]"]=X[La]=X[ta]=X[Ta]=X[ca]=X[ua]=X[xa]=X[la]=X["[object WeakMap]"]=!1;var R={};R[Fa]=R["[object Array]"]=R[qa]=R[va]=R[ka]=R[Ka]=R[Ua]=R[wa]=R[ra]=R[Va]=R[ga]=R[ta]=R[Ta]=R[ca]=R[ua]=R[xa]=R[la]=R[Ra]=R[Wa]=R[Xa]=R[db]=R[V]=!0;R["[object Error]"]=R[La]=R["[object WeakMap]"]=!1;var Za="object"==typeof c&&c&&c.Object===Object&&c,eb="object"==typeof self&&self&&self.Object===Object&&self,ja=Za||eb||Function("return this")(),$a=
"object"==typeof t&&t&&!t.nodeType&&t,Ga=$a&&"object"==typeof m&&m&&!m.nodeType&&m,ya=Ga&&Ga.exports===$a,Ha=ya&&Za.process;a:{try{var Ia=Ha&&Ha.binding("util");break a}catch(Eb){}Ia=void 0}var za=Ia&&Ia.isTypedArray,na=Array.prototype,Ja=Function.prototype,Ya=Object.prototype,ab=ja["__core-js_shared__"],cb=function(){var a=/[^.]+$/.exec(ab&&ab.keys&&ab.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),Na=Ja.toString,fa=Ya.hasOwnProperty,ib=Na.call(Object),ba=Ya.toString,Pa=RegExp("^"+Na.call(fa).replace(/[\\^$.*+?()[\]{}|]/g,
"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Aa=ya?ja.Buffer:void 0,oa=ja.Symbol,Oa=ja.Uint8Array,Ma=n(Object.getPrototypeOf,Object),pb=Object.create,qb=Ya.propertyIsEnumerable,rb=na.splice,nb=Object.getOwnPropertySymbols,sb=Aa?Aa.isBuffer:void 0,lb=n(Object.keys,Object),jb=Math.max,mb=N(ja,"DataView"),fb=N(ja,"Map"),sa=N(ja,"Promise"),ob=N(ja,"Set"),Ba=N(ja,"WeakMap"),gb=N(Object,"create"),wb=S(mb),xb=S(fb),yb=S(sa),Bb=S(ob),Cb=S(Ba),zb=oa?oa.prototype:void 0,
vb=zb?zb.valueOf:void 0;r.prototype.clear=function(){this.__data__=gb?gb(null):{}};r.prototype["delete"]=function(a){return this.has(a)&&delete this.__data__[a]};r.prototype.get=function(a){var f=this.__data__;return gb?(a=f[a],"__lodash_hash_undefined__"===a?void 0:a):fa.call(f,a)?f[a]:void 0};r.prototype.has=function(a){var f=this.__data__;return gb?void 0!==f[a]:fa.call(f,a)};r.prototype.set=function(a,f){return this.__data__[a]=gb&&void 0===f?"__lodash_hash_undefined__":f,this};l.prototype.clear=
function(){this.__data__=[]};l.prototype["delete"]=function(a){var f=this.__data__;a=y(f,a);return!(0>a)&&(a==f.length-1?f.pop():rb.call(f,a,1),!0)};l.prototype.get=function(a){var f=this.__data__;a=y(f,a);return 0>a?void 0:f[a][1]};l.prototype.has=function(a){return-1<y(this.__data__,a)};l.prototype.set=function(a,f){var d=this.__data__,b=y(d,a);return 0>b?d.push([a,f]):d[b][1]=f,this};d.prototype.clear=function(){this.__data__={hash:new r,map:new (fb||l),string:new r}};d.prototype["delete"]=function(a){return O(this,
a)["delete"](a)};d.prototype.get=function(a){return O(this,a).get(a)};d.prototype.has=function(a){return O(this,a).has(a)};d.prototype.set=function(a,f){return O(this,a).set(a,f),this};a.prototype.clear=function(){this.__data__=new l};a.prototype["delete"]=function(a){return this.__data__["delete"](a)};a.prototype.get=function(a){return this.__data__.get(a)};a.prototype.has=function(a){return this.__data__.has(a)};a.prototype.set=function(a,f){var b=this.__data__;if(b instanceof l){b=b.__data__;if(!fb||
199>b.length)return b.push([a,f]),this;b=this.__data__=new d(b)}return b.set(a,f),this};var tb=nb?n(nb,Object):Da,bb=function(a){return ba.call(a)};(mb&&bb(new mb(new ArrayBuffer(1)))!=va||fb&&bb(new fb)!=ta||sa&&"[object Promise]"!=bb(sa.resolve())||ob&&bb(new ob)!=xa||Ba&&"[object WeakMap]"!=bb(new Ba))&&(bb=function(a){var f=ba.call(a);if(a=(a=f==ca?a.constructor:void 0)?S(a):void 0)switch(a){case wb:return va;case xb:return ta;case yb:return"[object Promise]";case Bb:return xa;case Cb:return"[object WeakMap]"}return f});
var hb=Array.isArray,Ab=sb||Ea,ub=za?function(a){return function(f){return a(f)}}(za):L,Db=function(a){return P(function(f,d){var b=-1,e=d.length,l=1<e?d[e-1]:void 0,r=2<e?d[2]:void 0,l=3<a.length&&"function"==typeof l?(e--,l):void 0,k;if(k=r){k=d[0];var y=d[1];if(ia(r)){var n=typeof y;k=!!("number"==n?Z(r)&&U(y,r.length):"string"==n&&y in r)&&aa(r[y],k)}else k=!1}k&&(l=3>e?void 0:l,e=1);for(f=Object(f);++b<e;)(r=d[b])&&a(f,r,b,l);return f})}(function(a,f,d){v(a,f,d)});m.exports=Db}).call(t,c(12),
c(23)(w))},function(w,t){w.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" fill="#010101" d="M1.712 14.76H6.43V1.24H1.71v13.52zm7.86-13.52v13.52h4.716V1.24H9.573z"></path></svg>'},function(w,t,c){w.exports=c.p+"a8c874b93b3d848f39a71260c57e3863.cur"},function(w,t,c){function v(d){return d&&d.__esModule?d:{"default":d}}function m(d,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+
typeof a);d.prototype=Object.create(a&&a.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(d,a):d.__proto__=a)}Object.defineProperty(t,"__esModule",{value:!0});var g=function(){function d(a,f){for(var d=0;d<f.length;d++){var b=f[d];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(a,b.key,b)}}return function(a,f,b){return f&&d(a.prototype,f),b&&d(a,b),a}}(),q=c(1),u=c(8),u=v(u),
p=c(0),h=v(p),p=c(7),e=v(p),p=c(44),b=v(p),p=c(26),n=v(p),p=c(15),k=v(p);c=c(3);var r=v(c),l=(0,q.currentScriptUrl)().replace(/\/[^\/]+$/,"");c=function(d){function a(f){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");var n=d.call(this,f);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");n=!n||"object"!=typeof n&&"function"!=typeof n?this:n;var h={playerId:(0,q.uniqueId)(""),persistConfig:!0,width:640,height:360,baseUrl:l,
allowUserInteraction:e["default"].isMobile};return n._options=r["default"].extend(h,f),n.options.sources=n._normalizeSources(f),n.options.chromeless||(n.options.allowUserInteraction=!0),n.options.allowUserInteraction||(n.options.disableKeyboardShortcuts=!0),n._registerOptionEventListeners(),n._coreFactory=new b["default"](n),n.playerInfo=k["default"].getInstance(n.options.playerId),n.playerInfo.currentSize={width:f.width,height:f.height},n.playerInfo.options=n.options,n.options.parentId?n.setParentId(n.options.parentId):
n.options.parent&&n.attachTo(n.options.parent),n}return m(a,d),g(a,[{key:"loader",set:function(a){this._loader=a},get:function(){return this._loader||(this._loader=new n["default"](this.options.plugins||{},this.options.playerId)),this._loader}},{key:"ended",get:function(){return this.core.mediaControl.container.ended}},{key:"buffering",get:function(){return this.core.mediaControl.container.buffering}},{key:"isReady",get:function(){return!!this._ready}},{key:"eventsMapping",get:function(){return{onReady:h["default"].PLAYER_READY,
onResize:h["default"].PLAYER_RESIZE,onPlay:h["default"].PLAYER_PLAY,onPause:h["default"].PLAYER_PAUSE,onStop:h["default"].PLAYER_STOP,onEnded:h["default"].PLAYER_ENDED,onSeek:h["default"].PLAYER_SEEK,onError:h["default"].PLAYER_ERROR,onTimeUpdate:h["default"].PLAYER_TIMEUPDATE,onVolumeUpdate:h["default"].PLAYER_VOLUMEUPDATE}}}]),a.prototype.setParentId=function(a){a=document.querySelector(a);return a&&this.attachTo(a),this},a.prototype.attachTo=function(a){return this.options.parentElement=a,this.core=
this._coreFactory.create(),this._addEventListeners(),this},a.prototype._addEventListeners=function(){return this.core.isReady?this._onReady():this.listenToOnce(this.core,h["default"].CORE_READY,this._onReady),this.listenTo(this.core.mediaControl,h["default"].MEDIACONTROL_CONTAINERCHANGED,this._containerChanged),this.listenTo(this.core,h["default"].CORE_FULLSCREEN,this._onFullscreenChange),this},a.prototype._addContainerEventListeners=function(){var a=this.core.mediaControl.container;return a&&(this.listenTo(a,
h["default"].CONTAINER_PLAY,this._onPlay),this.listenTo(a,h["default"].CONTAINER_PAUSE,this._onPause),this.listenTo(a,h["default"].CONTAINER_STOP,this._onStop),this.listenTo(a,h["default"].CONTAINER_ENDED,this._onEnded),this.listenTo(a,h["default"].CONTAINER_SEEK,this._onSeek),this.listenTo(a,h["default"].CONTAINER_ERROR,this._onError),this.listenTo(a,h["default"].CONTAINER_TIMEUPDATE,this._onTimeUpdate),this.listenTo(a,h["default"].CONTAINER_VOLUME,this._onVolumeUpdate)),this},a.prototype._registerOptionEventListeners=
function(){var a=this,d=this.options.events||{};return Object.keys(d).forEach(function(f){var b=a.eventsMapping[f];b&&(f=d[f],(f="function"==typeof f&&f)&&a.on(b,f))}),this},a.prototype._containerChanged=function(){this.stopListening();this._addEventListeners()},a.prototype._onReady=function(){this._ready=!0;this._addContainerEventListeners();this.trigger(h["default"].PLAYER_READY)},a.prototype._onFullscreenChange=function(a){this.trigger(h["default"].PLAYER_FULLSCREEN,a)},a.prototype._onVolumeUpdate=
function(a){this.trigger(h["default"].PLAYER_VOLUMEUPDATE,a)},a.prototype._onPlay=function(){this.trigger(h["default"].PLAYER_PLAY)},a.prototype._onPause=function(){this.trigger(h["default"].PLAYER_PAUSE)},a.prototype._onStop=function(){this.trigger(h["default"].PLAYER_STOP,this.getCurrentTime())},a.prototype._onEnded=function(){this.trigger(h["default"].PLAYER_ENDED)},a.prototype._onSeek=function(a){this.trigger(h["default"].PLAYER_SEEK,a)},a.prototype._onTimeUpdate=function(a){this.trigger(h["default"].PLAYER_TIMEUPDATE,
a)},a.prototype._onError=function(a){this.trigger(h["default"].PLAYER_ERROR,a)},a.prototype._normalizeSources=function(a){a=a.sources||(void 0!==a.source?[a.source]:[]);return 0===a.length?[{source:"",mimeType:""}]:a},a.prototype.resize=function(a){return this.core.resize(a),this},a.prototype.load=function(a,d,b){return void 0!==b&&this.configure({autoPlay:!!b}),this.core.load(a,d),this},a.prototype.destroy=function(){return this.core.destroy(),this},a.prototype.consent=function(){return this.core.getCurrentPlayback().consent(),
this},a.prototype.play=function(){return this.core.mediaControl.container.play(),this},a.prototype.pause=function(){return this.core.mediaControl.container.pause(),this},a.prototype.stop=function(){return this.core.mediaControl.container.stop(),this},a.prototype.seek=function(a){return this.core.mediaControl.container.seek(a),this},a.prototype.seekPercentage=function(a){return this.core.mediaControl.container.seekPercentage(a),this},a.prototype.setVolume=function(a){return this.core&&this.core.mediaControl&&
this.core.mediaControl.setVolume(a),this},a.prototype.getVolume=function(){return this.core&&this.core.mediaControl?this.core.mediaControl.volume:0},a.prototype.mute=function(){return this._mutedVolume=this.getVolume(),this.setVolume(0),this},a.prototype.unmute=function(){return this.setVolume("number"==typeof this._mutedVolume?this._mutedVolume:100),this._mutedVolume=null,this},a.prototype.isPlaying=function(){return this.core.mediaControl.container.isPlaying()},a.prototype.isDvrEnabled=function(){return this.core.mediaControl.container.isDvrEnabled()},
a.prototype.isDvrInUse=function(){return this.core.mediaControl.container.isDvrInUse()},a.prototype.configure=function(a){return this.core.configure(a),this},a.prototype.getPlugin=function(a){return this.core.plugins.concat(this.core.mediaControl.container.plugins).filter(function(f){return f.name===a})[0]},a.prototype.getCurrentTime=function(){return this.core.mediaControl.container.getCurrentTime()},a.prototype.getStartTimeOffset=function(){return this.core.mediaControl.container.getStartTimeOffset()},
a.prototype.getDuration=function(){return this.core.mediaControl.container.getDuration()},a}(u["default"]);t["default"]=c;w.exports=t["default"]},function(w,t,c){function v(b){return b&&b.__esModule?b:{"default":b}}function m(b,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);b.prototype=Object.create(e&&e.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(b,
e):b.__proto__=e)}Object.defineProperty(t,"__esModule",{value:!0});var g=function(){function b(b,e){for(var l=0;l<e.length;l++){var d=e[l];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(e,r,l){return r&&b(e.prototype,r),l&&b(e,l),e}}(),q=c(0),u=v(q),q=c(9),q=v(q),p=c(4),h=v(p),p=c(82),e=v(p);c=c(3);var b=v(c);c=function(n){function k(e,l){if(!(this instanceof k))throw new TypeError("Cannot call a class as a function");
var d=n.call(this,e);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");d=!d||"object"!=typeof d&&"function"!=typeof d?this:d;return d._i18n=l,d.currentTime=0,d.volume=100,d.playback=e.playback,d.settings=b["default"].extend({},d.playback.settings),d.isReady=!1,d.mediaControlDisabled=!1,d.plugins=[d.playback],d.bindEvents(),d}return m(k,n),g(k,[{key:"name",get:function(){return"Container"}},{key:"attributes",get:function(){return{"class":"container","data-container":""}}},
{key:"events",get:function(){return{click:"clicked",dblclick:"dblClicked",doubleTap:"dblClicked",contextmenu:"onContextMenu",mouseenter:"mouseEnter",mouseleave:"mouseLeave"}}},{key:"ended",get:function(){return this.playback.ended}},{key:"buffering",get:function(){return this.playback.buffering}},{key:"i18n",get:function(){return this._i18n}}]),k.prototype.bindEvents=function(){this.listenTo(this.playback,u["default"].PLAYBACK_PROGRESS,this.progress);this.listenTo(this.playback,u["default"].PLAYBACK_TIMEUPDATE,
this.timeUpdated);this.listenTo(this.playback,u["default"].PLAYBACK_READY,this.ready);this.listenTo(this.playback,u["default"].PLAYBACK_BUFFERING,this.onBuffering);this.listenTo(this.playback,u["default"].PLAYBACK_BUFFERFULL,this.bufferfull);this.listenTo(this.playback,u["default"].PLAYBACK_SETTINGSUPDATE,this.settingsUpdate);this.listenTo(this.playback,u["default"].PLAYBACK_LOADEDMETADATA,this.loadedMetadata);this.listenTo(this.playback,u["default"].PLAYBACK_HIGHDEFINITIONUPDATE,this.highDefinitionUpdate);
this.listenTo(this.playback,u["default"].PLAYBACK_BITRATE,this.updateBitrate);this.listenTo(this.playback,u["default"].PLAYBACK_PLAYBACKSTATE,this.playbackStateChanged);this.listenTo(this.playback,u["default"].PLAYBACK_DVR,this.playbackDvrStateChanged);this.listenTo(this.playback,u["default"].PLAYBACK_MEDIACONTROL_DISABLE,this.disableMediaControl);this.listenTo(this.playback,u["default"].PLAYBACK_MEDIACONTROL_ENABLE,this.enableMediaControl);this.listenTo(this.playback,u["default"].PLAYBACK_ENDED,
this.onEnded);this.listenTo(this.playback,u["default"].PLAYBACK_PLAY,this.playing);this.listenTo(this.playback,u["default"].PLAYBACK_PAUSE,this.paused);this.listenTo(this.playback,u["default"].PLAYBACK_STOP,this.stopped);this.listenTo(this.playback,u["default"].PLAYBACK_ERROR,this.error)},k.prototype.playbackStateChanged=function(b){this.trigger(u["default"].CONTAINER_PLAYBACKSTATE,b)},k.prototype.playbackDvrStateChanged=function(b){this.settings=this.playback.settings;this.dvrInUse=b;this.trigger(u["default"].CONTAINER_PLAYBACKDVRSTATECHANGED,
b)},k.prototype.updateBitrate=function(b){this.trigger(u["default"].CONTAINER_BITRATE,b)},k.prototype.statsReport=function(b){this.trigger(u["default"].CONTAINER_STATS_REPORT,b)},k.prototype.getPlaybackType=function(){return this.playback.getPlaybackType()},k.prototype.isDvrEnabled=function(){return!!this.playback.dvrEnabled},k.prototype.isDvrInUse=function(){return!!this.dvrInUse},k.prototype.destroy=function(){this.trigger(u["default"].CONTAINER_DESTROYED,this,this.name);this.stopListening();this.plugins.forEach(function(b){return b.destroy()});
this.$el.remove()},k.prototype.setStyle=function(b){this.$el.css(b)},k.prototype.animate=function(b,e){return this.$el.animate(b,e).promise()},k.prototype.ready=function(){this.isReady=!0;this.trigger(u["default"].CONTAINER_READY,this.name)},k.prototype.isPlaying=function(){return this.playback.isPlaying()},k.prototype.getStartTimeOffset=function(){return this.playback.getStartTimeOffset()},k.prototype.getCurrentTime=function(){return this.currentTime},k.prototype.getDuration=function(){return this.playback.getDuration()},
k.prototype.error=function(b){this.isReady||this.ready();this.trigger(u["default"].CONTAINER_ERROR,{error:b,container:this},this.name)},k.prototype.loadedMetadata=function(b){this.trigger(u["default"].CONTAINER_LOADEDMETADATA,b)},k.prototype.timeUpdated=function(b){this.currentTime=b.current;this.trigger(u["default"].CONTAINER_TIMEUPDATE,b,this.name)},k.prototype.progress=function(){for(var b=arguments.length,e=Array(b),d=0;d<b;d++)e[d]=arguments[d];this.trigger.apply(this,[u["default"].CONTAINER_PROGRESS].concat(e,
[this.name]))},k.prototype.playing=function(){this.trigger(u["default"].CONTAINER_PLAY,this.name)},k.prototype.paused=function(){this.trigger(u["default"].CONTAINER_PAUSE,this.name)},k.prototype.play=function(){this.playback.play()},k.prototype.stop=function(){this.playback.stop();this.currentTime=0},k.prototype.pause=function(){this.playback.pause()},k.prototype.onEnded=function(){this.trigger(u["default"].CONTAINER_ENDED,this,this.name);this.currentTime=0},k.prototype.stopped=function(){this.trigger(u["default"].CONTAINER_STOP)},
k.prototype.clicked=function(){this.options.chromeless&&!this.options.allowUserInteraction||this.trigger(u["default"].CONTAINER_CLICK,this,this.name)},k.prototype.dblClicked=function(){this.options.chromeless&&!this.options.allowUserInteraction||this.trigger(u["default"].CONTAINER_DBLCLICK,this,this.name)},k.prototype.onContextMenu=function(b){this.options.chromeless&&!this.options.allowUserInteraction||this.trigger(u["default"].CONTAINER_CONTEXTMENU,b,this.name)},k.prototype.seek=function(b){this.trigger(u["default"].CONTAINER_SEEK,
b,this.name);this.playback.seek(b)},k.prototype.seekPercentage=function(b){var e=this.getDuration();0<=b&&100>=b&&this.seek(b/100*e)},k.prototype.setVolume=function(b){this.volume=parseInt(b,10);this.trigger(u["default"].CONTAINER_VOLUME,b,this.name);this.playback.volume(b)},k.prototype.fullscreen=function(){this.trigger(u["default"].CONTAINER_FULLSCREEN,this.name)},k.prototype.onBuffering=function(){this.trigger(u["default"].CONTAINER_STATE_BUFFERING,this.name)},k.prototype.bufferfull=function(){this.trigger(u["default"].CONTAINER_STATE_BUFFERFULL,
this.name)},k.prototype.addPlugin=function(b){this.plugins.push(b)},k.prototype.hasPlugin=function(b){return!!this.getPlugin(b)},k.prototype.getPlugin=function(b){return this.plugins.filter(function(e){return e.name===b})[0]},k.prototype.mouseEnter=function(){this.options.chromeless&&!this.options.allowUserInteraction||this.trigger(u["default"].CONTAINER_MOUSE_ENTER)},k.prototype.mouseLeave=function(){this.options.chromeless&&!this.options.allowUserInteraction||this.trigger(u["default"].CONTAINER_MOUSE_LEAVE)},
k.prototype.settingsUpdate=function(){this.settings=this.playback.settings;this.trigger(u["default"].CONTAINER_SETTINGSUPDATE)},k.prototype.highDefinitionUpdate=function(b){this.trigger(u["default"].CONTAINER_HIGHDEFINITIONUPDATE,b)},k.prototype.isHighDefinitionInUse=function(){return this.playback.isHighDefinitionInUse()},k.prototype.disableMediaControl=function(){this.mediaControlDisabled||(this.mediaControlDisabled=!0,this.trigger(u["default"].CONTAINER_MEDIACONTROL_DISABLE))},k.prototype.enableMediaControl=
function(){this.mediaControlDisabled&&(this.mediaControlDisabled=!1,this.trigger(u["default"].CONTAINER_MEDIACONTROL_ENABLE))},k.prototype.updateStyle=function(){!this.options.chromeless||this.options.allowUserInteraction?this.$el.removeClass("chromeless"):this.$el.addClass("chromeless")},k.prototype.configure=function(e){this._options=b["default"].extend(this._options,e);this.updateStyle();this.trigger(u["default"].CONTAINER_OPTIONS_CHANGE)},k.prototype.render=function(){var b=h["default"].getStyleFor(e["default"]);
return this.$el.append(b),this.$el.append(this.playback.render().el),this.updateStyle(),this},k}(q["default"]);t["default"]=c;w.exports=t["default"]},function(w,t,c){function v(b){return b&&b.__esModule?b:{"default":b}}function m(b,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);b.prototype=Object.create(e&&e.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(b,
e):b.__proto__=e)}Object.defineProperty(t,"__esModule",{value:!0});var g=function(){function b(b,e){for(var l=0;l<e.length;l++){var d=e[l];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(e,r,l){return r&&b(e.prototype,r),l&&b(e,l),e}}(),q=c(8),q=v(q),u=c(0),p=v(u),u=c(24),h=v(u),u=c(3),e=v(u);c=c(105);var b=v(c);c=function(n){function k(b,e,d){if(!(this instanceof k))throw new TypeError("Cannot call a class as a function");
b=n.call(this,b);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");b=!b||"object"!=typeof b&&"function"!=typeof b?this:b;return b._i18n=d,b.loader=e,b}return m(k,n),g(k,[{key:"options",get:function(){return this._options},set:function(b){this._options=b}}]),k.prototype.createContainers=function(){var b=this;return e["default"].Deferred(function(e){e.resolve(b.options.sources.map(function(d){return b.createContainer(d)}))})},k.prototype.findPlaybackPlugin=
function(b,e){return this.loader.playbackPlugins.filter(function(d){return d.canPlay(b,e)})[0]},k.prototype.createContainer=function(k){var l=null,d=this.options.mimeType;(0,b["default"])(k)?(l=k.source.toString(),k.mimeType&&(d=k.mimeType)):l=k.toString();l.match(/^\/\//)&&(l=window.location.protocol+l);k=e["default"].extend({},this.options,{src:l,mimeType:d});l=new (this.findPlaybackPlugin(l,d))(k,this._i18n);k=e["default"].extend({},k,{playback:l});var a=new h["default"](k,this._i18n),f=e["default"].Deferred();
return f.promise(a),this.addContainerPlugins(a),this.listenToOnce(a,p["default"].CONTAINER_READY,function(){return f.resolve(a)}),a},k.prototype.addContainerPlugins=function(b){this.loader.containerPlugins.forEach(function(e){b.addPlugin(new e(b))})},k}(q["default"]);t["default"]=c;w.exports=t["default"]},function(w,t,c){w.exports=c(40)},function(w,t,c){function v(a){return a&&a.__esModule?a:{"default":a}}function m(a,f){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!f||"object"!=typeof f&&"function"!=typeof f?a:f}function g(a,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);a.prototype=Object.create(f&&f.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});f&&(Object.setPrototypeOf?Object.setPrototypeOf(a,f):a.__proto__=f)}Object.defineProperty(t,"__esModule",{value:!0});var q=function(){function a(a,f){for(var d=0;d<f.length;d++){var b=f[d];b.enumerable=
b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(a,b.key,b)}}return function(f,d,b){return d&&a(f.prototype,d),b&&a(f,b),f}}(),u=c(1),p=c(0),h=v(p),p=c(4),e=v(p),p=c(9),p=v(p),b=c(7),n=v(b),b=c(41),k=v(b),b=c(27),r=v(b),b=c(10),l=v(b),b=c(15),d=v(b),b=c(3),a=v(b);c=c(83);var f=v(c);c=function(b){function c(f){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var e=m(this,b.call(this,f));return e.configureDomRecycler(),e.playerInfo=
d["default"].getInstance(f.playerId),e.firstResize=!0,e.plugins=[],e.containers=[],e.setupMediaControl(null),e._boundFullscreenHandler=function(){return e.handleFullscreenChange()},(0,a["default"])(document).bind("fullscreenchange",e._boundFullscreenHandler),(0,a["default"])(document).bind("MSFullscreenChange",e._boundFullscreenHandler),(0,a["default"])(document).bind("mozfullscreenchange",e._boundFullscreenHandler),e}return g(c,b),q(c,[{key:"events",get:function(){return{webkitfullscreenchange:"handleFullscreenChange",
mousemove:"showMediaControl",mouseleave:"hideMediaControl"}}},{key:"attributes",get:function(){return{"data-player":"",tabindex:9999}}},{key:"isReady",get:function(){return!!this.ready}},{key:"i18n",get:function(){return this.getPlugin("strings")||{t:function(a){return a}}}}]),c.prototype.configureDomRecycler=function(){u.DomRecycler.configure({recycleVideo:!!(this.options&&this.options.playback&&this.options.playback.recycleVideo)})},c.prototype.createContainers=function(f){var d=this;this.defer=
a["default"].Deferred();this.defer.promise(this);this.containerFactory=new k["default"](f,f.loader,this.i18n);this.containerFactory.createContainers().then(function(a){return d.setupContainers(a)}).then(function(a){return d.resolveOnContainersReady(a)})},c.prototype.updateSize=function(){u.Fullscreen.isFullscreen()?this.setFullscreen():this.setPlayerSize()},c.prototype.setFullscreen=function(){n["default"].isiOS||(this.$el.addClass("fullscreen"),this.$el.removeAttr("style"),this.playerInfo.previousSize=
{width:this.options.width,height:this.options.height},this.playerInfo.currentSize={width:(0,a["default"])(window).width(),height:(0,a["default"])(window).height()})},c.prototype.setPlayerSize=function(){this.$el.removeClass("fullscreen");this.playerInfo.currentSize=this.playerInfo.previousSize;this.playerInfo.previousSize={width:(0,a["default"])(window).width(),height:(0,a["default"])(window).height()};this.resize(this.playerInfo.currentSize)},c.prototype.resize=function(a){(0,u.isNumber)(a.height)||
(0,u.isNumber)(a.width)?(this.el.style.height=a.height+"px",this.el.style.width=a.width+"px"):(this.el.style.height=""+a.height,this.el.style.width=""+a.width);this.playerInfo.previousSize={width:this.options.width,height:this.options.height};this.options.width=a.width;this.options.height=a.height;this.playerInfo.currentSize=a;this.triggerResize(this.playerInfo.currentSize)},c.prototype.enableResizeObserver=function(){var a=this;this.resizeObserverInterval=setInterval(function(){a.playerInfo.computedSize.width==
a.el.clientWidth&&a.playerInfo.computedSize.height==a.el.clientHeight||(a.playerInfo.computedSize={width:a.el.clientWidth,height:a.el.clientHeight},a.triggerResize(a.playerInfo.computedSize))},500)},c.prototype.triggerResize=function(a){(this.firstResize||this.oldHeight!==a.height||this.oldWidth!==a.width)&&(l["default"].trigger(this.options.playerId+":"+h["default"].PLAYER_RESIZE,a),this.oldHeight=a.height,this.oldWidth=a.width,this.firstResize=!1)},c.prototype.disableResizeObserver=function(){this.resizeObserverInterval&&
clearInterval(this.resizeObserverInterval)},c.prototype.resolveOnContainersReady=function(f){var d=this;a["default"].when.apply(a["default"],f).done(function(){d.defer.resolve(d);d.ready=!0;d.trigger(h["default"].CORE_READY)})},c.prototype.addPlugin=function(a){this.plugins.push(a)},c.prototype.hasPlugin=function(a){return!!this.getPlugin(a)},c.prototype.getPlugin=function(a){return this.plugins.filter(function(f){return f.name===a})[0]},c.prototype.load=function(f,d){var b=this;this.options.mimeType=
d;f=f&&f.constructor===Array?f:[f];this.containers.forEach(function(a){return a.destroy()});this.mediaControl.container=null;this.containerFactory.options=a["default"].extend(this.options,{sources:f});this.containerFactory.createContainers().then(function(a){b.setupContainers(a)})},c.prototype.destroy=function(){this.disableResizeObserver();this.containers.forEach(function(a){return a.destroy()});this.plugins.forEach(function(a){return a.destroy()});this.$el.remove();this.mediaControl.destroy();(0,
a["default"])(document).unbind("fullscreenchange",this._boundFullscreenHandler);(0,a["default"])(document).unbind("MSFullscreenChange",this._boundFullscreenHandler);(0,a["default"])(document).unbind("mozfullscreenchange",this._boundFullscreenHandler)},c.prototype.handleFullscreenChange=function(){this.trigger(h["default"].CORE_FULLSCREEN,u.Fullscreen.isFullscreen());this.updateSize();this.mediaControl.show()},c.prototype.setMediaControlContainer=function(a){this.mediaControl.setContainer(a);this.mediaControl.render()},
c.prototype.disableMediaControl=function(){this.mediaControl.disable();this.$el.removeClass("nocursor")},c.prototype.enableMediaControl=function(){this.mediaControl.enable()},c.prototype.removeContainer=function(a){this.stopListening(a);this.containers=this.containers.filter(function(f){return f!==a})},c.prototype.appendContainer=function(a){this.listenTo(a,h["default"].CONTAINER_DESTROYED,this.removeContainer);this.containers.push(a)},c.prototype.setupContainers=function(a){return a.map(this.appendContainer.bind(this)),
this.trigger(h["default"].CORE_CONTAINERS_CREATED),this.renderContainers(),this.setupMediaControl(this.getCurrentContainer()),this.render(),this.$el.appendTo(this.options.parentElement),this.containers},c.prototype.renderContainers=function(){var a=this;this.containers.map(function(f){return a.el.appendChild(f.render().el)})},c.prototype.createContainer=function(a,f){var d=this.containerFactory.createContainer(a,f);return this.appendContainer(d),this.el.appendChild(d.render().el),d},c.prototype.setupMediaControl=
function(f){this.mediaControl?this.mediaControl.setContainer(f):(this.mediaControl=this.createMediaControl(a["default"].extend({container:f,focusElement:this.el},this.options)),this.listenTo(this.mediaControl,h["default"].MEDIACONTROL_FULLSCREEN,this.toggleFullscreen),this.listenTo(this.mediaControl,h["default"].MEDIACONTROL_SHOW,this.onMediaControlShow.bind(this,!0)),this.listenTo(this.mediaControl,h["default"].MEDIACONTROL_HIDE,this.onMediaControlShow.bind(this,!1)))},c.prototype.createMediaControl=
function(a){return a.mediacontrol&&a.mediacontrol.external?(new a.mediacontrol.external(a)).render():(new r["default"](a)).render()},c.prototype.getCurrentContainer=function(){return this.mediaControl&&this.mediaControl.container?this.mediaControl.container:this.containers[0]},c.prototype.getCurrentPlayback=function(){var a=this.getCurrentContainer();return a&&a.playback},c.prototype.getPlaybackType=function(){var a=this.getCurrentContainer();return a&&a.getPlaybackType()},c.prototype.toggleFullscreen=
function(){u.Fullscreen.isFullscreen()?(u.Fullscreen.cancelFullscreen(),n["default"].isiOS||this.$el.removeClass("fullscreen nocursor")):(u.Fullscreen.requestFullscreen(this.el),n["default"].isiOS||this.$el.addClass("fullscreen"));this.mediaControl.show()},c.prototype.showMediaControl=function(a){this.mediaControl.show(a)},c.prototype.hideMediaControl=function(){this.mediaControl.hide(this.options.hideMediaControlDelay)},c.prototype.onMediaControlShow=function(a){this.getCurrentContainer().trigger(a?
h["default"].CONTAINER_MEDIACONTROL_SHOW:h["default"].CONTAINER_MEDIACONTROL_HIDE);a?this.$el.removeClass("nocursor"):u.Fullscreen.isFullscreen()&&this.$el.addClass("nocursor")},c.prototype.configure=function(f){var d=this;this._options=a["default"].extend(this._options,f);this.configureDomRecycler();var b=f.source||f.sources;b?this.load(b,f.mimeType||this.options.mimeType):(this.trigger(h["default"].CORE_OPTIONS_CHANGE),this.containers.forEach(function(a){a.configure(d.options)}))},c.prototype.render=
function(){this.$style&&this.$style.remove();this.$style=e["default"].getStyleFor(f["default"],{baseUrl:this.options.baseUrl});this.$el.append(this.$style);this.$el.append(this.mediaControl.render().el);this.options.width=this.options.width||this.$el.width();this.options.height=this.options.height||this.$el.height();return this.playerInfo.previousSize=this.playerInfo.currentSize=this.playerInfo.computedSize={width:this.options.width,height:this.options.height},this.updateSize(),this.previousSize=
{width:this.$el.width(),height:this.$el.height()},this.enableResizeObserver(),this},c}(p["default"]);t["default"]=c;w.exports=t["default"]},function(w,t,c){function v(c,g){if("function"!=typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function, not "+typeof g);c.prototype=Object.create(g&&g.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});g&&(Object.setPrototypeOf?Object.setPrototypeOf(c,g):c.__proto__=g)}Object.defineProperty(t,"__esModule",
{value:!0});var m=function(){function c(c,h){for(var e=0;e<h.length;e++){var b=h[e];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(c,b.key,b)}}return function(g,h,e){return h&&c(g.prototype,h),e&&c(g,e),g}}(),g=c(8),g=g&&g.__esModule?g:{"default":g},q=(c=c(25))&&c.__esModule?c:{"default":c};c=function(c){function g(h){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");var e=c.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
e=!e||"object"!=typeof e&&"function"!=typeof e?this:e;return e.player=h,e._options=h.options,e}return v(g,c),m(g,[{key:"loader",get:function(){return this.player.loader}}]),g.prototype.create=function(){return this.options.loader=this.loader,this.core=new q["default"](this.options),this.addCorePlugins(),this.core.createContainers(this.options),this.core},g.prototype.addCorePlugins=function(){var h=this;return this.loader.corePlugins.forEach(function(e){e=new e(h.core);h.core.addPlugin(e);h.setupExternalInterface(e)}),
this.core},g.prototype.setupExternalInterface=function(h){var e=h.getExternalInterface(),b;for(b in e)this.player[b]=e[b].bind(h)},g}(g["default"]);t["default"]=c;w.exports=t["default"]},function(w,t,c){w.exports=c(43)},function(w,t,c){function v(a){return a&&a.__esModule?a:{"default":a}}function m(a,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);a.prototype=Object.create(f&&f.prototype,{constructor:{value:a,enumerable:!1,
writable:!0,configurable:!0}});f&&(Object.setPrototypeOf?Object.setPrototypeOf(a,f):a.__proto__=f)}Object.defineProperty(t,"__esModule",{value:!0});var g=c(8),g=v(g),q=c(15),u=v(q),q=c(108),p=v(q),q=c(16),h=v(q),q=c(28),e=v(q),q=c(31),b=v(q),q=c(29),n=v(q),q=c(30),k=v(q),q=c(32),r=v(q),q=c(33),l=v(q),q=c(71),d=v(q),q=c(73),a=v(q),q=c(76),f=v(q),q=c(34),H=v(q),q=c(65),D=v(q),q=c(58),y=v(q),q=c(60),z=v(q),q=c(63),x=v(q),q=c(68),A=v(q),q=c(70),L=v(q),q=c(61),C=v(q);c=c(75);var E=v(c);c=function(c){function g(m,
p){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");var u=c.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");u=!u||"object"!=typeof u&&"function"!=typeof u?this:u;return u.playerId=p,u.playbackPlugins=[k["default"],h["default"],b["default"],e["default"],n["default"],r["default"],l["default"]],u.containerPlugins=[d["default"],f["default"],H["default"],a["default"],D["default"],y["default"]],u.corePlugins=[z["default"],
x["default"],A["default"],L["default"],C["default"],E["default"]],m&&(Array.isArray(m)||u.validateExternalPluginsType(m),u.addExternalPlugins(m)),u}return m(g,c),g.prototype.groupPluginsByType=function(a){return Array.isArray(a)&&(a=a.reduce(function(a,f){return a[f.type]||(a[f.type]=[]),a[f.type].push(f),a},{})),a},g.prototype.addExternalPlugins=function(a){a=this.groupPluginsByType(a);var f=function(a){return a.prototype.name};a.playback&&(this.playbackPlugins=(0,p["default"])(a.playback.concat(this.playbackPlugins),
f));a.container&&(this.containerPlugins=(0,p["default"])(a.container.concat(this.containerPlugins),f));a.core&&(this.corePlugins=(0,p["default"])(a.core.concat(this.corePlugins),f));u["default"].getInstance(this.playerId).playbackPlugins=this.playbackPlugins},g.prototype.validateExternalPluginsType=function(a){["playback","container","core"].forEach(function(f){(a[f]||[]).forEach(function(a){var d="external "+a.type+" plugin on "+f+" array";if(a.type!==f)throw new ReferenceError(d);})})},g}(g["default"]);
t["default"]=c;w.exports=t["default"]},function(w,t,c){(function(v){function m(a){return a&&a.__esModule?a:{"default":a}}function g(a,f){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||"object"!=typeof f&&"function"!=typeof f?a:f}function q(a,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);a.prototype=Object.create(f&&f.prototype,{constructor:{value:a,enumerable:!1,writable:!0,
configurable:!0}});f&&(Object.setPrototypeOf?Object.setPrototypeOf(a,f):a.__proto__=f)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function a(a,f){for(var d=0;d<f.length;d++){var b=f[d];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(a,b.key,b)}}return function(f,d,b){return d&&a(f.prototype,d),b&&a(f,b),f}}(),p=c(1),h=c(20),e=c(0),b=m(e),e=c(4),n=m(e),e=c(9),e=m(e),k=c(7),r=m(k),k=c(10),l=m(k),k=c(5),d=m(k),k=c(2),a=m(k),k=
c(3),f=m(k),k=c(35),H=m(k),k=c(84),D=m(k),k=c(95),y=m(k),k=c(22),z=m(k),k=c(36),x=m(k),k=c(109),A=m(k),k=c(110),L=m(k),k=c(111),C=m(k),k=c(112),E=m(k),k=c(113),P=m(k),k=c(114),F=m(k),G=function(e){function k(a){if(!(this instanceof k))throw new TypeError("Cannot call a class as a function");var d=g(this,e.call(this,a));d.persistConfig=d.options.persistConfig;d.container=a.container;d.currentPositionValue=null;d.currentDurationValue=null;a=d.persistConfig?p.Config.restore("volume"):100;return d.setVolume(d.options.mute?
0:a),d.keepVisible=!1,d.fullScreenOnVideoTagSupported=null,d.addEventListeners(),d.settings={left:["play","stop","pause"],right:["volume"],"default":["position","seekbar","duration"]},d.container?f["default"].isEmptyObject(d.container.settings)||(d.settings=f["default"].extend({},d.container.settings)):d.settings={},d.userDisabled=!1,(d.container&&d.container.mediaControlDisabled||d.options.chromeless)&&d.disable(),d.stopDragHandler=function(a){return d.stopDrag(a)},d.updateDragHandler=function(a){return d.updateDrag(a)},
(0,f["default"])(document).bind("mouseup",d.stopDragHandler),(0,f["default"])(document).bind("mousemove",d.updateDragHandler),d}return q(k,e),u(k,[{key:"name",get:function(){return"MediaControl"}},{key:"disabled",get:function(){return this.userDisabled||this.container&&this.container.getPlaybackType()===a["default"].NO_OP}},{key:"attributes",get:function(){return{"class":"media-control","data-media-control":""}}},{key:"events",get:function(){return{"click [data-play]":"play","click [data-pause]":"pause",
"click [data-playpause]":"togglePlayPause","click [data-stop]":"stop","click [data-playstop]":"togglePlayStop","click [data-fullscreen]":"toggleFullscreen","click .bar-container[data-seekbar]":"seek","click .bar-container[data-volume]":"onVolumeClick","click .drawer-icon[data-volume]":"toggleMute","mouseenter .drawer-container[data-volume]":"showVolumeBar","mouseleave .drawer-container[data-volume]":"hideVolumeBar","mousedown .bar-container[data-volume]":"startVolumeDrag","mousemove .bar-container[data-volume]":"mousemoveOnVolumeBar",
"mousedown .bar-scrubber[data-seekbar]":"startSeekDrag","mousemove .bar-container[data-seekbar]":"mousemoveOnSeekBar","mouseleave .bar-container[data-seekbar]":"mouseleaveOnSeekBar","mouseenter .media-control-layer[data-controls]":"setUserKeepVisible","mouseleave .media-control-layer[data-controls]":"resetUserKeepVisible"}}},{key:"template",get:function(){return(0,d["default"])(y["default"])}},{key:"stylesheet",get:function(){return n["default"].getStyleFor(D["default"],{baseUrl:this.options.baseUrl})}},
{key:"volume",get:function(){return this.container&&this.container.isReady?this.container.volume:this.intendedVolume}},{key:"muted",get:function(){return 0===this.volume}}]),k.prototype.addEventListeners=function(){this.container&&(l["default"].on(this.options.playerId+":"+b["default"].PLAYER_RESIZE,this.playerResize,this),this.listenTo(this.container,b["default"].CONTAINER_PLAY,this.changeTogglePlay),this.listenTo(this.container,b["default"].CONTAINER_PAUSE,this.changeTogglePlay),this.listenTo(this.container,
b["default"].CONTAINER_STOP,this.changeTogglePlay),this.listenTo(this.container,b["default"].CONTAINER_DBLCLICK,this.toggleFullscreen),this.listenTo(this.container,b["default"].CONTAINER_TIMEUPDATE,this.onTimeUpdate),this.listenTo(this.container,b["default"].CONTAINER_PROGRESS,this.updateProgressBar),this.listenTo(this.container,b["default"].CONTAINER_SETTINGSUPDATE,this.settingsUpdate),this.listenTo(this.container,b["default"].CONTAINER_PLAYBACKDVRSTATECHANGED,this.settingsUpdate),this.listenTo(this.container,
b["default"].CONTAINER_HIGHDEFINITIONUPDATE,this.highDefinitionUpdate),this.listenTo(this.container,b["default"].CONTAINER_MEDIACONTROL_DISABLE,this.disable),this.listenTo(this.container,b["default"].CONTAINER_MEDIACONTROL_ENABLE,this.enable),this.listenTo(this.container,b["default"].CONTAINER_ENDED,this.ended),this.listenTo(this.container,b["default"].CONTAINER_VOLUME,this.onVolumeChanged),"video"===this.container.playback.el.nodeName.toLowerCase()&&this.listenToOnce(this.container,b["default"].CONTAINER_LOADEDMETADATA,
this.onLoadedMetadataOnVideoTag))},k.prototype.disable=function(){this.userDisabled=!0;this.hide();this.$el.hide()},k.prototype.enable=function(){this.options.chromeless||(this.userDisabled=!1,this.show())},k.prototype.play=function(){this.container.play()},k.prototype.pause=function(){this.container.pause()},k.prototype.stop=function(){this.container.stop()},k.prototype.onVolumeChanged=function(){this.updateVolumeUI()},k.prototype.onLoadedMetadataOnVideoTag=function(){var a=this.container.playback.el;
!p.Fullscreen.fullscreenEnabled()&&a.webkitSupportsFullscreen&&(this.fullScreenOnVideoTagSupported=!0,this.settingsUpdate())},k.prototype.updateVolumeUI=function(){if(this.rendered){this.$volumeBarContainer.find(".bar-fill-2").css({});var a=this.$volumeBarContainer.width(),f=this.$volumeBarBackground.width(),a=f*this.volume/100+(a-f)/2;this.$volumeBarFill.css({width:this.volume+"%"});this.$volumeBarScrubber.css({left:a});this.$volumeBarContainer.find(".segmented-bar-element").removeClass("fill");
a=Math.ceil(this.volume/10);this.$volumeBarContainer.find(".segmented-bar-element").slice(0,a).addClass("fill");this.$volumeIcon.html("");this.$volumeIcon.removeClass("muted");this.muted?(this.$volumeIcon.append(C["default"]),this.$volumeIcon.addClass("muted")):this.$volumeIcon.append(L["default"]);this.applyButtonStyle(this.$volumeIcon)}},k.prototype.changeTogglePlay=function(){this.$playPauseToggle.html("");this.$playStopToggle.html("");this.container&&this.container.isPlaying()?(this.$playPauseToggle.append(x["default"]),
this.$playStopToggle.append(A["default"]),this.trigger(b["default"].MEDIACONTROL_PLAYING)):(this.$playPauseToggle.append(z["default"]),this.$playStopToggle.append(z["default"]),this.trigger(b["default"].MEDIACONTROL_NOTPLAYING),r["default"].isMobile&&this.show());this.applyButtonStyle(this.$playPauseToggle);this.applyButtonStyle(this.$playStopToggle)},k.prototype.mousemoveOnSeekBar=function(a){if(this.settings.seekEnabled){var f=a.pageX-this.$seekBarContainer.offset().left-this.$seekBarHover.width()/
2;this.$seekBarHover.css({left:f})}this.trigger(b["default"].MEDIACONTROL_MOUSEMOVE_SEEKBAR,a)},k.prototype.mouseleaveOnSeekBar=function(a){this.trigger(b["default"].MEDIACONTROL_MOUSELEAVE_SEEKBAR,a)},k.prototype.onVolumeClick=function(a){this.setVolume(this.getVolumeFromUIEvent(a))},k.prototype.mousemoveOnVolumeBar=function(a){this.draggingVolumeBar&&this.setVolume(this.getVolumeFromUIEvent(a))},k.prototype.playerResize=function(a){this.$fullscreenToggle.html("");p.Fullscreen.isFullscreen()?this.$fullscreenToggle.append(P["default"]):
this.$fullscreenToggle.append(E["default"]);this.applyButtonStyle(this.$fullscreenToggle);this.$el.removeClass("w320");(320>=a.width||this.options.hideVolumeBar)&&this.$el.addClass("w320")},k.prototype.togglePlayPause=function(){return this.container.isPlaying()?this.container.pause():this.container.play(),!1},k.prototype.togglePlayStop=function(){this.container.isPlaying()?this.container.stop():this.container.play()},k.prototype.startSeekDrag=function(a){this.settings.seekEnabled&&(this.draggingSeekBar=
!0,this.$el.addClass("dragging"),this.$seekBarLoaded.addClass("media-control-notransition"),this.$seekBarPosition.addClass("media-control-notransition"),this.$seekBarScrubber.addClass("media-control-notransition"),a&&a.preventDefault())},k.prototype.startVolumeDrag=function(a){this.draggingVolumeBar=!0;this.$el.addClass("dragging");a&&a.preventDefault()},k.prototype.stopDrag=function(a){this.draggingSeekBar&&this.seek(a);this.$el.removeClass("dragging");this.$seekBarLoaded.removeClass("media-control-notransition");
this.$seekBarPosition.removeClass("media-control-notransition");this.$seekBarScrubber.removeClass("media-control-notransition dragging");this.draggingVolumeBar=this.draggingSeekBar=!1},k.prototype.updateDrag=function(a){this.draggingSeekBar?(a.preventDefault(),a=(a.pageX-this.$seekBarContainer.offset().left)/this.$seekBarContainer.width()*100,a=Math.min(100,Math.max(a,0)),this.setSeekPercentage(a)):this.draggingVolumeBar&&(a.preventDefault(),this.setVolume(this.getVolumeFromUIEvent(a)))},k.prototype.getVolumeFromUIEvent=
function(a){return(a.pageX-this.$volumeBarContainer.offset().left)/this.$volumeBarContainer.width()*100},k.prototype.toggleMute=function(){this.setVolume(this.muted?100:0)},k.prototype.setVolume=function(a){var f=this;this.intendedVolume=a=Math.min(100,Math.max(a,0));this.persistConfig&&p.Config.persist("volume",a);var d=function(){f.container.isReady?f.container.setVolume(a):f.listenToOnce(f.container,b["default"].CONTAINER_READY,function(){f.container.setVolume(a)})};this.container?d():this.listenToOnce(this,
b["default"].MEDIACONTROL_CONTAINERCHANGED,function(){d()})},k.prototype.toggleFullscreen=function(){this.trigger(b["default"].MEDIACONTROL_FULLSCREEN,this.name);this.container.fullscreen();this.resetUserKeepVisible()},k.prototype.setContainer=function(a){this.container&&(this.stopListening(this.container),this.fullScreenOnVideoTagSupported=null);l["default"].off(this.options.playerId+":"+b["default"].PLAYER_RESIZE,this.playerResize,this);this.container=a;this.setVolume(this.intendedVolume);this.changeTogglePlay();
this.addEventListeners();this.settingsUpdate();this.container.trigger(b["default"].CONTAINER_PLAYBACKDVRSTATECHANGED,this.container.isDvrInUse());this.container.mediaControlDisabled&&this.disable();this.trigger(b["default"].MEDIACONTROL_CONTAINERCHANGED)},k.prototype.showVolumeBar=function(){this.hideVolumeId&&clearTimeout(this.hideVolumeId);this.$volumeBarContainer.removeClass("volume-bar-hide")},k.prototype.hideVolumeBar=function(){var a=this,f=0<arguments.length&&void 0!==arguments[0]?arguments[0]:
400;this.$volumeBarContainer&&(this.draggingVolumeBar?this.hideVolumeId=setTimeout(function(){return a.hideVolumeBar()},f):(this.hideVolumeId&&clearTimeout(this.hideVolumeId),this.hideVolumeId=setTimeout(function(){return a.$volumeBarContainer.addClass("volume-bar-hide")},f)))},k.prototype.ended=function(){this.changeTogglePlay()},k.prototype.updateProgressBar=function(a){var f=a.start/a.total*100;this.$seekBarLoaded.css({left:f+"%",width:a.current/a.total*100-f+"%"})},k.prototype.onTimeUpdate=function(a){this.draggingSeekBar||
(this.currentPositionValue=0>a.current?a.total:a.current,this.currentDurationValue=a.total,this.renderSeekBar())},k.prototype.renderSeekBar=function(){if(null!==this.currentPositionValue&&null!==this.currentDurationValue){this.currentSeekBarPercentage=100;(this.container.getPlaybackType()!==a["default"].LIVE||this.container.isDvrInUse())&&(this.currentSeekBarPercentage=this.currentPositionValue/this.currentDurationValue*100);this.setSeekPercentage(this.currentSeekBarPercentage);var f=(0,p.formatTime)(this.currentPositionValue),
d=(0,p.formatTime)(this.currentDurationValue);f!==this.displayedPosition&&(this.$position.text(f),this.displayedPosition=f);d!==this.displayedDuration&&(this.$duration.text(d),this.displayedDuration=d)}},k.prototype.seek=function(a){if(this.settings.seekEnabled)return a=(a.pageX-this.$seekBarContainer.offset().left)/this.$seekBarContainer.width()*100,a=Math.min(100,Math.max(a,0)),this.container.seekPercentage(a),this.setSeekPercentage(a),!1},k.prototype.setKeepVisible=function(){this.keepVisible=
!0},k.prototype.resetKeepVisible=function(){this.keepVisible=!1},k.prototype.setUserKeepVisible=function(){this.userKeepVisible=!0},k.prototype.resetUserKeepVisible=function(){this.userKeepVisible=!1},k.prototype.isVisible=function(){return!this.$el.hasClass("media-control-hide")},k.prototype.show=function(a){var f=this;this.disabled||(!a||a.clientX!==this.lastMouseX&&a.clientY!==this.lastMouseY||navigator.userAgent.match(/firefox/i))&&(clearTimeout(this.hideId),this.$el.show(),this.trigger(b["default"].MEDIACONTROL_SHOW,
this.name),this.$el.removeClass("media-control-hide"),this.hideId=setTimeout(function(){return f.hide()},2E3),a&&(this.lastMouseX=a.clientX,this.lastMouseY=a.clientY))},k.prototype.hide=function(){var a=this,f=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;if(this.isVisible()&&(!r["default"].isMobile||this.container.isPlaying())){var d=f||2E3;clearTimeout(this.hideId);(this.disabled||!1!==this.options.hideMediaControl)&&(!this.disabled&&(f||this.userKeepVisible||this.keepVisible||this.draggingSeekBar||
this.draggingVolumeBar)?this.hideId=setTimeout(function(){return a.hide()},d):(this.trigger(b["default"].MEDIACONTROL_HIDE,this.name),this.$el.addClass("media-control-hide"),this.hideVolumeBar(0)))}},k.prototype.settingsUpdate=function(){var a=this.getSettings();!a||this.fullScreenOnVideoTagSupported||p.Fullscreen.fullscreenEnabled()||(a["default"]&&(0,p.removeArrayItem)(a["default"],"fullscreen"),a.left&&(0,p.removeArrayItem)(a.left,"fullscreen"),a.right&&(0,p.removeArrayItem)(a.right,"fullscreen"));
JSON.stringify(this.settings)!==JSON.stringify(a)&&(this.settings=a,this.render())},k.prototype.getSettings=function(){return(0,H["default"])({},this.container.settings)},k.prototype.highDefinitionUpdate=function(a){this.$hdIndicator[a?"addClass":"removeClass"]("enabled")},k.prototype.createCachedElements=function(){var a=this.$el.find(".media-control-layer");this.$duration=a.find(".media-control-indicator[data-duration]");this.$fullscreenToggle=a.find("button.media-control-button[data-fullscreen]");
this.$playPauseToggle=a.find("button.media-control-button[data-playpause]");this.$playStopToggle=a.find("button.media-control-button[data-playstop]");this.$position=a.find(".media-control-indicator[data-position]");this.$seekBarContainer=a.find(".bar-container[data-seekbar]");this.$seekBarHover=a.find(".bar-hover[data-seekbar]");this.$seekBarLoaded=a.find(".bar-fill-1[data-seekbar]");this.$seekBarPosition=a.find(".bar-fill-2[data-seekbar]");this.$seekBarScrubber=a.find(".bar-scrubber[data-seekbar]");
this.$volumeBarContainer=a.find(".bar-container[data-volume]");this.$volumeContainer=a.find(".drawer-container[data-volume]");this.$volumeIcon=a.find(".drawer-icon[data-volume]");this.$volumeBarBackground=this.$el.find(".bar-background[data-volume]");this.$volumeBarFill=this.$el.find(".bar-fill-1[data-volume]");this.$volumeBarScrubber=this.$el.find(".bar-scrubber[data-volume]");this.$hdIndicator=this.$el.find("button.media-control-button[data-hd-indicator]");this.resetIndicators();this.initializeIcons()},
k.prototype.resetIndicators=function(){this.displayedPosition=this.$position.text();this.displayedDuration=this.$duration.text()},k.prototype.initializeIcons=function(){var a=this.$el.find(".media-control-layer");a.find("button.media-control-button[data-play]").append(z["default"]);a.find("button.media-control-button[data-pause]").append(x["default"]);a.find("button.media-control-button[data-stop]").append(A["default"]);this.$playPauseToggle.append(z["default"]);this.$playStopToggle.append(z["default"]);
this.$volumeIcon.append(L["default"]);this.$fullscreenToggle.append(E["default"]);this.$hdIndicator.append(F["default"])},k.prototype.setSeekPercentage=function(a){a=Math.max(Math.min(a,100),0);this.displayedSeekBarPercentage!==a&&(this.displayedSeekBarPercentage=a,this.$seekBarPosition.removeClass("media-control-notransition"),this.$seekBarScrubber.removeClass("media-control-notransition"),this.$seekBarPosition.css({width:a+"%"}),this.$seekBarScrubber.css({left:a+"%"}))},k.prototype.seekRelative=
function(a){if(this.settings.seekEnabled){var f=this.container.getCurrentTime(),d=this.container.getDuration();a=Math.min(Math.max(f+a,0),d);a=Math.min(100*a/d,100);this.container.seekPercentage(a)}},k.prototype.bindKeyAndShow=function(a,f){var d=this;this.kibo.down(a,function(){return d.show(),f()})},k.prototype.bindKeyEvents=function(){var a=this;this.unbindKeyEvents();this.kibo=new h.Kibo(this.options.focusElement);this.bindKeyAndShow("space",function(){return a.togglePlayPause()});this.bindKeyAndShow("left",
function(){return a.seekRelative(-5)});this.bindKeyAndShow("right",function(){return a.seekRelative(5)});this.bindKeyAndShow("shift left",function(){return a.seekRelative(-10)});this.bindKeyAndShow("shift right",function(){return a.seekRelative(10)});this.bindKeyAndShow("shift ctrl left",function(){return a.seekRelative(-15)});this.bindKeyAndShow("shift ctrl right",function(){return a.seekRelative(15)});"1234567890".split("").forEach(function(f){a.bindKeyAndShow(f,function(){return a.settings.seekEnabled&&
a.container.seekPercentage(10*f)})})},k.prototype.unbindKeyEvents=function(){this.kibo&&(this.kibo.off("space"),this.kibo.off("left"),this.kibo.off("right"),this.kibo.off("shift left"),this.kibo.off("shift right"),this.kibo.off("shift ctrl left"),this.kibo.off("shift ctrl right"),this.kibo.off("1234567890".split("")))},k.prototype.parseColors=function(){if(this.options.mediacontrol){this.buttonsColor=this.options.mediacontrol.buttons;var a=this.options.mediacontrol.seekbar;this.$el.find(".bar-fill-2[data-seekbar]").css("background-color",
a);this.$el.find(".media-control-icon svg path").css("fill",this.buttonsColor);this.$el.find(".segmented-bar-element[data-volume]").css("boxShadow","inset 2px 0 0 "+this.buttonsColor)}},k.prototype.applyButtonStyle=function(a){this.buttonsColor&&a&&(0,f["default"])(a).find("svg path").css("fill",this.buttonsColor)},k.prototype.destroy=function(){this.remove();(0,f["default"])(document).unbind("mouseup",this.stopDragHandler);(0,f["default"])(document).unbind("mousemove",this.updateDragHandler);this.unbindKeyEvents()},
k.prototype.render=function(){var a=this;this.$el.html(this.template({settings:this.settings}));this.$el.append(this.stylesheet);this.createCachedElements();this.$playPauseToggle.addClass("paused");this.$playStopToggle.addClass("stopped");this.changeTogglePlay();this.hideId=setTimeout(function(){return a.hide()},1E3);this.disabled&&this.hide();r["default"].isSafari&&r["default"].isMobile&&this.$volumeContainer.css("display","none");this.$seekBarPosition.addClass("media-control-notransition");this.$seekBarScrubber.addClass("media-control-notransition");
var f=0;return this.displayedSeekBarPercentage&&(f=this.displayedSeekBarPercentage),this.displayedSeekBarPercentage=null,this.setSeekPercentage(f),v.nextTick(function(){a.settings.seekEnabled||a.$seekBarContainer.addClass("seek-disabled");r["default"].isMobile||a.options.disableKeyboardShortcuts||a.bindKeyEvents();a.playerResize({width:a.options.width,height:a.options.height});a.hideVolumeBar(0)}),this.parseColors(),this.highDefinitionUpdate(),this.rendered=!0,this.updateVolumeUI(),this.trigger(b["default"].MEDIACONTROL_RENDERED),
this},k}(e["default"]);t["default"]=G;G.extend=function(a){return(0,p.extend)(G,a)};w.exports=t["default"]}).call(t,c(21))},function(w,t,c){function v(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(t,"__esModule",{value:!0});var m=c(38),m=v(m),g=c(1),g=v(g),q=c(0),q=v(q),u=c(2),u=v(u),p=c(13),p=v(p),h=c(11),h=v(h),e=c(17),e=v(e),b=c(14),b=v(b),n=c(8),n=v(n),k=c(9),k=v(k),r=c(7),r=v(r),l=c(24),l=v(l),d=c(25),d=v(d),a=c(26),a=v(a),f=c(10),f=v(f),H=c(27),H=v(H),D=c(15),D=v(D),y=c(18),
y=v(y),z=c(28),z=v(z),x=c(29),x=v(x),A=c(30),A=v(A),L=c(31),L=v(L),C=c(16),C=v(C),E=c(32),E=v(E),P=c(33),P=v(P),F=c(34),F=v(F),G=c(19),G=v(G),M=c(4),M=v(M),J=c(20),J=v(J),B=c(5),B=v(B);c=c(3);c=v(c);t["default"]={Player:m["default"],Mediator:f["default"],Events:q["default"],Browser:r["default"],PlayerInfo:D["default"],MediaControl:H["default"],ContainerPlugin:p["default"],UIContainerPlugin:b["default"],CorePlugin:h["default"],UICorePlugin:e["default"],Playback:u["default"],Container:l["default"],
Core:d["default"],Loader:a["default"],BaseObject:n["default"],UIObject:k["default"],Utils:g["default"],BaseFlashPlayback:y["default"],Flash:z["default"],FlasHLS:x["default"],HLS:A["default"],HTML5Audio:L["default"],HTML5Video:C["default"],HTMLImg:E["default"],NoOp:P["default"],Poster:F["default"],Log:G["default"],Styler:M["default"],Vendor:J["default"],version:"0.2.66",template:B["default"],$:c["default"]};w.exports=t["default"]},function(w,t,c){function v(b){return b&&b.__esModule?b:{"default":b}}
function m(b,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);b.prototype=Object.create(e&&e.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(b,e):b.__proto__=e)}Object.defineProperty(t,"__esModule",{value:!0});var g=function(){function b(b,e){for(var d=0;d<e.length;d++){var a=e[d];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=
!0);Object.defineProperty(b,a.key,a)}}return function(e,l,d){return l&&b(e.prototype,l),d&&b(e,d),e}}(),q=c(2),q=v(q),u=c(4),p=v(u),u=c(5),h=v(u),u=c(7),e=v(u),u=c(96),b=v(u);c=c(85);var n=v(c);c=function(k){function r(){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");var b=k.apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?this:b}return m(r,k),r.prototype.setElement=
function(b){this.$el=b;this.el=b[0]},r.prototype._setupFirefox=function(){var b=this.$("embed");b.attr("data-flash-playback",this.name);b.addClass(this.attributes["class"]);this.setElement(b)},r.prototype.render=function(){return this.$el.html(this.template({cid:this.cid,swfPath:this.swfPath,baseUrl:this.baseUrl,playbackId:this.uniqueId,wmode:this.wmode,callbackName:"window.Clappr.flashlsCallbacks."+this.cid})),e["default"].isIE&&(this.$("embed").remove(),e["default"].isLegacyIE&&this.$el.attr("classid",
"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000")),e["default"].isFirefox&&this._setupFirefox(),this.el.id=this.cid,this.$el.append(p["default"].getStyleFor(n["default"])),this},g(r,[{key:"tagName",get:function(){return"object"}},{key:"swfPath",get:function(){return""}},{key:"wmode",get:function(){return"transparent"}},{key:"template",get:function(){return(0,h["default"])(b["default"])}},{key:"attributes",get:function(){var b="application/x-shockwave-flash";return e["default"].isLegacyIE&&(b=""),{"class":"clappr-flash-playback",
type:b,width:"100%",height:"100%","data-flash-playback":this.name}}}]),r}(q["default"]);t["default"]=c;w.exports=t["default"]},function(w,t,c){function v(d){return d&&d.__esModule?d:{"default":d}}function m(d,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);d.prototype=Object.create(a&&a.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(d,a):d.__proto__=
a)}Object.defineProperty(t,"__esModule",{value:!0});var g=function(){function d(a,f){for(var d=0;d<f.length;d++){var b=f[d];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(a,b.key,b)}}return function(a,f,b){return f&&d(a.prototype,f),b&&d(a,b),a}}(),q=c(1),u=c(18),u=v(u),p=c(7),h=v(p),p=c(10),e=v(p),p=c(5),b=v(p),p=c(3),n=v(p),p=c(0),k=v(p),p=c(2),r=v(p);c=c(116);var l=v(c);c=function(d){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");
for(var f=arguments.length,b=Array(f),e=0;e<f;e++)b[e]=arguments[e];f=d.call.apply(d,[this].concat(b));if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");f=!f||"object"!=typeof f&&"function"!=typeof f?this:f;return f._src=f.options.src,f._baseUrl=f.options.baseUrl,f._autoPlay=f.options.autoPlay,f.settings={"default":["seekbar"]},f.settings.left=["playpause","position","duration"],f.settings.right=["fullscreen","volume"],f.settings.seekEnabled=!0,f._isReadyState=
!1,f._addListeners(),f}return m(a,d),g(a,[{key:"name",get:function(){return"flash"}},{key:"swfPath",get:function(){return(0,b["default"])(l["default"])({baseUrl:this._baseUrl})}},{key:"ended",get:function(){return"ENDED"===this._currentState}},{key:"buffering",get:function(){return!!this._bufferingState&&"ENDED"!==this._currentState}}]),a.prototype._bootstrap=function(){var a=this;this.el.playerPlay?(this.el.width="100%",this.el.height="100%","PLAYING"===this._currentState?this._firstPlay():(this._currentState=
"IDLE",this._autoPlay&&this.play()),(0,n["default"])('<div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%" />').insertAfter(this.$el),0<this.getDuration()?this._metadataLoaded():e["default"].once(this.uniqueId+":timeupdate",this._metadataLoaded,this)):(this._attempts=this._attempts||0,60>=++this._attempts?setTimeout(function(){return a._bootstrap()},50):this.trigger(k["default"].PLAYBACK_ERROR,{message:"Max number of attempts reached"},this.name))},a.prototype._metadataLoaded=
function(){this._isReadyState=!0;this.trigger(k["default"].PLAYBACK_READY,this.name);this.trigger(k["default"].PLAYBACK_SETTINGSUPDATE,this.name)},a.prototype.getPlaybackType=function(){return r["default"].VOD},a.prototype.isHighDefinitionInUse=function(){return!1},a.prototype._updateTime=function(){this.trigger(k["default"].PLAYBACK_TIMEUPDATE,{current:this.el.getPosition(),total:this.el.getDuration()},this.name)},a.prototype._addListeners=function(){e["default"].on(this.uniqueId+":progress",this._progress,
this);e["default"].on(this.uniqueId+":timeupdate",this._updateTime,this);e["default"].on(this.uniqueId+":statechanged",this._checkState,this);e["default"].on(this.uniqueId+":flashready",this._bootstrap,this)},a.prototype.stopListening=function(){d.prototype.stopListening.call(this);e["default"].off(this.uniqueId+":progress");e["default"].off(this.uniqueId+":timeupdate");e["default"].off(this.uniqueId+":statechanged");e["default"].off(this.uniqueId+":flashready")},a.prototype._checkState=function(){this._isIdle||
"PAUSED"===this._currentState||("PLAYING_BUFFERING"!==this._currentState&&"PLAYING_BUFFERING"===this.el.getState()?(this._bufferingState=!0,this.trigger(k["default"].PLAYBACK_BUFFERING,this.name),this._currentState="PLAYING_BUFFERING"):"PLAYING"===this.el.getState()?(this._bufferingState=!1,this.trigger(k["default"].PLAYBACK_BUFFERFULL,this.name),this._currentState="PLAYING"):"IDLE"===this.el.getState()?this._currentState="IDLE":"ENDED"===this.el.getState()&&(this.trigger(k["default"].PLAYBACK_ENDED,
this.name),this.trigger(k["default"].PLAYBACK_TIMEUPDATE,{current:0,total:this.el.getDuration()},this.name),this._currentState="ENDED",this._isIdle=!0))},a.prototype._progress=function(){"IDLE"!==this._currentState&&"ENDED"!==this._currentState&&this.trigger(k["default"].PLAYBACK_PROGRESS,{start:0,current:this.el.getBytesLoaded(),total:this.el.getBytesTotal()})},a.prototype._firstPlay=function(){var a=this;this.el.playerPlay?(this._isIdle=!1,this.el.playerPlay(this._src),this.listenToOnce(this,k["default"].PLAYBACK_BUFFERFULL,
function(){return a._checkInitialSeek()}),this._currentState="PLAYING"):this.listenToOnce(this,k["default"].PLAYBACK_READY,this._firstPlay)},a.prototype._checkInitialSeek=function(){var a=(0,q.seekStringToSeconds)(window.location.href);0!==a&&this.seekSeconds(a)},a.prototype.play=function(){this.trigger(k["default"].PLAYBACK_PLAY_INTENT);"PAUSED"===this._currentState||"PLAYING_BUFFERING"===this._currentState?(this._currentState="PLAYING",this.el.playerResume(),this.trigger(k["default"].PLAYBACK_PLAY,
this.name)):"PLAYING"!==this._currentState&&(this._firstPlay(),this.trigger(k["default"].PLAYBACK_PLAY,this.name))},a.prototype.volume=function(a){var f=this;this.isReady?this.el.playerVolume(a):this.listenToOnce(this,k["default"].PLAYBACK_BUFFERFULL,function(){return f.volume(a)})},a.prototype.pause=function(){this._currentState="PAUSED";this.el.playerPause();this.trigger(k["default"].PLAYBACK_PAUSE,this.name)},a.prototype.stop=function(){this.el.playerStop();this.trigger(k["default"].PLAYBACK_STOP);
this.trigger(k["default"].PLAYBACK_TIMEUPDATE,{current:0,total:0},this.name)},a.prototype.isPlaying=function(){return!!(this.isReady&&-1<this._currentState.indexOf("PLAYING"))},a.prototype.getDuration=function(){return this.el.getDuration()},a.prototype.seekPercentage=function(a){var f=this;if(0<this.el.getDuration()){var d=this.el.getDuration()*(a/100);this.seek(d)}else this.listenToOnce(this,k["default"].PLAYBACK_BUFFERFULL,function(){return f.seekPercentage(a)})},a.prototype.seek=function(a){var f=
this;this.isReady&&this.el.playerSeek?(this.el.playerSeek(a),this.trigger(k["default"].PLAYBACK_TIMEUPDATE,{current:a,total:this.el.getDuration()},this.name),"PAUSED"===this._currentState&&this.el.playerPause()):this.listenToOnce(this,k["default"].PLAYBACK_BUFFERFULL,function(){return f.seek(a)})},a.prototype.destroy=function(){clearInterval(this.bootstrapId);d.prototype.stopListening.call(this);this.$el.remove()},g(a,[{key:"isReady",get:function(){return this._isReadyState}}]),a}(u["default"]);t["default"]=
c;c.canPlay=function(d){return h["default"].hasFlash&&d&&d.constructor===String?(d=d.split("?")[0].match(/.*\.(.*)$/)||[],1<d.length&&!h["default"].isMobile&&d[1].toLowerCase().match(/^(mp4|mov|f4v|3gpp|3gp)$/)):!1};w.exports=t["default"]},function(w,t,c){function v(d){return d&&d.__esModule?d:{"default":d}}function m(d,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);d.prototype=Object.create(a&&a.prototype,{constructor:{value:d,
enumerable:!1,writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(d,a):d.__proto__=a)}Object.defineProperty(t,"__esModule",{value:!0});var g=function(){function d(a,f){for(var d=0;d<f.length;d++){var b=f[d];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(a,b.key,b)}}return function(a,f,b){return f&&d(a.prototype,f),b&&d(a,b),a}}(),q=c(18),q=v(q),u=c(0),p=v(u),u=c(5),h=v(u),u=c(2),e=v(u),u=c(10),b=v(u),u=c(7),n=v(u),u=c(51),
k=v(u),u=c(117),r=v(u);c=c(3);var l=v(c);c=function(d){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");for(var f=arguments.length,b=Array(f),k=0;k<f;k++)b[k]=arguments[k];f=d.call.apply(d,[this].concat(b));if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");f=!f||"object"!=typeof f&&"function"!=typeof f?this:f;return f._src=f.options.src,f._baseUrl=f.options.baseUrl,f._initHlsParameters(f.options),f.highDefinition=
!1,f._autoPlay=f.options.autoPlay,f._loop=f.options.loop,f._defaultSettings={left:["playstop"],"default":["seekbar"],right:["fullscreen","volume","hd-indicator"],seekEnabled:!1},f.settings=l["default"].extend({},f._defaultSettings),f._playbackType=e["default"].LIVE,f._hasEnded=!1,f._addListeners(),f}return m(a,d),g(a,[{key:"name",get:function(){return"flashls"}},{key:"swfPath",get:function(){return(0,h["default"])(r["default"])({baseUrl:this._baseUrl})}},{key:"levels",get:function(){return this._levels||
[]}},{key:"currentLevel",get:function(){return null===this._currentLevel||void 0===this._currentLevel?-1:this._currentLevel},set:function(a){this._currentLevel=a;this.trigger(p["default"].PLAYBACK_LEVEL_SWITCH_START);this.el.playerSetCurrentLevel(a)}},{key:"ended",get:function(){return this._hasEnded}},{key:"buffering",get:function(){return!!this._bufferingState&&!this._hasEnded}}]),a.prototype._initHlsParameters=function(a){this._autoStartLoad=void 0===a.autoStartLoad||a.autoStartLoad;this._capLevelToStage=
void 0!==a.capLevelToStage&&a.capLevelToStage;this._maxLevelCappingMode=void 0===a.maxLevelCappingMode?"downscale":a.maxLevelCappingMode;this._minBufferLength=void 0===a.minBufferLength?-1:a.minBufferLength;this._minBufferLengthCapping=void 0===a.minBufferLengthCapping?-1:a.minBufferLengthCapping;this._maxBufferLength=void 0===a.maxBufferLength?120:a.maxBufferLength;this._maxBackBufferLength=void 0===a.maxBackBufferLength?30:a.maxBackBufferLength;this._lowBufferLength=void 0===a.lowBufferLength?3:
a.lowBufferLength;this._mediaTimePeriod=void 0===a.mediaTimePeriod?100:a.mediaTimePeriod;this._fpsDroppedMonitoringPeriod=void 0===a.fpsDroppedMonitoringPeriod?5E3:a.fpsDroppedMonitoringPeriod;this._fpsDroppedMonitoringThreshold=void 0===a.fpsDroppedMonitoringThreshold?.2:a.fpsDroppedMonitoringThreshold;this._capLevelonFPSDrop=void 0!==a.capLevelonFPSDrop&&a.capLevelonFPSDrop;this._smoothAutoSwitchonFPSDrop=void 0===a.smoothAutoSwitchonFPSDrop?this.capLevelonFPSDrop:a.smoothAutoSwitchonFPSDrop;this._switchDownOnLevelError=
void 0===a.switchDownOnLevelError||a.switchDownOnLevelError;this._seekMode=void 0===a.seekMode?"ACCURATE":a.seekMode;this._keyLoadMaxRetry=void 0===a.keyLoadMaxRetry?3:a.keyLoadMaxRetry;this._keyLoadMaxRetryTimeout=void 0===a.keyLoadMaxRetryTimeout?64E3:a.keyLoadMaxRetryTimeout;this._fragmentLoadMaxRetry=void 0===a.fragmentLoadMaxRetry?3:a.fragmentLoadMaxRetry;this._fragmentLoadMaxRetryTimeout=void 0===a.fragmentLoadMaxRetryTimeout?4E3:a.fragmentLoadMaxRetryTimeout;this._fragmentLoadSkipAfterMaxRetry=
void 0===a.fragmentLoadSkipAfterMaxRetry||a.fragmentLoadSkipAfterMaxRetry;this._maxSkippedFragments=void 0===a.maxSkippedFragments?5:a.maxSkippedFragments;this._flushLiveURLCache=void 0!==a.flushLiveURLCache&&a.flushLiveURLCache;this._initialLiveManifestSize=void 0===a.initialLiveManifestSize?1:a.initialLiveManifestSize;this._manifestLoadMaxRetry=void 0===a.manifestLoadMaxRetry?3:a.manifestLoadMaxRetry;this._manifestLoadMaxRetryTimeout=void 0===a.manifestLoadMaxRetryTimeout?64E3:a.manifestLoadMaxRetryTimeout;
this._manifestRedundantLoadmaxRetry=void 0===a.manifestRedundantLoadmaxRetry?3:a.manifestRedundantLoadmaxRetry;this._startFromBitrate=void 0===a.startFromBitrate?-1:a.startFromBitrate;this._startFromLevel=void 0===a.startFromLevel?-1:a.startFromLevel;this._autoStartMaxDuration=void 0===a.autoStartMaxDuration?-1:a.autoStartMaxDuration;this._seekFromLevel=void 0===a.seekFromLevel?-1:a.seekFromLevel;this._useHardwareVideoDecoder=void 0!==a.useHardwareVideoDecoder&&a.useHardwareVideoDecoder;this._hlsLogEnabled=
void 0===a.hlsLogEnabled||a.hlsLogEnabled;this._logDebug=void 0!==a.logDebug&&a.logDebug;this._logDebug2=void 0!==a.logDebug2&&a.logDebug2;this._logWarn=void 0===a.logWarn||a.logWarn;this._logError=void 0===a.logError||a.logError;this._hlsMinimumDvrSize=void 0===a.hlsMinimumDvrSize?60:a.hlsMinimumDvrSize},a.prototype._addListeners=function(){var a=this;b["default"].on(this.cid+":flashready",function(){return a._bootstrap()});b["default"].on(this.cid+":timeupdate",function(f){return a._updateTime(f)});
b["default"].on(this.cid+":playbackstate",function(f){return a._setPlaybackState(f)});b["default"].on(this.cid+":levelchanged",function(f){return a._levelChanged(f)});b["default"].on(this.cid+":error",function(f,d,b){return a._flashPlaybackError(f,d,b)});b["default"].on(this.cid+":fragmentloaded",function(f){return a._onFragmentLoaded(f)});b["default"].on(this.cid+":levelendlist",function(f){return a._onLevelEndlist(f)})},a.prototype.stopListening=function(){d.prototype.stopListening.call(this);b["default"].off(this.cid+
":flashready");b["default"].off(this.cid+":timeupdate");b["default"].off(this.cid+":playbackstate");b["default"].off(this.cid+":levelchanged");b["default"].off(this.cid+":playbackerror");b["default"].off(this.cid+":fragmentloaded");b["default"].off(this.cid+":manifestloaded");b["default"].off(this.cid+":levelendlist")},a.prototype._bootstrap=function(){var a=this;this.el.playerLoad?(this.el.width="100%",this.el.height="100%",this._isReadyState=!0,this._srcLoaded=!1,this._currentState="IDLE",this._setFlashSettings(),
this._updatePlaybackType(),(this._autoPlay||this._shouldPlayOnManifestLoaded)&&this.play(),this.trigger(p["default"].PLAYBACK_READY,this.name)):(this._bootstrapAttempts=this._bootstrapAttempts||0,60>=++this._bootstrapAttempts?setTimeout(function(){return a._bootstrap()},50):this.trigger(p["default"].PLAYBACK_ERROR,{message:"Max number of attempts reached"},this.name))},a.prototype._setFlashSettings=function(){this.el.playerSetAutoStartLoad(this._autoStartLoad);this.el.playerSetCapLevelToStage(this._capLevelToStage);
this.el.playerSetMaxLevelCappingMode(this._maxLevelCappingMode);this.el.playerSetMinBufferLength(this._minBufferLength);this.el.playerSetMinBufferLengthCapping(this._minBufferLengthCapping);this.el.playerSetMaxBufferLength(this._maxBufferLength);this.el.playerSetMaxBackBufferLength(this._maxBackBufferLength);this.el.playerSetLowBufferLength(this._lowBufferLength);this.el.playerSetMediaTimePeriod(this._mediaTimePeriod);this.el.playerSetFpsDroppedMonitoringPeriod(this._fpsDroppedMonitoringPeriod);this.el.playerSetFpsDroppedMonitoringThreshold(this._fpsDroppedMonitoringThreshold);
this.el.playerSetCapLevelonFPSDrop(this._capLevelonFPSDrop);this.el.playerSetSmoothAutoSwitchonFPSDrop(this._smoothAutoSwitchonFPSDrop);this.el.playerSetSwitchDownOnLevelError(this._switchDownOnLevelError);this.el.playerSetSeekMode(this._seekMode);this.el.playerSetKeyLoadMaxRetry(this._keyLoadMaxRetry);this.el.playerSetKeyLoadMaxRetryTimeout(this._keyLoadMaxRetryTimeout);this.el.playerSetFragmentLoadMaxRetry(this._fragmentLoadMaxRetry);this.el.playerSetFragmentLoadMaxRetryTimeout(this._fragmentLoadMaxRetryTimeout);
this.el.playerSetFragmentLoadSkipAfterMaxRetry(this._fragmentLoadSkipAfterMaxRetry);this.el.playerSetMaxSkippedFragments(this._maxSkippedFragments);this.el.playerSetFlushLiveURLCache(this._flushLiveURLCache);this.el.playerSetInitialLiveManifestSize(this._initialLiveManifestSize);this.el.playerSetManifestLoadMaxRetry(this._manifestLoadMaxRetry);this.el.playerSetManifestLoadMaxRetryTimeout(this._manifestLoadMaxRetryTimeout);this.el.playerSetManifestRedundantLoadmaxRetry(this._manifestRedundantLoadmaxRetry);
this.el.playerSetStartFromBitrate(this._startFromBitrate);this.el.playerSetStartFromLevel(this._startFromLevel);this.el.playerSetAutoStartMaxDuration(this._autoStartMaxDuration);this.el.playerSetSeekFromLevel(this._seekFromLevel);this.el.playerSetUseHardwareVideoDecoder(this._useHardwareVideoDecoder);this.el.playerSetLogInfo(this._hlsLogEnabled);this.el.playerSetLogDebug(this._logDebug);this.el.playerSetLogDebug2(this._logDebug2);this.el.playerSetLogWarn(this._logWarn);this.el.playerSetLogError(this._logError)},
a.prototype.setAutoStartLoad=function(a){this._autoStartLoad=a;this.el.playerSetAutoStartLoad(this._autoStartLoad)},a.prototype.setCapLevelToStage=function(a){this._capLevelToStage=a;this.el.playerSetCapLevelToStage(this._capLevelToStage)},a.prototype.setMaxLevelCappingMode=function(a){this._maxLevelCappingMode=a;this.el.playerSetMaxLevelCappingMode(this._maxLevelCappingMode)},a.prototype.setSetMinBufferLength=function(a){this._minBufferLength=a;this.el.playerSetMinBufferLength(this._minBufferLength)},
a.prototype.setMinBufferLengthCapping=function(a){this._minBufferLengthCapping=a;this.el.playerSetMinBufferLengthCapping(this._minBufferLengthCapping)},a.prototype.setMaxBufferLength=function(a){this._maxBufferLength=a;this.el.playerSetMaxBufferLength(this._maxBufferLength)},a.prototype.setMaxBackBufferLength=function(a){this._maxBackBufferLength=a;this.el.playerSetMaxBackBufferLength(this._maxBackBufferLength)},a.prototype.setLowBufferLength=function(a){this._lowBufferLength=a;this.el.playerSetLowBufferLength(this._lowBufferLength)},
a.prototype.setMediaTimePeriod=function(a){this._mediaTimePeriod=a;this.el.playerSetMediaTimePeriod(this._mediaTimePeriod)},a.prototype.setFpsDroppedMonitoringPeriod=function(a){this._fpsDroppedMonitoringPeriod=a;this.el.playerSetFpsDroppedMonitoringPeriod(this._fpsDroppedMonitoringPeriod)},a.prototype.setFpsDroppedMonitoringThreshold=function(a){this._fpsDroppedMonitoringThreshold=a;this.el.playerSetFpsDroppedMonitoringThreshold(this._fpsDroppedMonitoringThreshold)},a.prototype.setCapLevelonFPSDrop=
function(a){this._capLevelonFPSDrop=a;this.el.playerSetCapLevelonFPSDrop(this._capLevelonFPSDrop)},a.prototype.setSmoothAutoSwitchonFPSDrop=function(a){this._smoothAutoSwitchonFPSDrop=a;this.el.playerSetSmoothAutoSwitchonFPSDrop(this._smoothAutoSwitchonFPSDrop)},a.prototype.setSwitchDownOnLevelError=function(a){this._switchDownOnLevelError=a;this.el.playerSetSwitchDownOnLevelError(this._switchDownOnLevelError)},a.prototype.setSeekMode=function(a){this._seekMode=a;this.el.playerSetSeekMode(this._seekMode)},
a.prototype.setKeyLoadMaxRetry=function(a){this._keyLoadMaxRetry=a;this.el.playerSetKeyLoadMaxRetry(this._keyLoadMaxRetry)},a.prototype.setKeyLoadMaxRetryTimeout=function(a){this._keyLoadMaxRetryTimeout=a;this.el.playerSetKeyLoadMaxRetryTimeout(this._keyLoadMaxRetryTimeout)},a.prototype.setFragmentLoadMaxRetry=function(a){this._fragmentLoadMaxRetry=a;this.el.playerSetFragmentLoadMaxRetry(this._fragmentLoadMaxRetry)},a.prototype.setFragmentLoadMaxRetryTimeout=function(a){this._fragmentLoadMaxRetryTimeout=
a;this.el.playerSetFragmentLoadMaxRetryTimeout(this._fragmentLoadMaxRetryTimeout)},a.prototype.setFragmentLoadSkipAfterMaxRetry=function(a){this._fragmentLoadSkipAfterMaxRetry=a;this.el.playerSetFragmentLoadSkipAfterMaxRetry(this._fragmentLoadSkipAfterMaxRetry)},a.prototype.setMaxSkippedFragments=function(a){this._maxSkippedFragments=a;this.el.playerSetMaxSkippedFragments(this._maxSkippedFragments)},a.prototype.setFlushLiveURLCache=function(a){this._flushLiveURLCache=a;this.el.playerSetFlushLiveURLCache(this._flushLiveURLCache)},
a.prototype.setInitialLiveManifestSize=function(a){this._initialLiveManifestSize=a;this.el.playerSetInitialLiveManifestSize(this._initialLiveManifestSize)},a.prototype.setManifestLoadMaxRetry=function(a){this._manifestLoadMaxRetry=a;this.el.playerSetManifestLoadMaxRetry(this._manifestLoadMaxRetry)},a.prototype.setManifestLoadMaxRetryTimeout=function(a){this._manifestLoadMaxRetryTimeout=a;this.el.playerSetManifestLoadMaxRetryTimeout(this._manifestLoadMaxRetryTimeout)},a.prototype.setManifestRedundantLoadmaxRetry=
function(a){this._manifestRedundantLoadmaxRetry=a;this.el.playerSetManifestRedundantLoadmaxRetry(this._manifestRedundantLoadmaxRetry)},a.prototype.setStartFromBitrate=function(a){this._startFromBitrate=a;this.el.playerSetStartFromBitrate(this._startFromBitrate)},a.prototype.setStartFromLevel=function(a){this._startFromLevel=a;this.el.playerSetStartFromLevel(this._startFromLevel)},a.prototype.setAutoStartMaxDuration=function(a){this._autoStartMaxDuration=a;this.el.playerSetAutoStartMaxDuration(this._autoStartMaxDuration)},
a.prototype.setSeekFromLevel=function(a){this._seekFromLevel=a;this.el.playerSetSeekFromLevel(this._seekFromLevel)},a.prototype.setUseHardwareVideoDecoder=function(a){this._useHardwareVideoDecoder=a;this.el.playerSetUseHardwareVideoDecoder(this._useHardwareVideoDecoder)},a.prototype.setSetLogInfo=function(a){this._hlsLogEnabled=a;this.el.playerSetLogInfo(this._hlsLogEnabled)},a.prototype.setLogDebug=function(a){this._logDebug=a;this.el.playerSetLogDebug(this._logDebug)},a.prototype.setLogDebug2=function(a){this._logDebug2=
a;this.el.playerSetLogDebug2(this._logDebug2)},a.prototype.setLogWarn=function(a){this._logWarn=a;this.el.playerSetLogWarn(this._logWarn)},a.prototype.setLogError=function(a){this._logError=a;this.el.playerSetLogError(this._logError)},a.prototype._levelChanged=function(a){var f=this.el.getLevels()[a];f&&(this.highDefinition=720<=f.height||2E3<=f.bitrate/1E3,this.trigger(p["default"].PLAYBACK_HIGHDEFINITIONUPDATE,this.highDefinition),this._levels&&0!==this._levels.length||this._fillLevels(),this.trigger(p["default"].PLAYBACK_BITRATE,
{height:f.height,width:f.width,bandwidth:f.bitrate,bitrate:f.bitrate,level:a}),this.trigger(p["default"].PLAYBACK_LEVEL_SWITCH_END))},a.prototype._updateTime=function(a){if("IDLE"!==this._currentState){var f=this._normalizeDuration(a.duration);a=Math.min(Math.max(a.position,0),f);var d=this._dvrEnabled,b=this._playbackType===e["default"].LIVE;this._dvrEnabled=b&&f>this._hlsMinimumDvrSize;100!==f&&void 0!==b&&(this._dvrEnabled!==d&&(this._updateSettings(),this.trigger(p["default"].PLAYBACK_SETTINGSUPDATE,
this.name)),!b||this._dvrEnabled&&this._dvrInUse||(a=f),this.trigger(p["default"].PLAYBACK_TIMEUPDATE,{current:a,total:f},this.name))}},a.prototype.play=function(){this.trigger(p["default"].PLAYBACK_PLAY_INTENT);"PAUSED"===this._currentState?this.el.playerResume():this._srcLoaded||"PLAYING"===this._currentState?this.el.playerPlay():this._firstPlay()},a.prototype.getPlaybackType=function(){return this._playbackType?this._playbackType:null},a.prototype.getCurrentLevelIndex=function(){return this._currentLevel},
a.prototype.getCurrentLevel=function(){return this.levels[this.currentLevel]},a.prototype.getCurrentBitrate=function(){return this.levels[this.currentLevel].bitrate},a.prototype.setCurrentLevel=function(a){this.currentLevel=a},a.prototype.isHighDefinitionInUse=function(){return this.highDefinition},a.prototype.getLevels=function(){return this.levels},a.prototype._setPlaybackState=function(a){0<=["PLAYING_BUFFERING","PAUSED_BUFFERING"].indexOf(a)?(this._bufferingState=!0,this.trigger(p["default"].PLAYBACK_BUFFERING,
this.name),this._updateCurrentState(a)):0<=["PLAYING","PAUSED"].indexOf(a)?(0<=["PLAYING_BUFFERING","PAUSED_BUFFERING","IDLE"].indexOf(this._currentState)&&(this._bufferingState=!1,this.trigger(p["default"].PLAYBACK_BUFFERFULL,this.name)),this._updateCurrentState(a)):"IDLE"===a&&(this._srcLoaded=!1,this._loop&&0<=["PLAYING_BUFFERING","PLAYING"].indexOf(this._currentState)?(this.play(),this.seek(0)):(this._updateCurrentState(a),this._hasEnded=!0,this.trigger(p["default"].PLAYBACK_TIMEUPDATE,{current:0,
total:this.getDuration()},this.name),this.trigger(p["default"].PLAYBACK_ENDED,this.name)))},a.prototype._updateCurrentState=function(a){this._currentState=a;"IDLE"!==a&&(this._hasEnded=!1);this._updatePlaybackType();"PLAYING"===a?this.trigger(p["default"].PLAYBACK_PLAY,this.name):"PAUSED"===a&&this.trigger(p["default"].PLAYBACK_PAUSE,this.name)},a.prototype._updatePlaybackType=function(){(this._playbackType=this.el.getType())&&(this._playbackType=this._playbackType.toLowerCase(),this._playbackType===
e["default"].VOD?this._startReportingProgress():this._stopReportingProgress());this.trigger(p["default"].PLAYBACK_PLAYBACKSTATE,{type:this._playbackType})},a.prototype._startReportingProgress=function(){this._reportingProgress||(this._reportingProgress=!0)},a.prototype._stopReportingProgress=function(){this._reportingProgress=!1},a.prototype._onFragmentLoaded=function(a){if(this.trigger(p["default"].PLAYBACK_FRAGMENT_LOADED,a),this._reportingProgress&&this.el.getPosition)a=this.el.getPosition()+this.el.getbufferLength(),
this.trigger(p["default"].PLAYBACK_PROGRESS,{start:this.el.getPosition(),current:a,total:this.el.getDuration()})},a.prototype._onLevelEndlist=function(){this._updatePlaybackType()},a.prototype._firstPlay=function(){var a=this;this._shouldPlayOnManifestLoaded=!0;this.el.playerLoad&&(b["default"].once(this.cid+":manifestloaded",function(f,d){return a._manifestLoaded(f,d)}),this._setFlashSettings(),this.el.playerLoad(this._src),this._srcLoaded=!0)},a.prototype.volume=function(a){var f=this;this.isReady?
this.el.playerVolume(a):this.listenToOnce(this,p["default"].PLAYBACK_BUFFERFULL,function(){return f.volume(a)})},a.prototype.pause=function(){(this._playbackType!==e["default"].LIVE||this._dvrEnabled)&&(this.el.playerPause(),this._playbackType===e["default"].LIVE&&this._dvrEnabled&&this._updateDvr(!0))},a.prototype.stop=function(){this._srcLoaded=!1;this.el.playerStop();this.trigger(p["default"].PLAYBACK_STOP);this.trigger(p["default"].PLAYBACK_TIMEUPDATE,{current:0,total:0},this.name)},a.prototype.isPlaying=
function(){return!!this._currentState&&!!this._currentState.match(/playing/i)},a.prototype.getDuration=function(){return this._normalizeDuration(this.el.getDuration())},a.prototype._normalizeDuration=function(a){return this._playbackType===e["default"].LIVE&&(a=Math.max(0,a-10)),a},a.prototype.seekPercentage=function(a){var f=this.el.getDuration(),d=0;0<a&&(d=f*a/100);this.seek(d)},a.prototype.seek=function(a){var d=this.getDuration();this._playbackType===e["default"].LIVE&&this._updateDvr(3<d-a);
this.el.playerSeek(a);this.trigger(p["default"].PLAYBACK_TIMEUPDATE,{current:a,total:d},this.name)},a.prototype._updateDvr=function(a){var d=!!this._dvrInUse;this._dvrInUse=a;this._dvrInUse!==d&&(this._updateSettings(),this.trigger(p["default"].PLAYBACK_DVR,this._dvrInUse),this.trigger(p["default"].PLAYBACK_STATS_ADD,{dvr:this._dvrInUse}))},a.prototype._flashPlaybackError=function(a,d,b){this.trigger(p["default"].PLAYBACK_ERROR,{code:a,url:d,message:b});this.trigger(p["default"].PLAYBACK_STOP)},a.prototype._manifestLoaded=
function(a,d){this._shouldPlayOnManifestLoaded&&(this._shouldPlayOnManifestLoaded=!1,this.el.playerPlay());this._fillLevels();this.trigger(p["default"].PLAYBACK_LOADEDMETADATA,{duration:a,data:d})},a.prototype._fillLevels=function(){var a=this.el.getLevels(),d=a.length;this._levels=[];for(var b=0;b<d;b++)this._levels.push({id:b,label:a[b].height+"p",level:a[b]});this.trigger(p["default"].PLAYBACK_LEVELS_AVAILABLE,this._levels)},a.prototype.destroy=function(){this.stopListening();this.$el.remove()},
a.prototype._updateSettings=function(){this.settings=l["default"].extend({},this._defaultSettings);this._playbackType===e["default"].VOD||this._dvrInUse?(this.settings.left=["playpause","position","duration"],this.settings.seekEnabled=!0):this._dvrEnabled?(this.settings.left=["playpause"],this.settings.seekEnabled=!0):this.settings.seekEnabled=!1},a.prototype._createCallbacks=function(){var a=this;window.Clappr||(window.Clappr={});window.Clappr.flashlsCallbacks||(window.Clappr.flashlsCallbacks={});
this.flashlsEvents=new k["default"](this.cid);window.Clappr.flashlsCallbacks[this.cid]=function(d,f){a.flashlsEvents[d].apply(a.flashlsEvents,f)}},a.prototype.render=function(){return d.prototype.render.call(this),this._createCallbacks(),this},g(a,[{key:"isReady",get:function(){return this._isReadyState}},{key:"dvrEnabled",get:function(){return!!this._dvrEnabled}}]),a}(q["default"]);t["default"]=c;c.canPlay=function(d,a){var f=d.split("?")[0].match(/.*\.(.*)$/)||[];return n["default"].hasFlash&&(1<
f.length&&"m3u8"===f[1].toLowerCase()||"application/x-mpegURL"===a||"application/vnd.apple.mpegurl"===a)};w.exports=t["default"]},function(w,t,c){Object.defineProperty(t,"__esModule",{value:!0});var v=(c=c(10))&&c.__esModule?c:{"default":c};c=function(){function c(g){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.instanceId=g}return c.prototype.ready=function(){v["default"].trigger(this.instanceId+":flashready")},c.prototype.videoSize=function(c,m){v["default"].trigger(this.instanceId+
":videosizechanged",c,m)},c.prototype.complete=function(){v["default"].trigger(this.instanceId+":complete")},c.prototype.error=function(c,m,u){v["default"].trigger(this.instanceId+":error",c,m,u)},c.prototype.manifest=function(c,m){v["default"].trigger(this.instanceId+":manifestloaded",c,m)},c.prototype.audioLevelLoaded=function(c){v["default"].trigger(this.instanceId+":audiolevelloaded",c)},c.prototype.levelLoaded=function(c){v["default"].trigger(this.instanceId+":levelloaded",c)},c.prototype.levelEndlist=
function(c){v["default"].trigger(this.instanceId+":levelendlist",c)},c.prototype.fragmentLoaded=function(c){v["default"].trigger(this.instanceId+":fragmentloaded",c)},c.prototype.fragmentPlaying=function(c){v["default"].trigger(this.instanceId+":fragmentplaying",c)},c.prototype.position=function(c){v["default"].trigger(this.instanceId+":timeupdate",c)},c.prototype.state=function(c){v["default"].trigger(this.instanceId+":playbackstate",c)},c.prototype.seekState=function(c){v["default"].trigger(this.instanceId+
":seekstate",c)},c.prototype["switch"]=function(c){v["default"].trigger(this.instanceId+":levelchanged",c)},c.prototype.audioTracksListChange=function(c){v["default"].trigger(this.instanceId+":audiotracklistchanged",c)},c.prototype.audioTrackChange=function(c){v["default"].trigger(this.instanceId+":audiotrackchanged",c)},c}();t["default"]=c;w.exports=t["default"]},function(w,t,c){function v(b){return b&&b.__esModule?b:{"default":b}}function m(b){if(Array.isArray(b)){for(var d=0,a=Array(b.length);d<
b.length;d++)a[d]=b[d];return a}return Array.from(b)}function g(b,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);b.prototype=Object.create(d&&d.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(b,d):b.__proto__=d)}Object.defineProperty(t,"__esModule",{value:!0});var q=function(){function b(d,a){for(var f=0;f<a.length;f++){var b=a[f];b.enumerable=
b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(d,b.key,b)}}return function(d,a,f){return a&&b(d.prototype,a),f&&b(d,f),d}}(),u=c(16),u=v(u),p=c(94),h=v(p),p=c(104),e=v(p),p=c(0),b=v(p),p=c(2),n=v(p),p=c(7),k=(v(p),c(1));c=c(19);var r=v(c);c=function(l){function d(){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");for(var a=arguments.length,f=Array(a),b=0;b<a;b++)f[b]=arguments[b];a=l.call.apply(l,[this].concat(f));if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
a=!a||"object"!=typeof a&&"function"!=typeof a?this:a;return a.options.playback||(a.options.playback=a.options),a._minDvrSize=void 0===a.options.hlsMinimumDvrSize?60:a.options.hlsMinimumDvrSize,a._extrapolatedWindowNumSegments=a.options.playback&&void 0!==a.options.playback.extrapolatedWindowNumSegments?a.options.playback.extrapolatedWindowNumSegments:2,a._playbackType=n["default"].VOD,a._lastTimeUpdate=null,a._lastDuration=null,a._playableRegionStartTime=0,a._localStartTimeCorrelation=null,a._localEndTimeCorrelation=
null,a._playableRegionDuration=0,a._durationExcludesAfterLiveSyncPoint=!1,a._segmentTargetDuration=null,a._playlistType=null,a._recoverAttemptsRemaining=a.options.hlsRecoverAttempts||16,a._startTimeUpdateTimer(),a}return g(d,l),q(d,[{key:"name",get:function(){return"hls"}},{key:"levels",get:function(){return this._levels||[]}},{key:"currentLevel",get:function(){return null===this._currentLevel||void 0===this._currentLevel?-1:this._currentLevel},set:function(a){this._currentLevel=a;this.trigger(b["default"].PLAYBACK_LEVEL_SWITCH_START);
this._hls.currentLevel=this._currentLevel}},{key:"_startTime",get:function(){return this._playbackType===n["default"].LIVE&&"EVENT"!==this._playlistType?this._extrapolatedStartTime:this._playableRegionStartTime}},{key:"_now",get:function(){return(0,k.now)()}},{key:"_extrapolatedStartTime",get:function(){if(!this._localStartTimeCorrelation)return this._playableRegionStartTime;var a=this._localStartTimeCorrelation;return Math.min((a.remote+(this._now-a.local))/1E3,this._playableRegionStartTime+this._extrapolatedWindowDuration)}},
{key:"_extrapolatedEndTime",get:function(){var a=this._playableRegionStartTime+this._playableRegionDuration;if(!this._localEndTimeCorrelation)return a;var d=this._localEndTimeCorrelation;return Math.max(a-this._extrapolatedWindowDuration,Math.min((d.remote+(this._now-d.local))/1E3,a))}},{key:"_duration",get:function(){return this._extrapolatedEndTime-this._startTime}},{key:"_extrapolatedWindowDuration",get:function(){return null===this._segmentTargetDuration?0:this._extrapolatedWindowNumSegments*
this._segmentTargetDuration}}]),d.prototype._setupHls=function(){var a=this;this._hls=new h["default"](this.options.playback.hlsjsConfig||{});this._hls.on(h["default"].Events.MEDIA_ATTACHED,function(){return a._hls.loadSource(a.options.src)});this._hls.on(h["default"].Events.LEVEL_LOADED,function(d,b){return a._updatePlaybackType(d,b)});this._hls.on(h["default"].Events.LEVEL_UPDATED,function(d,b){return a._onLevelUpdated(d,b)});this._hls.on(h["default"].Events.LEVEL_SWITCH,function(d,b){return a._onLevelSwitch(d,
b)});this._hls.on(h["default"].Events.FRAG_LOADED,function(d,b){return a._onFragmentLoaded(d,b)});this._hls.on(h["default"].Events.ERROR,function(d,b){return a._onHLSJSError(d,b)});this._hls.attachMedia(this.el)},d.prototype._recover=function(a,d){this._recoveredDecodingError?this._recoveredAudioCodecError?(r["default"].error("hlsjs: failed to recover"),this.trigger(b["default"].PLAYBACK_ERROR,"hlsjs: could not recover from error, evt "+a+", data "+d+" ",this.name)):(this._recoveredAudioCodecError=
!0,this._hls.swapAudioCodec(),this._hls.recoverMediaError()):(this._recoveredDecodingError=!0,this._hls.recoverMediaError())},d.prototype._setupSrc=function(a){},d.prototype._startTimeUpdateTimer=function(){var a=this;this._timeUpdateTimer=setInterval(function(){a._onDurationChange();a._onTimeUpdate()},100)},d.prototype._stopTimeUpdateTimer=function(){clearInterval(this._timeUpdateTimer)},d.prototype.getDuration=function(){return this._duration},d.prototype.getCurrentTime=function(){return Math.max(0,
this.el.currentTime-this._startTime)},d.prototype.getStartTimeOffset=function(){return this._startTime},d.prototype.seekPercentage=function(a){var d=this._duration;0<a&&(d=a/100*this._duration);this.seek(d)},d.prototype.seek=function(a){0>a&&(r["default"].warn("Attempt to seek to a negative time. Resetting to live point. Use seekToLivePoint() to seek to the live point."),a=this.getDuration());this.dvrEnabled&&this._updateDvr(a<this.getDuration()-3);a+=this._startTime;l.prototype.seek.call(this,a)},
d.prototype.seekToLivePoint=function(){this.seek(this.getDuration())},d.prototype._updateDvr=function(a){this.trigger(b["default"].PLAYBACK_DVR,a);this.trigger(b["default"].PLAYBACK_STATS_ADD,{dvr:a})},d.prototype._updateSettings=function(){this._playbackType===n["default"].VOD?this.settings.left=["playpause","position","duration"]:this.dvrEnabled?this.settings.left=["playpause"]:this.settings.left=["playstop"];this.settings.seekEnabled=this.isSeekEnabled();this.trigger(b["default"].PLAYBACK_SETTINGSUPDATE)},
d.prototype._onHLSJSError=function(a,d){if(d.fatal)if(0<this._recoverAttemptsRemaining)switch(--this._recoverAttemptsRemaining,d.type){case h["default"].ErrorTypes.NETWORK_ERROR:r["default"].warn("hlsjs: trying to recover from network error, evt "+a+", data "+d+" ");this._hls.startLoad();break;case h["default"].ErrorTypes.MEDIA_ERROR:r["default"].warn("hlsjs: trying to recover from media error, evt "+a+", data "+d+" ");this._recover(a,d);break;default:r["default"].error("hlsjs: trying to recover from error, evt "+
a+", data "+d+" "),this.trigger(b["default"].PLAYBACK_ERROR,"hlsjs: could not recover from error, evt "+a+", data "+d+" ",this.name)}else r["default"].error("hlsjs: could not recover from error after maximum number of attempts, evt "+a+", data "+d+" "),this.trigger(b["default"].PLAYBACK_ERROR,{evt:a,data:d},this.name);else r["default"].warn("hlsjs: non-fatal error occurred, evt "+a+", data "+d+" ")},d.prototype._onTimeUpdate=function(){var a={current:this.getCurrentTime(),total:this.getDuration()};
(0,e["default"])(a,this._lastTimeUpdate)||(this._lastTimeUpdate=a,this.trigger(b["default"].PLAYBACK_TIMEUPDATE,a,this.name))},d.prototype._onDurationChange=function(){var a=this.getDuration();this._lastDuration!==a&&(this._lastDuration=a,l.prototype._onDurationChange.call(this))},d.prototype._onProgress=function(){if(this.el.buffered.length){for(var a=[],d=0,e=0;e<this.el.buffered.length;e++)a=[].concat(m(a),[{start:Math.max(0,this.el.buffered.start(e)-this._playableRegionStartTime),end:Math.max(0,
this.el.buffered.end(e)-this._playableRegionStartTime)}]),this.el.currentTime>=a[e].start&&this.el.currentTime<=a[e].end&&(d=e);d={start:a[d].start,current:a[d].end,total:this.getDuration()};this.trigger(b["default"].PLAYBACK_PROGRESS,d,a)}},d.prototype.play=function(){this._hls||this._setupHls();l.prototype.play.call(this)},d.prototype.pause=function(){this._hls&&(l.prototype.pause.call(this),this.dvrEnabled&&this._updateDvr(!0))},d.prototype.stop=function(){this._hls&&(l.prototype.stop.call(this),
this._hls.destroy(),delete this._hls)},d.prototype.destroy=function(){this._stopTimeUpdateTimer();this._hls&&(this._hls.destroy(),delete this._hls);l.prototype.destroy.call(this)},d.prototype._updatePlaybackType=function(a,d){this._playbackType=d.details.live?n["default"].LIVE:n["default"].VOD;this._fillLevels();this._onLevelUpdated(a,d)},d.prototype._fillLevels=function(){this._levels=this._hls.levels.map(function(a,d){return{id:d,level:a,label:a.bitrate/1E3+"Kbps"}});this.trigger(b["default"].PLAYBACK_LEVELS_AVAILABLE,
this._levels)},d.prototype._onLevelUpdated=function(a,d){this._segmentTargetDuration=d.details.targetduration;this._playlistType=d.details.type||null;var b=!1,f=!1,e=d.details.fragments,l=this._playableRegionStartTime,k=this._playableRegionDuration;if(0!==e.length){if(this._playableRegionStartTime!==e[0].start&&(b=!0,this._playableRegionStartTime=e[0].start),b)if(this._localStartTimeCorrelation){var r=this._localStartTimeCorrelation,r=(r.remote+(this._now-r.local))/1E3;r<e[0].start?this._localStartTimeCorrelation=
{local:this._now,remote:1E3*e[0].start}:r>l+this._extrapolatedWindowDuration&&(this._localStartTimeCorrelation={local:this._now,remote:1E3*Math.max(e[0].start,l+this._extrapolatedWindowDuration)})}else this._localStartTimeCorrelation={local:this._now,remote:1E3*(e[0].start+this._extrapolatedWindowDuration/2)};r=d.details.totalduration;if(this._playbackType===n["default"].LIVE){var c=d.details.targetduration*((this.options.playback||{}).liveSyncDurationCount||h["default"].DefaultConfig.liveSyncDurationCount);
c<=r?(r-=c,this._durationExcludesAfterLiveSyncPoint=!0):this._durationExcludesAfterLiveSyncPoint=!1}r!==this._playableRegionDuration&&(f=!0,this._playableRegionDuration=r);e=e[0].start+r;l+=k;e!==l&&(this._localEndTimeCorrelation?(k=this._localEndTimeCorrelation,k=(k.remote+(this._now-k.local))/1E3,k>e?this._localEndTimeCorrelation={local:this._now,remote:1E3*e}:k<e-this._extrapolatedWindowDuration?this._localEndTimeCorrelation={local:this._now,remote:1E3*(e-this._extrapolatedWindowDuration)}:k>l&&
(this._localEndTimeCorrelation={local:this._now,remote:1E3*l})):this._localEndTimeCorrelation={local:this._now,remote:1E3*e});f&&this._onDurationChange();b&&this._onProgress()}},d.prototype._onFragmentLoaded=function(a,d){this.trigger(b["default"].PLAYBACK_FRAGMENT_LOADED,d)},d.prototype._onLevelSwitch=function(a,d){this.levels.length||this._fillLevels();this.trigger(b["default"].PLAYBACK_LEVEL_SWITCH_END);this.trigger(b["default"].PLAYBACK_LEVEL_SWITCH,d);var f=this._hls.levels[d.level];f&&(this.highDefinition=
720<=f.height||2E3<=f.bitrate/1E3,this.trigger(b["default"].PLAYBACK_HIGHDEFINITIONUPDATE,this.highDefinition),this.trigger(b["default"].PLAYBACK_BITRATE,{height:f.height,width:f.width,bandwidth:f.bitrate,bitrate:f.bitrate,level:d.level}))},d.prototype.getPlaybackType=function(){return this._playbackType},d.prototype.isSeekEnabled=function(){return this._playbackType===n["default"].VOD||this.dvrEnabled},q(d,[{key:"dvrEnabled",get:function(){return this._durationExcludesAfterLiveSyncPoint&&this._duration>=
this._minDvrSize&&this.getPlaybackType()===n["default"].LIVE}}]),d}(u["default"]);t["default"]=c;c.canPlay=function(b,d){var a=b.split("?")[0].match(/.*\.(.*)$/)||[],a=1<a.length&&"m3u8"===a[1].toLowerCase()||"application/x-mpegURL"===d||"application/vnd.apple.mpegurl"===d;return!(!h["default"].isSupported()||!a)};w.exports=t["default"]},function(w,t,c){function v(e){return e&&e.__esModule?e:{"default":e}}function m(e,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+
typeof b);e.prototype=Object.create(b&&b.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(e,b):e.__proto__=b)}Object.defineProperty(t,"__esModule",{value:!0});var g=function(){function e(b,e){for(var k=0;k<e.length;k++){var r=e[k];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(b,r.key,r)}}return function(b,n,k){return n&&e(b.prototype,n),k&&e(b,k),b}}(),q=c(0),u=v(q),q=c(2),
p=v(q);c=c(16);var h=v(c);c=function(e){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var n=e.apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?this:n}return m(b,e),b.prototype.updateSettings=function(){this.settings.left=["playpause","position","duration"];this.settings.seekEnabled=this.isSeekEnabled();this.trigger(u["default"].PLAYBACK_SETTINGSUPDATE)},
b.prototype.getPlaybackType=function(){return p["default"].AOD},g(b,[{key:"name",get:function(){return"html5_audio"}},{key:"tagName",get:function(){return"audio"}},{key:"isAudioOnly",get:function(){return!0}}]),b}(h["default"]);t["default"]=c;c.canPlay=function(e,b){return h["default"]._canPlay("audio",{wav:["audio/wav"],mp3:["audio/mp3",'audio/mpeg;codecs="mp3"'],aac:['audio/mp4;codecs="mp4a.40.5"'],oga:["audio/ogg"]},e,b)};w.exports=t["default"]},function(w,t,c){(function(v){function m(a){return a&&
a.__esModule?a:{"default":a}}function g(a,d){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||"object"!=typeof d&&"function"!=typeof d?a:d}function q(a,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);a.prototype=Object.create(d&&d.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(a,d):a.__proto__=
d)}function u(a){if(Array.isArray(a)){for(var d=0,b=Array(a.length);d<a.length;d++)b[d]=a[d];return b}return Array.from(a)}Object.defineProperty(t,"__esModule",{value:!0});var p=function(){function a(a,d){for(var b=0;b<d.length;b++){var f=d[b];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(a,f.key,f)}}return function(d,b,f){return b&&a(d.prototype,b),f&&a(d,f),d}}(),h=c(1),e=c(2),b=m(e),e=c(4),n=m(e),e=c(7),k=m(e),e=c(0),r=m(e),e=c(86),l=m(e),e=
c(3),d=m(e),a={mp4:"avc1.42E01E avc1.58A01E avc1.4D401E avc1.64001E mp4v.20.8 mp4v.20.240 mp4a.40.2".split(" ").map(function(a){return'video/mp4; codecs="'+a+', mp4a.40.2"'}),ogg:['video/ogg; codecs="theora, vorbis"','video/ogg; codecs="dirac"','video/ogg; codecs="theora, speex"'],"3gpp":['video/3gpp; codecs="mp4v.20.8, samr"'],webm:['video/webm; codecs="vp8, vorbis"'],mkv:['video/x-matroska; codecs="theora, vorbis"'],m3u8:["application/x-mpegurl"]};a.ogv=a.ogg;a["3gp"]=a["3gpp"];var f={wav:["audio/wav"],
mp3:["audio/mp3",'audio/mpeg;codecs="mp3"'],aac:['audio/mp4;codecs="mp4a.40.5"'],oga:["audio/ogg"]},H=Object.keys(f).reduce(function(a,d){return[].concat(u(a),u(f[d]))},[]),D=function(e){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");for(var a=arguments.length,b=Array(a),f=0;f<a;f++)b[f]=arguments[f];var l=g(this,e.call.apply(e,[this].concat(b)));l._destroyed=!1;l._loadStarted=!1;l._playheadMoving=!1;l._playheadMovingTimer=null;l._stopped=!1;l._setupSrc(l.options.src);
l.options.playback||(l.options.playback=l.options||{});l.options.playback.disableContextMenu=l.options.playback.disableContextMenu||l.options.disableVideoTagContextMenu;a=l.options.playback;b=a.preload||(k["default"].isSafari?"auto":l.options.preload);f=void 0;return l.options.poster&&("string"==typeof l.options.poster?f=l.options.poster:"string"==typeof l.options.poster.url&&(f=l.options.poster.url)),d["default"].extend(l.el,{loop:l.options.loop,poster:f,preload:b||"metadata",controls:(a.controls||
l.options.useVideoTagDefaultControls)&&"controls",crossOrigin:a.crossOrigin,"x-webkit-playsinline":a.playInline}),a.playInline&&l.$el.attr({playsinline:"playsinline"}),l.settings={"default":["seekbar"]},l.settings.left=["playpause","position","duration"],l.settings.right=["fullscreen","volume","hd-indicator"],l.options.autoPlay&&v.nextTick(function(){return!l._destroyed&&l.play()}),l}return q(c,e),p(c,[{key:"name",get:function(){return"html5_video"}},{key:"tagName",get:function(){return this.isAudioOnly?
"audio":"video"}},{key:"isAudioOnly",get:function(){var a=c._mimeTypesForUrl(this.options.src,f,this.options.mimeType);return this.options.playback&&this.options.playback.audioOnly||this.options.audioOnly||0<=H.indexOf(a[0])}},{key:"attributes",get:function(){return{"data-html5-video":""}}},{key:"events",get:function(){return{canplay:"_onCanPlay",canplaythrough:"_handleBufferingEvents",durationchange:"_onDurationChange",ended:"_onEnded",error:"_onError",loadeddata:"_onLoadedData",loadedmetadata:"_onLoadedMetadata",
pause:"_onPause",playing:"_onPlaying",progress:"_onProgress",seeked:"_handleBufferingEvents",seeking:"_handleBufferingEvents",stalled:"_handleBufferingEvents",timeupdate:"_onTimeUpdate",waiting:"_onWaiting"}}},{key:"ended",get:function(){return this.el.ended}},{key:"buffering",get:function(){return!!this._bufferingState}}]),c.prototype._setupSrc=function(a){this.el.src!==a&&(this._src=a,this.el.src=a)},c.prototype._onLoadedMetadata=function(a){this._handleBufferingEvents();this.trigger(r["default"].PLAYBACK_LOADEDMETADATA,
{duration:a.target.duration,data:a});this._updateSettings();a=void 0===this._options.autoSeekFromUrl||this._options.autoSeekFromUrl;this.getPlaybackType()!==b["default"].LIVE&&a&&this._checkInitialSeek()},c.prototype._onDurationChange=function(){this._updateSettings();this._onTimeUpdate();this._onProgress()},c.prototype._updateSettings=function(){this.getPlaybackType()===b["default"].VOD||this.getPlaybackType()===b["default"].AOD?this.settings.left=["playpause","position","duration"]:this.settings.left=
["playstop"];this.settings.seekEnabled=this.isSeekEnabled();this.trigger(r["default"].PLAYBACK_SETTINGSUPDATE)},c.prototype.isSeekEnabled=function(){return isFinite(this.getDuration())},c.prototype.getPlaybackType=function(){var a="audio"===this.tagName?b["default"].AOD:b["default"].VOD;return 0<=[0,void 0,1/0].indexOf(this.el.duration)?b["default"].LIVE:a},c.prototype.isHighDefinitionInUse=function(){return!1},c.prototype.consent=function(){!this.isPlaying()&&this.el.load()},c.prototype.play=function(){this.trigger(r["default"].PLAYBACK_PLAY_INTENT);
this._stopped=!1;this._setupSrc(this._src);this._handleBufferingEvents();this.el.play()},c.prototype.pause=function(){this.el.pause()},c.prototype.stop=function(){this.pause();this._stopped=!0;this.el.removeAttribute("src");this._stopPlayheadMovingChecks();this._handleBufferingEvents();this.trigger(r["default"].PLAYBACK_STOP)},c.prototype.volume=function(a){this.el.volume=a/100},c.prototype.mute=function(){this.el.volume=0},c.prototype.unmute=function(){this.el.volume=1},c.prototype.isMuted=function(){return!!this.el.volume},
c.prototype.isPlaying=function(){return!this.el.paused&&!this.el.ended},c.prototype._startPlayheadMovingChecks=function(){null===this._playheadMovingTimer&&(this._playheadMovingTimeOnCheck=null,this._determineIfPlayheadMoving(),this._playheadMovingTimer=setInterval(this._determineIfPlayheadMoving.bind(this),500))},c.prototype._stopPlayheadMovingChecks=function(){null!==this._playheadMovingTimer&&(clearInterval(this._playheadMovingTimer),this._playheadMovingTimer=null,this._playheadMoving=!1)},c.prototype._determineIfPlayheadMoving=
function(){var a=this.el.currentTime;this._playheadMoving=this._playheadMovingTimeOnCheck!==a;this._playheadMovingTimeOnCheck=a;this._handleBufferingEvents()},c.prototype._onWaiting=function(){this._loadStarted=!0;this._handleBufferingEvents()},c.prototype._onLoadedData=function(){this._loadStarted=!0;this._handleBufferingEvents()},c.prototype._onCanPlay=function(){this._handleBufferingEvents()},c.prototype._onPlaying=function(){this._startPlayheadMovingChecks();this._handleBufferingEvents();this.trigger(r["default"].PLAYBACK_PLAY)},
c.prototype._onPause=function(){this._stopPlayheadMovingChecks();this._handleBufferingEvents();this.trigger(r["default"].PLAYBACK_PAUSE)},c.prototype._onEnded=function(){this._handleBufferingEvents();this.trigger(r["default"].PLAYBACK_ENDED,this.name)},c.prototype._handleBufferingEvents=function(){var a=!this.el.ended&&!this.el.paused,a=this._loadStarted&&!this.el.ended&&!this._stopped&&(a&&!this._playheadMoving||this.el.readyState<this.el.HAVE_FUTURE_DATA);this._bufferingState!==a&&(this._bufferingState=
a,a?this.trigger(r["default"].PLAYBACK_BUFFERING,this.name):this.trigger(r["default"].PLAYBACK_BUFFERFULL,this.name))},c.prototype._onError=function(){this.trigger(r["default"].PLAYBACK_ERROR,this.el.error,this.name)},c.prototype.destroy=function(){this._destroyed=!0;this.$el.remove();this.el.src="";this._src=null;h.DomRecycler.garbage(this.$el)},c.prototype.seek=function(a){this.el.currentTime=a},c.prototype.seekPercentage=function(a){this.seek(a/100*this.el.duration)},c.prototype._checkInitialSeek=
function(){var a=(0,h.seekStringToSeconds)();0!==a&&this.seek(a)},c.prototype.getCurrentTime=function(){return this.el.currentTime},c.prototype.getDuration=function(){return this.el.duration},c.prototype._onTimeUpdate=function(){this._handleBufferingEvents();this.getPlaybackType()===b["default"].LIVE?this.trigger(r["default"].PLAYBACK_TIMEUPDATE,{current:1,total:1},this.name):this.trigger(r["default"].PLAYBACK_TIMEUPDATE,{current:this.el.currentTime,total:this.el.duration},this.name)},c.prototype._onProgress=
function(){if(this.el.buffered.length){for(var a=[],d=0,b=0;b<this.el.buffered.length;b++)a=[].concat(u(a),[{start:this.el.buffered.start(b),end:this.el.buffered.end(b)}]),this.el.currentTime>=a[b].start&&this.el.currentTime<=a[b].end&&(d=b);this.trigger(r["default"].PLAYBACK_PROGRESS,{start:a[d].start,current:a[d].end,total:this.el.duration},a)}},c.prototype._typeFor=function(d){var b=c._mimeTypesForUrl(d,a,this.options.mimeType);return 0==b.length&&(b=c._mimeTypesForUrl(d,f,this.options.mimeType)),
(b[0]||"").split(";")[0]},c.prototype._ready=function(){this._isReadyState||(this._isReadyState=!0,this.trigger(r["default"].PLAYBACK_READY,this.name))},c.prototype.render=function(){var a=n["default"].getStyleFor(l["default"]);return this.options.playback.disableContextMenu&&this.$el.on("contextmenu",function(){return!1}),this.$el.append(a),this._ready(),this},p(c,[{key:"isReady",get:function(){return this._isReadyState}}]),c}(b["default"]);t["default"]=D;D._mimeTypesForUrl=function(a,d,b){a=(a.split("?")[0].match(/.*\.(.*)$/)||
[])[1];d=b||a&&d[a.toLowerCase()]||[];return d.constructor===Array?d:[d]};D._canPlay=function(a,d,b,f){d=D._mimeTypesForUrl(b,d,f);var e=document.createElement(a);return!!d.filter(function(a){return!!e.canPlayType(a).replace(/no/,"")})[0]};D.canPlay=function(d,b){return D._canPlay("audio",f,d,b)||D._canPlay("video",a,d,b)};w.exports=D;w.exports=t["default"]}).call(t,c(21))},function(w,t,c){function v(b){return b&&b.__esModule?b:{"default":b}}function m(b,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+
typeof e);b.prototype=Object.create(e&&e.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(b,e):b.__proto__=e)}Object.defineProperty(t,"__esModule",{value:!0});var g=function(){function b(b,e){for(var k=0;k<e.length;k++){var l=e[k];l.enumerable=l.enumerable||!1;l.configurable=!0;"value"in l&&(l.writable=!0);Object.defineProperty(b,l.key,l)}}return function(e,k,r){return k&&b(e.prototype,k),r&&b(e,r),e}}(),q=c(2),u=v(q),q=c(4),
p=v(q),q=c(87),h=v(q);c=c(0);var e=v(c);c=function(b){function c(e){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var k=b.call(this,e);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");k=!k||"object"!=typeof k&&"function"!=typeof k?this:k;return k.el.src=e.src,k}return m(c,b),c.prototype.getPlaybackType=function(){return u["default"].NO_OP},g(c,[{key:"name",get:function(){return"html_img"}},{key:"tagName",get:function(){return"img"}},
{key:"attributes",get:function(){return{"data-html-img":""}}},{key:"events",get:function(){return{load:"_onLoad",abort:"_onError",error:"_onError"}}}]),c.prototype.render=function(){var b=p["default"].getStyleFor(h["default"]);return this.$el.append(b),this.trigger(e["default"].PLAYBACK_READY,this.name),this},c.prototype._onLoad=function(){this.trigger(e["default"].PLAYBACK_ENDED,this.name)},c.prototype._onError=function(b){this.trigger(e["default"].PLAYBACK_ERROR,{message:"error"===b.type?"load error":
"loading aborted"},this.name)},c}(u["default"]);t["default"]=c;c.canPlay=function(b){return/\.(png|jpg|jpeg|gif|bmp|tiff|pgm|pnm|webp)(|\?.*)$/i.test(b)};w.exports=t["default"]},function(w,t,c){function v(b){return b&&b.__esModule?b:{"default":b}}function m(b,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);b.prototype=Object.create(e&&e.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?
Object.setPrototypeOf(b,e):b.__proto__=e)}Object.defineProperty(t,"__esModule",{value:!0});var g=function(){function b(b,d){for(var a=0;a<d.length;a++){var f=d[a];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(b,f.key,f)}}return function(e,d,a){return d&&b(e.prototype,d),a&&b(e,a),e}}(),q=c(1),u=c(2),u=v(u),p=c(5),h=v(p),p=c(4),e=v(p),p=c(0),b=v(p),p=c(88),n=v(p);c=c(97);var k=v(c);c=function(c){function l(){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");
for(var d=arguments.length,a=Array(d),b=0;b<d;b++)a[b]=arguments[b];d=c.call.apply(c,[this].concat(a));if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");d=!d||"object"!=typeof d&&"function"!=typeof d?this:d;return d._noiseFrameNum=-1,d._started=!1,d}return m(l,c),g(l,[{key:"name",get:function(){return"no_op"}},{key:"template",get:function(){return(0,h["default"])(k["default"])}},{key:"attributes",get:function(){return{"data-no-op":""}}}]),l.prototype.render=
function(){var d=e["default"].getStyleFor(n["default"]),a=this.options.playbackNotSupportedMessage||this.i18n.t("playback_not_supported");this.$el.html(this.template({message:a}));this.$el.append(d);this.trigger(b["default"].PLAYBACK_READY,this.name);d=!(!this.options.poster||!this.options.poster.showForNoOp);return!this.options.autoPlay&&d||this.play(),this},l.prototype.play=function(){this._started||(this._started=!0,this.trigger(b["default"].PLAYBACK_PLAY),this._animate())},l.prototype._noise=
function(){if(this._noiseFrameNum=(this._noiseFrameNum+1)%5,!this._noiseFrameNum){var d=this.context.createImageData(this.context.canvas.width,this.context.canvas.height),a=void 0;try{a=new Uint32Array(d.data.buffer)}catch(x){for(var a=new Uint32Array(this.context.canvas.width*this.context.canvas.height*4),b=d.data,e=0;e<b.length;e++)a[e]=b[e]}for(var b=a.length,e=6*Math.random()+4,l=0,k=0,c=0;c<b;)0>l&&(l=e*Math.random(),k=255*Math.pow(Math.random(),.4)<<24),--l,a[c++]=k;this.context.putImageData(d,
0,0)}},l.prototype._loop=function(){var d=this;this._stop||(this._noise(),this._animationHandle=(0,q.requestAnimationFrame)(function(){return d._loop()}))},l.prototype.destroy=function(){this._animationHandle&&((0,q.cancelAnimationFrame)(this._animationHandle),this._stop=!0)},l.prototype._animate=function(){this.canvas=this.$el.find("canvas[data-no-op-canvas]")[0];this.context=this.canvas.getContext("2d");this._loop()},l}(u["default"]);t["default"]=c;c.canPlay=function(b){return!0};w.exports=t["default"]},
function(w,t,c){function v(e){return e&&e.__esModule?e:{"default":e}}function m(e,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);e.prototype=Object.create(b&&b.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(e,b):e.__proto__=b)}Object.defineProperty(t,"__esModule",{value:!0});var g=function(){function e(b,e){for(var k=0;k<e.length;k++){var c=e[k];
c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(b,c.key,c)}}return function(b,c,k){return c&&e(b.prototype,c),k&&e(b,k),b}}(),q=c(13),q=v(q),u=c(0),p=v(u);c=c(2);var h=v(c);c=function(e){function b(c){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");c=e.call(this,c);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||"object"!=typeof c&&"function"!=typeof c?this:
c}return m(b,e),g(b,[{key:"name",get:function(){return"click_to_pause"}}]),b.prototype.bindEvents=function(){this.listenTo(this.container,p["default"].CONTAINER_CLICK,this.click);this.listenTo(this.container,p["default"].CONTAINER_SETTINGSUPDATE,this.settingsUpdate)},b.prototype.click=function(){(this.container.getPlaybackType()!==h["default"].LIVE||this.container.isDvrEnabled())&&(this.container.isPlaying()?this.container.pause():this.container.play())},b.prototype.settingsUpdate=function(){this.container.$el.removeClass("pointer-enabled");
(this.container.getPlaybackType()!==h["default"].LIVE||this.container.isDvrEnabled())&&this.container.$el.addClass("pointer-enabled")},b}(q["default"]);t["default"]=c;w.exports=t["default"]},function(w,t,c){w.exports=c(57)},function(w,t,c){function v(b){return b&&b.__esModule?b:{"default":b}}function m(b,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);b.prototype=Object.create(e&&e.prototype,{constructor:{value:b,enumerable:!1,
writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(b,e):b.__proto__=e)}Object.defineProperty(t,"__esModule",{value:!0});var g=function(){function b(b,d){for(var a=0;a<d.length;a++){var f=d[a];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(b,f.key,f)}}return function(e,d,a){return d&&b(e.prototype,d),a&&b(e,a),e}}(),q=c(17),q=v(q),u=c(5),p=v(u),u=c(2),h=v(u),u=c(4),e=v(u),u=c(0),b=v(u),u=c(89),n=v(u);c=c(98);var k=v(c);
c=function(c){function l(d){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");d=c.call(this,d);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");d=!d||"object"!=typeof d&&"function"!=typeof d?this:d;return d.settingsUpdate(),d}return m(l,c),g(l,[{key:"template",get:function(){return(0,p["default"])(k["default"])}},{key:"name",get:function(){return"dvr_controls"}},{key:"events",get:function(){return{"click .live-button":"click"}}},
{key:"attributes",get:function(){return{"class":"dvr-controls","data-dvr-controls":""}}}]),l.prototype.bindEvents=function(){this.listenTo(this.core.mediaControl,b["default"].MEDIACONTROL_CONTAINERCHANGED,this.containerChanged);this.listenTo(this.core.mediaControl,b["default"].MEDIACONTROL_RENDERED,this.settingsUpdate);this.listenTo(this.core,b["default"].CORE_OPTIONS_CHANGE,this.render);this.core.getCurrentContainer()&&(this.listenToOnce(this.core.getCurrentContainer(),b["default"].CONTAINER_TIMEUPDATE,
this.render),this.listenTo(this.core.getCurrentContainer(),b["default"].CONTAINER_PLAYBACKDVRSTATECHANGED,this.dvrChanged))},l.prototype.containerChanged=function(){this.stopListening();this.bindEvents()},l.prototype.dvrChanged=function(d){this.settingsUpdate();this.core.mediaControl.$el.addClass("live");d?(this.core.mediaControl.$el.addClass("dvr"),this.core.mediaControl.$el.find(".media-control-indicator[data-position], .media-control-indicator[data-duration]").hide()):this.core.mediaControl.$el.removeClass("dvr")},
l.prototype.click=function(){var d=this.core.mediaControl,a=d.container;a.isPlaying()||a.play();d.$el.hasClass("dvr")&&a.seek(a.getDuration())},l.prototype.settingsUpdate=function(){var d=this;this.stopListening();this.shouldRender()&&(this.render(),this.$el.click(function(){return d.click()}));this.bindEvents()},l.prototype.shouldRender=function(){return(void 0===this.core.options.useDvrControls||!!this.core.options.useDvrControls)&&this.core.getPlaybackType()===h["default"].LIVE},l.prototype.render=
function(){return this.style=this.style||e["default"].getStyleFor(n["default"],{baseUrl:this.core.options.baseUrl}),this.$el.html(this.template({live:this.core.i18n.t("live"),backToLive:this.core.i18n.t("back_to_live")})),this.$el.append(this.style),this.shouldRender()&&(this.core.mediaControl.$el.addClass("live"),this.core.mediaControl.$(".media-control-left-panel[data-media-control]").append(this.$el)),this},l}(q["default"]);t["default"]=c;w.exports=t["default"]},function(w,t,c){w.exports=c(59)},
function(w,t,c){function v(c,h){if("function"!=typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function, not "+typeof h);c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});h&&(Object.setPrototypeOf?Object.setPrototypeOf(c,h):c.__proto__=h)}Object.defineProperty(t,"__esModule",{value:!0});var m=function(){function c(c,e){for(var b=0;b<e.length;b++){var n=e[b];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in
n&&(n.writable=!0);Object.defineProperty(c,n.key,n)}}return function(h,e,b){return e&&c(h.prototype,e),b&&c(h,b),h}}(),g=c(0),q=g&&g.__esModule?g:{"default":g},g=(g=c(11))&&g.__esModule?g:{"default":g},u=c(1);c=function(c){function h(){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");var e=c.apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?this:e}return v(h,
c),h.prototype.bindEvents=function(){this.listenTo(this.core.mediaControl,q["default"].MEDIACONTROL_CONTAINERCHANGED,this.containerChanged);var e=this.core.getCurrentContainer();e&&(this.listenTo(e,q["default"].CONTAINER_ENDED,this.ended),this.listenTo(e,q["default"].CONTAINER_STOP,this.ended))},h.prototype.containerChanged=function(){this.stopListening();this.bindEvents()},h.prototype.ended=function(){(void 0===this.core.options.exitFullscreenOnEnd||this.core.options.exitFullscreenOnEnd)&&u.Fullscreen.isFullscreen()&&
this.core.toggleFullscreen()},m(h,[{key:"name",get:function(){return"end_video"}}]),h}(g["default"]);t["default"]=c;w.exports=t["default"]},function(w,t,c){function v(b){return b&&b.__esModule?b:{"default":b}}function m(b,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);b.prototype=Object.create(e&&e.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(b,
e):b.__proto__=e)}Object.defineProperty(t,"__esModule",{value:!0});var g=function(){function b(b,e){for(var d=0;d<e.length;d++){var a=e[d];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(b,a.key,a)}}return function(e,l,d){return l&&b(e.prototype,l),d&&b(e,d),e}}(),q=c(11),q=v(q),u=c(0),p=v(u),u=c(3),h=v(u),u=c(22),e=v(u);c=c(36);var b=v(c),n=(0,h["default"])('link[rel="shortcut icon"]');c=function(k){function c(b){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");
b=k.call(this,b);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");b=!b||"object"!=typeof b&&"function"!=typeof b?this:b;return b._container=null,b.configure(),b}return m(c,k),g(c,[{key:"name",get:function(){return"favicon"}},{key:"oldIcon",get:function(){return n}}]),c.prototype.configure=function(){this.core.options.changeFavicon?this.enabled||(this.stopListening(this.core,p["default"].CORE_OPTIONS_CHANGE),this.enable()):this.enabled&&(this.disable(),
this.listenTo(this.core,p["default"].CORE_OPTIONS_CHANGE,this.configure))},c.prototype.bindEvents=function(){this.listenTo(this.core,p["default"].CORE_OPTIONS_CHANGE,this.configure);this.listenTo(this.core.mediaControl,p["default"].MEDIACONTROL_CONTAINERCHANGED,this.containerChanged);this.core.mediaControl.container&&this.containerChanged()},c.prototype.containerChanged=function(){this._container&&this.stopListening(this._container);this._container=this.core.mediaControl.container;this.listenTo(this._container,
p["default"].CONTAINER_PLAY,this.setPlayIcon);this.listenTo(this._container,p["default"].CONTAINER_PAUSE,this.setPauseIcon);this.listenTo(this._container,p["default"].CONTAINER_STOP,this.resetIcon);this.listenTo(this._container,p["default"].CONTAINER_ENDED,this.resetIcon);this.listenTo(this._container,p["default"].CONTAINER_ERROR,this.resetIcon);this.resetIcon()},c.prototype.disable=function(){k.prototype.disable.call(this);this.resetIcon()},c.prototype.destroy=function(){k.prototype.destroy.call(this);
this.resetIcon()},c.prototype.createIcon=function(b){var d=(0,h["default"])("<canvas/>");d[0].width=16;d[0].height=16;var a=d[0].getContext("2d");a.fillStyle="#000";b=(0,h["default"])(b).find("path").attr("d");b=new Path2D(b);a.fill(b);a=(0,h["default"])('<link rel="shortcut icon" type="image/png"/>');return a.attr("href",d[0].toDataURL("image/png")),a},c.prototype.setPlayIcon=function(){this.playIcon||(this.playIcon=this.createIcon(e["default"]));this.changeIcon(this.playIcon)},c.prototype.setPauseIcon=
function(){this.pauseIcon||(this.pauseIcon=this.createIcon(b["default"]));this.changeIcon(this.pauseIcon)},c.prototype.resetIcon=function(){(0,h["default"])('link[rel="shortcut icon"]').remove();(0,h["default"])("head").append(this.oldIcon)},c.prototype.changeIcon=function(b){b&&((0,h["default"])('link[rel="shortcut icon"]').remove(),(0,h["default"])("head").append(b))},c}(q["default"]);t["default"]=c;w.exports=t["default"]},function(w,t,c){w.exports=c(62)},function(w,t,c){function v(c,g){if("function"!=
typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function, not "+typeof g);c.prototype=Object.create(g&&g.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});g&&(Object.setPrototypeOf?Object.setPrototypeOf(c,g):c.__proto__=g)}Object.defineProperty(t,"__esModule",{value:!0});var m=function(){function c(c,h){for(var e=0;e<h.length;e++){var b=h[e];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(c,
b.key,b)}}return function(g,h,e){return h&&c(g.prototype,h),e&&c(g,e),g}}(),g=c(13),g=g&&g.__esModule?g:{"default":g},q=(c=c(0))&&c.__esModule?c:{"default":c};c=function(c){function g(h){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");h=c.call(this,h);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");h=!h||"object"!=typeof h&&"function"!=typeof h?this:h;return h.container.options.gaAccount&&(h.account=h.container.options.gaAccount,
h.trackerName=h.container.options.gaTrackerName?h.container.options.gaTrackerName+".":"Clappr.",h.domainName=h.container.options.gaDomainName,h.currentHDState=void 0,h.embedScript()),h}return v(g,c),m(g,[{key:"name",get:function(){return"google_analytics"}}]),g.prototype.embedScript=function(){var c=this;if(window._gat)this.addEventListeners();else{var e=document.createElement("script");e.setAttribute("type","text/javascript");e.setAttribute("async","async");e.setAttribute("src","//www.google-analytics.com/ga.js");
e.onload=function(){return c.addEventListeners()};document.body.appendChild(e)}},g.prototype.addEventListeners=function(){var c=this;this.container&&(this.listenTo(this.container,q["default"].CONTAINER_READY,this.onReady),this.listenTo(this.container,q["default"].CONTAINER_PLAY,this.onPlay),this.listenTo(this.container,q["default"].CONTAINER_STOP,this.onStop),this.listenTo(this.container,q["default"].CONTAINER_PAUSE,this.onPause),this.listenTo(this.container,q["default"].CONTAINER_ENDED,this.onEnded),
this.listenTo(this.container,q["default"].CONTAINER_STATE_BUFFERING,this.onBuffering),this.listenTo(this.container,q["default"].CONTAINER_STATE_BUFFERFULL,this.onBufferFull),this.listenTo(this.container,q["default"].CONTAINER_ERROR,this.onError),this.listenTo(this.container,q["default"].CONTAINER_PLAYBACKSTATE,this.onPlaybackChanged),this.listenTo(this.container,q["default"].CONTAINER_VOLUME,function(e){return c.onVolumeChanged(e)}),this.listenTo(this.container,q["default"].CONTAINER_SEEK,function(e){return c.onSeek(e)}),
this.listenTo(this.container,q["default"].CONTAINER_FULL_SCREEN,this.onFullscreen),this.listenTo(this.container,q["default"].CONTAINER_HIGHDEFINITIONUPDATE,this.onHD),this.listenTo(this.container,q["default"].CONTAINER_PLAYBACKDVRSTATECHANGED,this.onDVR));_gaq.push([this.trackerName+"_setAccount",this.account]);this.domainName&&_gaq.push([this.trackerName+"_setDomainName",this.domainName])},g.prototype.onReady=function(){this.push(["Video","Playback",this.container.playback.name])},g.prototype.onPlay=
function(){this.push(["Video","Play",this.container.playback.src])},g.prototype.onStop=function(){this.push(["Video","Stop",this.container.playback.src])},g.prototype.onEnded=function(){this.push(["Video","Ended",this.container.playback.src])},g.prototype.onBuffering=function(){this.push(["Video","Buffering",this.container.playback.src])},g.prototype.onBufferFull=function(){this.push(["Video","Bufferfull",this.container.playback.src])},g.prototype.onError=function(){this.push(["Video","Error",this.container.playback.src])},
g.prototype.onHD=function(c){c=c?"ON":"OFF";c!==this.currentHDState&&(this.currentHDState=c,this.push(["Video","HD - "+c,this.container.playback.src]))},g.prototype.onPlaybackChanged=function(c){null!==c.type&&this.push(["Video","Playback Type - "+c.type,this.container.playback.src])},g.prototype.onDVR=function(c){this.push(["Interaction","DVR - "+(c?"ON":"OFF"),this.container.playback.src])},g.prototype.onPause=function(){this.push(["Video","Pause",this.container.playback.src])},g.prototype.onSeek=
function(){this.push(["Video","Seek",this.container.playback.src])},g.prototype.onVolumeChanged=function(){this.push(["Interaction","Volume",this.container.playback.src])},g.prototype.onFullscreen=function(){this.push(["Interaction","Fullscreen",this.container.playback.src])},g.prototype.push=function(c){c=[this.trackerName+"_trackEvent"].concat(c);_gaq.push(c)},g}(g["default"]);t["default"]=c;w.exports=t["default"]},function(w,t,c){w.exports=c(64)},function(w,t,c){Object.defineProperty(t,"__esModule",
{value:!0});var v=c(20),m=["color: #0000ff;font-weight: bold; font-size: 13px;","color: #006600;font-weight: bold; font-size: 13px;","color: #ff8000;font-weight: bold; font-size: 13px;","color: #ff0000;font-weight: bold; font-size: 13px;","color: #ff0000;font-weight: bold; font-size: 13px;"],g=["debug","info","warn","error","disabled"];c=function(){function c(){var g=this,m=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,h=1<arguments.length&&void 0!==arguments[1]?arguments[1]:3;if(!(this instanceof
c))throw new TypeError("Cannot call a class as a function");this.kibo=new v.Kibo;this.kibo.down(["ctrl shift d"],function(){return g.onOff()});this.BLACKLIST="timeupdate playback:timeupdate playback:progress container:hover container:timeupdate container:progress".split(" ");this.level=m;this.offLevel=h}return c.prototype.debug=function(c){this.log(c,0,Array.prototype.slice.call(arguments,1))},c.prototype.info=function(c){this.log(c,1,Array.prototype.slice.call(arguments,1))},c.prototype.warn=function(c){this.log(c,
2,Array.prototype.slice.call(arguments,1))},c.prototype.error=function(c){this.log(c,3,Array.prototype.slice.call(arguments,1))},c.prototype.onOff=function(){this.level===this.offLevel?this.level=this.previousLevel:(this.previousLevel=this.level,this.level=this.offLevel);window.console&&window.console.log&&window.console.log("%c[Clappr.Log] set log level to "+g[this.level],"color: #ff8000;font-weight: bold; font-size: 13px;")},c.prototype.level=function(c){this.level=c},c.prototype.log=function(c,
p,h){if(!(0<=this.BLACKLIST.indexOf(h[0])||p<this.level)){h||(h=c,c=null);var e=m[p],b="";c&&(b="["+c+"]");window.console&&window.console.log&&window.console.log.apply(console,["%c["+g[p]+"]"+b,e].concat(h))}},c}();t["default"]=c;c.LEVEL_DEBUG=0;c.LEVEL_INFO=1;c.LEVEL_WARN=2;c.LEVEL_ERROR=3;c.getInstance=function(){return void 0===this._instance&&(this._instance=new this,this._instance.previousLevel=this._instance.level,this._instance.level=this._instance.offLevel),this._instance};c.setLevel=function(c){this.getInstance().level=
c};c.debug=function(){this.getInstance().debug.apply(this.getInstance(),arguments)};c.info=function(){this.getInstance().info.apply(this.getInstance(),arguments)};c.warn=function(){this.getInstance().warn.apply(this.getInstance(),arguments)};c.error=function(){this.getInstance().error.apply(this.getInstance(),arguments)};w.exports=t["default"]},function(w,t,c){(function(v){function m(a){return a&&a.__esModule?a:{"default":a}}function g(a,d){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!d||"object"!=typeof d&&"function"!=typeof d?a:d}function q(a,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);a.prototype=Object.create(d&&d.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(a,d):a.__proto__=d)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function a(a,d){for(var b=0;b<d.length;b++){var f=d[b];f.enumerable=
f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(a,f.key,f)}}return function(d,b,e){return b&&a(d.prototype,b),e&&a(d,e),d}}(),p=c(14),p=m(p),h=c(0),e=m(h),h=c(4),b=m(h),h=c(5),n=m(h),h=c(2),k=m(h),h=c(90),r=m(h),h=c(99),l=m(h),h=c(22),d=m(h),p=function(a){function f(d){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");var b=g(this,a.call(this,d));return b.hasStartedPlaying=!1,b.playRequested=!1,b.render(),v.nextTick(function(){return b.update()}),
b}return q(f,a),u(f,[{key:"name",get:function(){return"poster"}},{key:"template",get:function(){return(0,n["default"])(l["default"])}},{key:"shouldRender",get:function(){var a=!(!this.options.poster||!this.options.poster.showForNoOp);return"html_img"!==this.container.playback.name&&(this.container.playback.getPlaybackType()!==k["default"].NO_OP||a)}},{key:"attributes",get:function(){return{"class":"player-poster","data-poster":""}}},{key:"events",get:function(){return{click:"clicked"}}},{key:"showOnVideoEnd",
get:function(){return!this.options.poster||this.options.poster.showOnVideoEnd||void 0===this.options.poster.showOnVideoEnd}}]),f.prototype.bindEvents=function(){this.listenTo(this.container,e["default"].CONTAINER_STOP,this.onStop);this.listenTo(this.container,e["default"].CONTAINER_PLAY,this.onPlay);this.listenTo(this.container,e["default"].CONTAINER_STATE_BUFFERING,this.update);this.listenTo(this.container,e["default"].CONTAINER_STATE_BUFFERFULL,this.update);this.listenTo(this.container,e["default"].CONTAINER_OPTIONS_CHANGE,
this.render);this.showOnVideoEnd&&this.listenTo(this.container,e["default"].CONTAINER_ENDED,this.onStop)},f.prototype.stopListening=function(){a.prototype.stopListening.call(this)},f.prototype.onPlay=function(){this.hasStartedPlaying=!0;this.update()},f.prototype.onStop=function(){this.playRequested=this.hasStartedPlaying=!1;this.update()},f.prototype.showPlayButton=function(a){!a||this.options.chromeless&&!this.options.allowUserInteraction?(this.$playButton.hide(),this.$el.removeClass("clickable")):
(this.$playButton.show(),this.$el.addClass("clickable"))},f.prototype.clicked=function(){return this.options.chromeless&&!this.options.allowUserInteraction||(this.playRequested=!0,this.update(),this.container.play()),!1},f.prototype.shouldHideOnPlay=function(){return!this.container.playback.isAudioOnly},f.prototype.update=function(){this.shouldRender&&(this.showPlayButton(!this.playRequested&&!this.hasStartedPlaying&&!this.container.buffering),this.hasStartedPlaying?(this.container.enableMediaControl(),
this.shouldHideOnPlay()&&this.$el.hide()):(this.container.disableMediaControl(),this.$el.show()))},f.prototype.render=function(){if(this.shouldRender){var a=b["default"].getStyleFor(r["default"],{baseUrl:this.options.baseUrl});this.$el.html(this.template());this.$el.append(a);this.options.poster&&void 0==this.options.poster.custom?this.$el.css({"background-image":"url("+(this.options.poster.url||this.options.poster)+")"}):this.options.poster&&this.$el.css({background:this.options.poster.custom});
this.container.$el.append(this.el);this.$playWrapper=this.$el.find(".play-wrapper");this.$playWrapper.append(d["default"]);this.$playButton=this.$playWrapper.find("svg");this.$playButton.addClass("poster-icon");this.$playButton.attr("data-poster","");a=this.options.mediacontrol&&this.options.mediacontrol.buttons;return a&&this.$el.find("svg path").css("fill",a),this.options.mediacontrol&&this.options.mediacontrol.buttons&&(a=this.options.mediacontrol.buttons,this.$playButton.css("color",a)),this.update(),
this}},f}(p["default"]);t["default"]=p;w.exports=t["default"]}).call(t,c(21))},function(w,t,c){w.exports=c(69)},function(w,t,c){function v(b){return b&&b.__esModule?b:{"default":b}}function m(b,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);b.prototype=Object.create(d&&d.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(b,d):b.__proto__=d)}Object.defineProperty(t,
"__esModule",{value:!0});var g=function(){function b(d,a){for(var b=0;b<a.length;b++){var e=a[b];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(d,e.key,e)}}return function(d,a,f){return a&&b(d.prototype,a),f&&b(d,f),d}}(),q=c(1),u=c(17),u=v(u),p=c(4),h=v(p),p=c(5),e=v(p),p=c(0),b=v(p),p=c(2),n=v(p),p=c(91),k=v(p);c=c(100);var r=v(c);c=function(c){function d(a){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");a=c.call(this,
a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!=typeof a&&"function"!=typeof a?this:a;return a.hoveringOverSeekBar=!1,a.hoverPosition=null,a.duration=null,a.actualLiveTime=!!a.mediaControl.options.actualLiveTime,a.actualLiveTime&&(a.mediaControl.options.actualLiveServerTime?a.actualLiveServerTimeDiff=(new Date).getTime()-(new Date(a.mediaControl.options.actualLiveServerTime)).getTime():a.actualLiveServerTimeDiff=0),a}return m(d,c),
g(d,[{key:"name",get:function(){return"seek_time"}},{key:"template",get:function(){return(0,e["default"])(r["default"])}},{key:"attributes",get:function(){return{"class":"seek-time","data-seek-time":""}}},{key:"mediaControl",get:function(){return this.core.mediaControl}},{key:"mediaControlContainer",get:function(){return this.mediaControl.container}},{key:"isLiveStreamWithDvr",get:function(){return this.mediaControlContainer&&this.mediaControlContainer.getPlaybackType()===n["default"].LIVE&&this.mediaControlContainer.isDvrEnabled()}},
{key:"durationShown",get:function(){return this.isLiveStreamWithDvr&&!this.useActualLiveTime}},{key:"useActualLiveTime",get:function(){return this.actualLiveTime&&this.isLiveStreamWithDvr}}]),d.prototype.bindEvents=function(){this.listenTo(this.mediaControl,b["default"].MEDIACONTROL_RENDERED,this.render);this.listenTo(this.mediaControl,b["default"].MEDIACONTROL_MOUSEMOVE_SEEKBAR,this.showTime);this.listenTo(this.mediaControl,b["default"].MEDIACONTROL_MOUSELEAVE_SEEKBAR,this.hideTime);this.listenTo(this.mediaControl,
b["default"].MEDIACONTROL_CONTAINERCHANGED,this.onContainerChanged);this.mediaControlContainer&&(this.listenTo(this.mediaControlContainer,b["default"].CONTAINER_PLAYBACKDVRSTATECHANGED,this.update),this.listenTo(this.mediaControlContainer,b["default"].CONTAINER_TIMEUPDATE,this.updateDuration))},d.prototype.onContainerChanged=function(){this.stopListening();this.bindEvents()},d.prototype.updateDuration=function(a){this.duration=a.total;this.update()},d.prototype.showTime=function(a){this.hoveringOverSeekBar=
!0;this.calculateHoverPosition(a);this.update()},d.prototype.hideTime=function(){this.hoveringOverSeekBar=!1;this.update()},d.prototype.calculateHoverPosition=function(a){a=a.pageX-this.mediaControl.$seekBarContainer.offset().left;this.hoverPosition=Math.min(1,Math.max(a/this.mediaControl.$seekBarContainer.width(),0))},d.prototype.getSeekTime=function(){var a=void 0;if(this.useActualLiveTime){var d=new Date((new Date).getTime()-this.actualLiveServerTimeDiff);a=(new Date(d)-d.setHours(0,0,0,0))/1E3;
d=a-this.duration+this.hoverPosition*this.duration;0>d&&(d+=86400)}else d=this.hoverPosition*this.duration;return{seekTime:d,secondsSinceMidnight:a}},d.prototype.update=function(){if(this.rendered)if(this.shouldBeVisible()){var a=this.getSeekTime(),d=(0,q.formatTime)(a.seekTime,this.useActualLiveTime);(d!==this.displayedSeekTime&&(this.$seekTimeEl.text(d),this.displayedSeekTime=d),this.durationShown)?(this.$durationEl.show(),a=(0,q.formatTime)(this.actualLiveTime?a.secondsSinceMidnight:this.duration,
this.actualLiveTime),a!==this.displayedDuration&&(this.$durationEl.text(a),this.displayedDuration=a)):this.$durationEl.hide();this.$el.show();var a=this.mediaControl.$seekBarContainer.width(),d=this.$el.width(),b=this.hoverPosition*a,b=Math.max(0,Math.min(b-d/2,a-d));this.$el.css("left",b)}else this.$el.hide(),this.$el.css("left","-100%")},d.prototype.shouldBeVisible=function(){return this.mediaControlContainer&&this.mediaControlContainer.settings.seekEnabled&&this.hoveringOverSeekBar&&null!==this.hoverPosition&&
null!==this.duration},d.prototype.render=function(){this.rendered=!0;this.displayedSeekTime=this.displayedDuration=null;var a=h["default"].getStyleFor(k["default"]);this.$el.html(this.template());this.$el.append(a);this.$el.hide();this.mediaControl.$el.append(this.el);this.$seekTimeEl=this.$el.find("[data-seek-time]");this.$durationEl=this.$el.find("[data-duration]");this.$durationEl.hide();this.update()},d}(u["default"]);t["default"]=c;w.exports=t["default"]},function(w,t,c){function v(c,g){if("function"!=
typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function, not "+typeof g);c.prototype=Object.create(g&&g.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});g&&(Object.setPrototypeOf?Object.setPrototypeOf(c,g):c.__proto__=g)}Object.defineProperty(t,"__esModule",{value:!0});var m=function(){function c(c,h){for(var e=0;e<h.length;e++){var b=h[e];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(c,
b.key,b)}}return function(g,h,e){return h&&c(g.prototype,h),e&&c(g,e),g}}(),g=c(11),g=g&&g.__esModule?g:{"default":g},q=(c=c(0))&&c.__esModule?c:{"default":c};c=function(c){function g(){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");var h=c.apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!h||"object"!=typeof h&&"function"!=typeof h?this:h}return v(g,c),g.prototype.bindEvents=function(){this.listenTo(this.core,
q["default"].CORE_CONTAINERS_CREATED,this.onContainersCreated)},g.prototype.onContainersCreated=function(){var c=this.core.containers.filter(function(e){return"no_op"!==e.playback.name})[0]||this.core.containers[0];c&&this.core.containers.forEach(function(e){e!==c&&e.destroy()})},m(g,[{key:"name",get:function(){return"sources"}}]),g}(g["default"]);t["default"]=c;w.exports=t["default"]},function(w,t,c){w.exports=c(72)},function(w,t,c){function v(b){return b&&b.__esModule?b:{"default":b}}function m(b,
e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);b.prototype=Object.create(e&&e.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(b,e):b.__proto__=e)}Object.defineProperty(t,"__esModule",{value:!0});var g=function(){function b(b,e){for(var d=0;d<e.length;d++){var a=e[d];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(b,
a.key,a)}}return function(e,c,d){return c&&b(e.prototype,c),d&&b(e,d),e}}(),q=c(14),q=v(q),u=c(0),p=v(u),u=c(4),h=v(u),u=c(5),e=v(u),u=c(101),b=v(u);c=c(92);var n=v(c);c=function(c){function k(l){if(!(this instanceof k))throw new TypeError("Cannot call a class as a function");l=c.call(this,l);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");l=!l||"object"!=typeof l&&"function"!=typeof l?this:l;return l.template=(0,e["default"])(b["default"]),l.showTimeout=
null,l.listenTo(l.container,p["default"].CONTAINER_STATE_BUFFERING,l.onBuffering),l.listenTo(l.container,p["default"].CONTAINER_STATE_BUFFERFULL,l.onBufferFull),l.listenTo(l.container,p["default"].CONTAINER_STOP,l.onStop),l.listenTo(l.container,p["default"].CONTAINER_ENDED,l.onStop),l.listenTo(l.container,p["default"].CONTAINER_ERROR,l.onStop),l.render(),l}return m(k,c),g(k,[{key:"name",get:function(){return"spinner"}},{key:"attributes",get:function(){return{"data-spinner":"","class":"spinner-three-bounce"}}}]),
k.prototype.onBuffering=function(){this.show()},k.prototype.onBufferFull=function(){this.hide()},k.prototype.onStop=function(){this.hide()},k.prototype.show=function(){var b=this;null===this.showTimeout&&(this.showTimeout=setTimeout(function(){return b.$el.show()},300))},k.prototype.hide=function(){null!==this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null);this.$el.hide()},k.prototype.render=function(){this.$el.html(this.template());var b=h["default"].getStyleFor(n["default"]);
return this.container.$el.append(b),this.container.$el.append(this.$el),this.$el.hide(),this.container.buffering&&this.onBuffering(),this},k}(q["default"]);t["default"]=c;w.exports=t["default"]},function(w,t,c){w.exports=c(74)},function(w,t,c){function v(e){return e&&e.__esModule?e:{"default":e}}function m(e,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);e.prototype=Object.create(b&&b.prototype,{constructor:{value:e,enumerable:!1,
writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(e,b):e.__proto__=b)}Object.defineProperty(t,"__esModule",{value:!0});var g=function(){function e(b,e){for(var c=0;c<e.length;c++){var n=e[c];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(b,n.key,n)}}return function(b,c,k){return c&&e(b.prototype,c),k&&e(b,k),b}}(),q=c(13),q=v(q),u=c(0),p=v(u);c=c(3);var h=v(c);c=function(e){function b(c){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");
c=e.call(this,c);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!=typeof c&&"function"!=typeof c?this:c;return c.setInitialAttrs(),c.reportInterval=c.options.reportInterval||5E3,c.state="IDLE",c}return m(b,e),g(b,[{key:"name",get:function(){return"stats"}}]),b.prototype.bindEvents=function(){this.listenTo(this.container.playback,p["default"].PLAYBACK_PLAY,this.onPlay);this.listenTo(this.container,p["default"].CONTAINER_STOP,this.onStop);
this.listenTo(this.container,p["default"].CONTAINER_ENDED,this.onStop);this.listenTo(this.container,p["default"].CONTAINER_DESTROYED,this.onStop);this.listenTo(this.container,p["default"].CONTAINER_STATE_BUFFERING,this.onBuffering);this.listenTo(this.container,p["default"].CONTAINER_STATE_BUFFERFULL,this.onBufferFull);this.listenTo(this.container,p["default"].CONTAINER_STATS_ADD,this.onStatsAdd);this.listenTo(this.container,p["default"].CONTAINER_BITRATE,this.onStatsAdd);this.listenTo(this.container.playback,
p["default"].PLAYBACK_STATS_ADD,this.onStatsAdd)},b.prototype.setInitialAttrs=function(){this.firstPlay=!0;this.rebuffers=this.watchingTime=this.rebufferingTime=this.startupTime=0;this.externalMetrics={}},b.prototype.onPlay=function(){this.state="PLAYING";this.watchingTimeInit=Date.now();this.intervalId||(this.intervalId=setInterval(this.report.bind(this),this.reportInterval))},b.prototype.onStop=function(){clearInterval(this.intervalId);this.report();this.intervalId=void 0;this.state="STOPPED"},
b.prototype.onBuffering=function(){this.firstPlay?this.startupTimeInit=Date.now():this.rebufferingTimeInit=Date.now();this.state="BUFFERING";this.rebuffers++},b.prototype.onBufferFull=function(){this.firstPlay&&this.startupTimeInit?(this.firstPlay=!1,this.startupTime=Date.now()-this.startupTimeInit,this.watchingTimeInit=Date.now()):this.rebufferingTimeInit&&(this.rebufferingTime+=this.getRebufferingTime());this.rebufferingTimeInit=void 0;this.state="PLAYING"},b.prototype.getRebufferingTime=function(){return Date.now()-
this.rebufferingTimeInit},b.prototype.getWatchingTime=function(){return Date.now()-this.watchingTimeInit-this.rebufferingTime},b.prototype.isRebuffering=function(){return!!this.rebufferingTimeInit},b.prototype.onStatsAdd=function(b){h["default"].extend(this.externalMetrics,b)},b.prototype.getStats=function(){var b={startupTime:this.startupTime,rebuffers:this.rebuffers,rebufferingTime:this.isRebuffering()?this.rebufferingTime+this.getRebufferingTime():this.rebufferingTime,watchingTime:this.isRebuffering()?
this.getWatchingTime()-this.getRebufferingTime():this.getWatchingTime()};return h["default"].extend(b,this.externalMetrics),b},b.prototype.report=function(){this.container.statsReport(this.getStats())},b}(q["default"]);t["default"]=c;w.exports=t["default"]},function(w,t,c){function v(c,h){if("function"!=typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function, not "+typeof h);c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,enumerable:!1,writable:!0,
configurable:!0}});h&&(Object.setPrototypeOf?Object.setPrototypeOf(c,h):c.__proto__=h)}Object.defineProperty(t,"__esModule",{value:!0});var m=function(){function c(c,e){for(var b=0;b<e.length;b++){var n=e[b];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(c,n.key,n)}}return function(h,e,b){return e&&c(h.prototype,e),b&&c(h,b),h}}(),g=c(1),q=c(11),q=q&&q.__esModule?q:{"default":q},u=(c=c(35))&&c.__esModule?c:{"default":c};c=function(c){function h(e){if(!(this instanceof
h))throw new TypeError("Cannot call a class as a function");e=c.call(this,e);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");e=!e||"object"!=typeof e&&"function"!=typeof e?this:e;return e._initializeMessages(),e}return v(h,c),m(h,[{key:"name",get:function(){return"strings"}}]),h.prototype.t=function(e){var b=this._language();return(b&&this._messages[b]||this._messages.en)[e]||e},h.prototype._language=function(){return this.core.options.language||(0,g.getBrowserLanguage)()},
h.prototype._initializeMessages=function(){this._messages=(0,u["default"])({en:{live:"live",back_to_live:"back to live",playback_not_supported:"Your browser does not support the playback of this video. Please try using a different browser."},pt:{live:"ao vivo",back_to_live:"voltar para o ao vivo",playback_not_supported:"Seu navegador n\u00e3o supporta a reprodu\u00e7\u00e3o deste video. Por favor, tente usar um navegador diferente."},es:{live:"vivo",back_to_live:"volver en vivo",playback_not_supported:"Su navegador no soporta la reproducci\u00f3n de un video. Por favor, trate de usar un navegador diferente."},
ru:{live:"\u043f\u0440\u044f\u043c\u043e\u0439 \u044d\u0444\u0438\u0440",back_to_live:"\u043a \u043f\u0440\u044f\u043c\u043e\u043c\u0443 \u044d\u0444\u0438\u0440\u0443",playback_not_supported:"\u0412\u0430\u0448 \u0431\u0440\u0430\u0443\u0437\u0435\u0440 \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u0432\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u044d\u0442\u043e\u0433\u043e \u0432\u0438\u0434\u0435\u043e. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0434\u0440\u0443\u0433\u043e\u0439 \u0431\u0440\u0430\u0443\u0437\u0435\u0440."},
fr:{live:"en direct",back_to_live:"retour au direct",playback_not_supported:"Votre navigateur ne supporte pas la lecture de cette vid\u00e9o. Merci de tenter sur un autre navigateur."},tr:{live:"canl\u0131",back_to_live:"canl\u0131 yay\u0131na d\u00f6n",playback_not_supported:"Taray\u0131c\u0131n\u0131z bu videoyu oynatma deste\u011fine sahip de\u011fil. L\u00fctfen farkl\u0131 bir taray\u0131c\u0131 ile deneyin."}},this.core.options.strings||{});this._messages["pt-BR"]=this._messages.pt;this._messages["en-US"]=
this._messages.en;this._messages["es-419"]=this._messages.es;this._messages["fr-FR"]=this._messages.fr;this._messages["tr-TR"]=this._messages.tr},h}(q["default"]);t["default"]=c;w.exports=t["default"]},function(w,t,c){w.exports=c(77)},function(w,t,c){function v(b){return b&&b.__esModule?b:{"default":b}}function m(b,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);b.prototype=Object.create(e&&e.prototype,{constructor:{value:b,
enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(b,e):b.__proto__=e)}Object.defineProperty(t,"__esModule",{value:!0});var g=function(){function b(b,e){for(var d=0;d<e.length;d++){var a=e[d];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(b,a.key,a)}}return function(e,c,d){return c&&b(e.prototype,c),d&&b(e,d),e}}(),q=c(14),q=v(q),u=c(0),p=v(u),u=c(4),h=v(u),u=c(5),e=v(u),u=c(93),b=v(u);c=c(102);var n=v(c);
c=function(c){function k(b){if(!(this instanceof k))throw new TypeError("Cannot call a class as a function");b=c.call(this,b);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");b=!b||"object"!=typeof b&&"function"!=typeof b?this:b;return b.configure(),b}return m(k,c),g(k,[{key:"name",get:function(){return"watermark"}},{key:"template",get:function(){return(0,e["default"])(n["default"])}}]),k.prototype.bindEvents=function(){this.listenTo(this.container,p["default"].CONTAINER_PLAY,
this.onPlay);this.listenTo(this.container,p["default"].CONTAINER_STOP,this.onStop);this.listenTo(this.container,p["default"].CONTAINER_OPTIONS_CHANGE,this.configure)},k.prototype.configure=function(){this.position=this.options.position||"bottom-right";this.options.watermark?(this.imageUrl=this.options.watermark,this.imageLink=this.options.watermarkLink,this.render()):this.$el.remove()},k.prototype.onPlay=function(){this.hidden||this.$el.show()},k.prototype.onStop=function(){this.$el.hide()},k.prototype.render=
function(){this.$el.hide();this.$el.html(this.template({position:this.position,imageUrl:this.imageUrl,imageLink:this.imageLink}));var e=h["default"].getStyleFor(b["default"]);return this.container.$el.append(e),this.container.$el.append(this.$el),this},k}(q["default"]);t["default"]=c;w.exports=t["default"]},function(w,t,c){Object.defineProperty(t,"__esModule",{value:!0});var v=function(c){this.element=c||window.document;this.initialize()};v.KEY_NAMES_BY_CODE={8:"backspace",9:"tab",13:"enter",16:"shift",
17:"ctrl",18:"alt",20:"caps_lock",27:"esc",32:"space",37:"left",38:"up",39:"right",40:"down",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"};v.KEY_CODES_BY_NAME={};(function(){for(var c in v.KEY_NAMES_BY_CODE)Object.prototype.hasOwnProperty.call(v.KEY_NAMES_BY_CODE,
c)&&(v.KEY_CODES_BY_NAME[v.KEY_NAMES_BY_CODE[c]]=+c)})();v.MODIFIERS=["shift","ctrl","alt"];v.registerEvent=function(){return document.addEventListener?function(c,g,q){c.addEventListener(g,q,!1)}:document.attachEvent?function(c,g,q){c.attachEvent("on"+g,q)}:void 0}();v.unregisterEvent=function(){return document.removeEventListener?function(c,g,q){c.removeEventListener(g,q,!1)}:document.detachEvent?function(c,g,q){c.detachEvent("on"+g,q)}:void 0}();v.stringContains=function(c,g){return-1!==c.indexOf(g)};
v.neatString=function(c){return c.replace(/^\s+|\s+$/g,"").replace(/\s+/g," ")};v.capitalize=function(c){return c.toLowerCase().replace(/^./,function(c){return c.toUpperCase()})};v.isString=function(c){return v.stringContains(Object.prototype.toString.call(c),"String")};v.arrayIncludes=function(){return Array.prototype.indexOf?function(c,g){return-1!==c.indexOf(g)}:function(c,g){for(var m=0;m<c.length;m++)if(c[m]===g)return!0;return!1}}();v.extractModifiers=function(c){var g;var m=[];for(g=0;g<v.MODIFIERS.length;g++)v.stringContains(c,
v.MODIFIERS[g])&&m.push(v.MODIFIERS[g]);return m};v.extractKey=function(c){var g;c=v.neatString(c).split(" ");for(g=0;g<c.length;g++)if(!v.arrayIncludes(v.MODIFIERS,c[g]))return c[g]};v.modifiersAndKey=function(c){var g,m;return v.stringContains(c,"any")?v.neatString(c).split(" ").slice(0,2).join(" "):(g=v.extractModifiers(c),m=v.extractKey(c),m&&!v.arrayIncludes(v.MODIFIERS,m)&&g.push(m),g.join(" "))};v.keyName=function(c){return v.KEY_NAMES_BY_CODE[c+""]};v.keyCode=function(c){return+v.KEY_CODES_BY_NAME[c]};
v.prototype.initialize=function(){var c,g=this;this.lastKeyCode=-1;this.lastModifiers={};for(c=0;c<v.MODIFIERS.length;c++)this.lastModifiers[v.MODIFIERS[c]]=!1;this.keysDown={any:[]};this.keysUp={any:[]};this.downHandler=this.handler("down");this.upHandler=this.handler("up");v.registerEvent(this.element,"keydown",this.downHandler);v.registerEvent(this.element,"keyup",this.upHandler);v.registerEvent(window,"unload",function u(){v.unregisterEvent(g.element,"keydown",g.downHandler);v.unregisterEvent(g.element,
"keyup",g.upHandler);v.unregisterEvent(window,"unload",u)})};v.prototype.handler=function(c){var g=this;return function(m){var u,p;m=m||window.event;g.lastKeyCode=m.keyCode;for(u=0;u<v.MODIFIERS.length;u++)g.lastModifiers[v.MODIFIERS[u]]=m[v.MODIFIERS[u]+"Key"];v.arrayIncludes(v.MODIFIERS,v.keyName(g.lastKeyCode))&&(g.lastModifiers[v.keyName(g.lastKeyCode)]=!0);var h=g["keys"+v.capitalize(c)];for(u=0;u<h.any.length;u++)!1===h.any[u](m)&&m.preventDefault&&m.preventDefault();if(p=g.lastModifiersAndKey(),
h[p])for(u=0;u<h[p].length;u++)!1===h[p][u](m)&&m.preventDefault&&m.preventDefault()}};v.prototype.registerKeys=function(c,g,q){var m=this["keys"+v.capitalize(c)];v.isString(g)&&(g=[g]);for(c=0;c<g.length;c++){var p=g[c];p=v.modifiersAndKey(p+"");m[p]?m[p].push(q):m[p]=[q]}return this};v.prototype.unregisterKeys=function(c,g,q){var m,p,h=this["keys"+v.capitalize(c)];v.isString(g)&&(g=[g]);for(c=0;c<g.length;c++)if(p=g[c],p=v.modifiersAndKey(p+""),null===q)delete h[p];else if(h[p])for(m=0;m<h[p].length;m++)if(String(h[p][m])===
String(q)){h[p].splice(m,1);break}return this};v.prototype.off=function(c){return this.unregisterKeys("down",c,null)};v.prototype.delegate=function(c,g,q){return null!==q||void 0!==q?this.registerKeys(c,g,q):this.unregisterKeys(c,g,q)};v.prototype.down=function(c,g){return this.delegate("down",c,g)};v.prototype.up=function(c,g){return this.delegate("up",c,g)};v.prototype.lastKey=function(c){return c?this.lastModifiers[c]:v.keyName(this.lastKeyCode)};v.prototype.lastModifiersAndKey=function(){var c;
var g=[];for(c=0;c<v.MODIFIERS.length;c++)this.lastKey(v.MODIFIERS[c])&&g.push(v.MODIFIERS[c]);return v.arrayIncludes(g,this.lastKey())||g.push(this.lastKey()),g.join(" ")};t["default"]=v;w.exports=t["default"]},function(w,t,c){function v(c){var h=c.length;if(0<h%4)throw Error("Invalid string. Length must be a multiple of 4");return"="===c[h-2]?2:"="===c[h-1]?1:0}function m(c,h,e){for(var b=[],n=h;n<e;n+=3)h=(c[n]<<16)+(c[n+1]<<8)+c[n+2],b.push(g[h>>18&63]+g[h>>12&63]+g[h>>6&63]+g[63&h]);return b.join("")}
t.byteLength=function(c){return 3*c.length/4-v(c)};t.toByteArray=function(c){var h=c.length;var e=v(c);var b=new u(3*h/4-e);var n=0<e?h-4:h;var k=0;for(h=0;h<n;h+=4){var r=q[c.charCodeAt(h)]<<18|q[c.charCodeAt(h+1)]<<12|q[c.charCodeAt(h+2)]<<6|q[c.charCodeAt(h+3)];b[k++]=r>>16&255;b[k++]=r>>8&255;b[k++]=255&r}return 2===e?(r=q[c.charCodeAt(h)]<<2|q[c.charCodeAt(h+1)]>>4,b[k++]=255&r):1===e&&(r=q[c.charCodeAt(h)]<<10|q[c.charCodeAt(h+1)]<<4|q[c.charCodeAt(h+2)]>>2,b[k++]=r>>8&255,b[k++]=255&r),b};
t.fromByteArray=function(c){for(var h,e=c.length,b=e%3,n="",k=[],r=0,l=e-b;r<l;r+=16383)k.push(m(c,r,r+16383>l?l:r+16383));return 1===b?(h=c[e-1],n+=g[h>>2],n+=g[h<<4&63],n+="=="):2===b&&(h=(c[e-2]<<8)+c[e-1],n+=g[h>>10],n+=g[h>>4&63],n+=g[h<<2&63],n+="="),k.push(n),k.join("")};var g=[],q=[],u="undefined"!=typeof Uint8Array?Uint8Array:Array;for(w=0;64>w;++w)g[w]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[w],q["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(w)]=
w;q[45]=62;q[95]=63},function(w,t,c){(function(v){function m(a,b){if((g.TYPED_ARRAY_SUPPORT?2147483647:1073741823)<b)throw new RangeError("Invalid typed array length");return g.TYPED_ARRAY_SUPPORT?(a=new Uint8Array(b),a.__proto__=g.prototype):(null===a&&(a=new g(b)),a.length=b),a}function g(a,b,d){if(!(g.TYPED_ARRAY_SUPPORT||this instanceof g))return new g(a,b,d);if("number"==typeof a){if("string"==typeof b)throw Error("If encoding is specified then the first argument must be a string");return p(this,
a)}return q(this,a,b,d)}function q(a,d,f,c){if("number"==typeof d)throw new TypeError('"value" argument must not be a number');if("undefined"!=typeof ArrayBuffer&&d instanceof ArrayBuffer){if(d.byteLength,0>f||d.byteLength<f)throw new RangeError("'offset' is out of bounds");if(d.byteLength<f+(c||0))throw new RangeError("'length' is out of bounds");f=(d=void 0===f&&void 0===c?new Uint8Array(d):void 0===c?new Uint8Array(d,f):new Uint8Array(d,f,c),g.TYPED_ARRAY_SUPPORT?(a=d,a.__proto__=g.prototype):
a=h(a,d),a)}else{if("string"==typeof d){c=a;a=f;if("string"==typeof a&&""!==a||(a="utf8"),!g.isEncoding(a))throw new TypeError('"encoding" must be a valid string encoding');f=0|b(d,a);c=m(c,f);d=c.write(d,a);d=(d!==f&&(c=c.slice(0,d)),c)}else a:if(f=a,g.isBuffer(d))c=0|e(d.length),d=(f=m(f,c),0===f.length?f:(d.copy(f,0,0,c),f));else{if(d){if("undefined"!=typeof ArrayBuffer&&d.buffer instanceof ArrayBuffer||"length"in d){(c="number"!=typeof d.length)||(c=d.length,c=c!==c);d=c?m(f,0):h(f,d);break a}if("Buffer"===
d.type&&G(d.data)){d=h(f,d.data);break a}}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");}f=d}return f}function u(a){if("number"!=typeof a)throw new TypeError('"size" argument must be a number');if(0>a)throw new RangeError('"size" argument must not be negative');}function p(a,d){if(u(d),a=m(a,0>d?0:0|e(d)),!g.TYPED_ARRAY_SUPPORT)for(var b=0;b<d;++b)a[b]=0;return a}function h(a,d){var b=0>d.length?0:0|e(d.length);a=m(a,b);for(var f=0;f<b;f+=
1)a[f]=255&d[f];return a}function e(a){if(a>=(g.TYPED_ARRAY_SUPPORT?2147483647:1073741823))throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(g.TYPED_ARRAY_SUPPORT?2147483647:1073741823).toString(16)+" bytes");return 0|a}function b(a,d){if(g.isBuffer(a))return a.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(a)||a instanceof ArrayBuffer))return a.byteLength;"string"!=typeof a&&(a=""+a);var b=a.length;if(0===b)return 0;
for(var f=!1;;)switch(d){case "ascii":case "latin1":case "binary":return b;case "utf8":case "utf-8":case void 0:return L(a).length;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*b;case "hex":return b>>>1;case "base64":return P.toByteArray(A(a)).length;default:if(f)return L(a).length;d=(""+d).toLowerCase();f=!0}}function n(a,b,f){var e=!1;if(((void 0===b||0>b)&&(b=0),b>this.length)||((void 0===f||f>this.length)&&(f=this.length),0>=f)||(f>>>=0,b>>>=0,f<=b))return"";for(a||(a="utf8");;)switch(a){case "hex":a=
b;b=f;f=this.length;(!a||0>a)&&(a=0);(!b||0>b||b>f)&&(b=f);e="";for(f=a;f<b;++f)a=e,e=this[f],e=16>e?"0"+e.toString(16):e.toString(16),e=a+e;return e;case "utf8":case "utf-8":return d(this,b,f);case "ascii":a="";for(f=Math.min(this.length,f);b<f;++b)a+=String.fromCharCode(127&this[b]);return a;case "latin1":case "binary":a="";for(f=Math.min(this.length,f);b<f;++b)a+=String.fromCharCode(this[b]);return a;case "base64":return 0===b&&f===this.length?P.fromByteArray(this):P.fromByteArray(this.slice(b,
f));case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":b=this.slice(b,f);f="";for(a=0;a<b.length;a+=2)f+=String.fromCharCode(b[a]+256*b[a+1]);return f;default:if(e)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase();e=!0}}function k(a,b,d){var f=a[b];a[b]=a[d];a[d]=f}function r(a,b,d,f,e){if(0===a.length)return-1;if("string"==typeof d?(f=d,d=0):2147483647<d?d=2147483647:-2147483648>d&&(d=-2147483648),d=+d,isNaN(d)&&(d=e?0:a.length-1),0>d&&(d=a.length+d),d>=a.length){if(e)return-1;
d=a.length-1}else if(0>d){if(!e)return-1;d=0}if("string"==typeof b&&(b=g.from(b,f)),g.isBuffer(b))return 0===b.length?-1:l(a,b,d,f,e);if("number"==typeof b)return b&=255,g.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?e?Uint8Array.prototype.indexOf.call(a,b,d):Uint8Array.prototype.lastIndexOf.call(a,b,d):l(a,[b],d,f,e);throw new TypeError("val must be string, number or Buffer");}function l(a,b,d,f,e){function c(a,b){return 1===k?a[b]:a.readUInt16BE(b*k)}var k=1,l=a.length,n=
b.length;if(void 0!==f&&("ucs2"===(f=String(f).toLowerCase())||"ucs-2"===f||"utf16le"===f||"utf-16le"===f)){if(2>a.length||2>b.length)return-1;k=2;l/=2;n/=2;d/=2}if(e)for(f=-1;d<l;d++)if(c(a,d)===c(b,-1===f?0:d-f)){if(-1===f&&(f=d),d-f+1===n)return f*k}else-1!==f&&(d-=d-f),f=-1;else for(d+n>l&&(d=l-n);0<=d;d--){l=!0;for(f=0;f<n;f++)if(c(a,d+f)!==c(b,f)){l=!1;break}if(l)return d}return-1}function d(a,b,d){d=Math.min(a.length,d);for(var f=[];b<d;){var e=a[b],c=null,k=239<e?4:223<e?3:191<e?2:1;if(b+
k<=d){var l;switch(k){case 1:128>e&&(c=e);break;case 2:var n=a[b+1];128==(192&n)&&127<(l=(31&e)<<6|63&n)&&(c=l);break;case 3:n=a[b+1];var h=a[b+2];128==(192&n)&&128==(192&h)&&2047<(l=(15&e)<<12|(63&n)<<6|63&h)&&(55296>l||57343<l)&&(c=l);break;case 4:n=a[b+1];h=a[b+2];var y=a[b+3];128==(192&n)&&128==(192&h)&&128==(192&y)&&65535<(l=(15&e)<<18|(63&n)<<12|(63&h)<<6|63&y)&&1114112>l&&(c=l)}}null===c?(c=65533,k=1):65535<c&&(c-=65536,f.push(c>>>10&1023|55296),c=56320|1023&c);f.push(c);b+=k}a=f.length;if(a<=
M)f=String.fromCharCode.apply(String,f);else{d="";for(l=0;l<a;)d+=String.fromCharCode.apply(String,f.slice(l,l+=M));f=d}return f}function a(a,b,d){if(0!=a%1||0>a)throw new RangeError("offset is not uint");if(a+b>d)throw new RangeError("Trying to access beyond buffer length");}function f(a,b,d,f,e,c){if(!g.isBuffer(a))throw new TypeError('"buffer" argument must be a Buffer instance');if(b>e||b<c)throw new RangeError('"value" argument is out of bounds');if(d+f>a.length)throw new RangeError("Index out of range");
}function H(a,b,d,f){0>b&&(b=65535+b+1);for(var e=0,c=Math.min(a.length-d,2);e<c;++e)a[d+e]=(b&255<<8*(f?e:1-e))>>>8*(f?e:1-e)}function D(a,b,d,f){0>b&&(b=4294967295+b+1);for(var e=0,c=Math.min(a.length-d,4);e<c;++e)a[d+e]=b>>>8*(f?e:3-e)&255}function y(a,b,d,f,e,c){if(d+f>a.length)throw new RangeError("Index out of range");if(0>d)throw new RangeError("Index out of range");}function z(a,b,d,f,e){return e||y(a,b,d,4,3.4028234663852886E38,-3.4028234663852886E38),w.write(a,b,d,f,23,4),d+4}function x(a,
b,d,f,e){return e||y(a,b,d,8,1.7976931348623157E308,-1.7976931348623157E308),w.write(a,b,d,f,52,8),d+8}function A(a){var b=a;if(a=(b.trim?b.trim():b.replace(/^\s+|\s+$/g,"")).replace(J,""),2>a.length)return"";for(;0!=a.length%4;)a+="=";return a}function L(a,b){b=b||1/0;for(var d,f=a.length,e=null,c=[],l=0;l<f;++l){if(55295<(d=a.charCodeAt(l))&&57344>d){if(!e){if(56319<d){-1<(b-=3)&&c.push(239,191,189);continue}if(l+1===f){-1<(b-=3)&&c.push(239,191,189);continue}e=d;continue}if(56320>d){-1<(b-=3)&&
c.push(239,191,189);e=d;continue}d=65536+(e-55296<<10|d-56320)}else e&&-1<(b-=3)&&c.push(239,191,189);if(e=null,128>d){if(0>--b)break;c.push(d)}else if(2048>d){if(0>(b-=2))break;c.push(d>>6|192,63&d|128)}else if(65536>d){if(0>(b-=3))break;c.push(d>>12|224,d>>6&63|128,63&d|128)}else{if(!(1114112>d))throw Error("Invalid code point");if(0>(b-=4))break;c.push(d>>18|240,d>>12&63|128,d>>6&63|128,63&d|128)}}return c}function C(a){for(var b=[],d=0;d<a.length;++d)b.push(255&a.charCodeAt(d));return b}function E(a,
d,b,f){for(var e=0;e<f&&!(e+b>=d.length||e>=a.length);++e)d[e+b]=a[e];return e}var P=c(79),w=c(103),G=c(81);t.Buffer=g;t.SlowBuffer=function(a){return+a!=a&&(a=0),g.alloc(+a)};t.INSPECT_MAX_BYTES=50;g.TYPED_ARRAY_SUPPORT=void 0!==v.TYPED_ARRAY_SUPPORT?v.TYPED_ARRAY_SUPPORT:function(){try{var a=new Uint8Array(1);return a.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===a.foo()&&"function"==typeof a.subarray&&0===a.subarray(1,1).byteLength}catch(O){return!1}}();t.kMaxLength=
g.TYPED_ARRAY_SUPPORT?2147483647:1073741823;g.poolSize=8192;g._augment=function(a){return a.__proto__=g.prototype,a};g.from=function(a,d,b){return q(null,a,d,b)};g.TYPED_ARRAY_SUPPORT&&(g.prototype.__proto__=Uint8Array.prototype,g.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&g[Symbol.species]===g&&Object.defineProperty(g,Symbol.species,{value:null,configurable:!0}));g.alloc=function(a,d,b){return u(a),0>=a?m(null,a):void 0!==d?"string"==typeof b?m(null,a).fill(d,b):m(null,a).fill(d):
m(null,a)};g.allocUnsafe=function(a){return p(null,a)};g.allocUnsafeSlow=function(a){return p(null,a)};g.isBuffer=function(a){return!(null==a||!a._isBuffer)};g.compare=function(a,d){if(!g.isBuffer(a)||!g.isBuffer(d))throw new TypeError("Arguments must be Buffers");if(a===d)return 0;for(var b=a.length,f=d.length,e=0,c=Math.min(b,f);e<c;++e)if(a[e]!==d[e]){b=a[e];f=d[e];break}return b<f?-1:f<b?1:0};g.isEncoding=function(a){switch(String(a).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;
default:return!1}};g.concat=function(a,d){if(!G(a))throw new TypeError('"list" argument must be an Array of Buffers');if(0===a.length)return g.alloc(0);var b;if(void 0===d)for(b=d=0;b<a.length;++b)d+=a[b].length;var f=g.allocUnsafe(d),e=0;for(b=0;b<a.length;++b){var c=a[b];if(!g.isBuffer(c))throw new TypeError('"list" argument must be an Array of Buffers');c.copy(f,e);e+=c.length}return f};g.byteLength=b;g.prototype._isBuffer=!0;g.prototype.swap16=function(){var a=this.length;if(0!=a%2)throw new RangeError("Buffer size must be a multiple of 16-bits");
for(var b=0;b<a;b+=2)k(this,b,b+1);return this};g.prototype.swap32=function(){var a=this.length;if(0!=a%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var b=0;b<a;b+=4)k(this,b,b+3),k(this,b+1,b+2);return this};g.prototype.swap64=function(){var a=this.length;if(0!=a%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var b=0;b<a;b+=8)k(this,b,b+7),k(this,b+1,b+6),k(this,b+2,b+5),k(this,b+3,b+4);return this};g.prototype.toString=function(){var a=0|this.length;
return 0===a?"":0===arguments.length?d(this,0,a):n.apply(this,arguments)};g.prototype.equals=function(a){if(!g.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a||0===g.compare(this,a)};g.prototype.inspect=function(){var a="",b=t.INSPECT_MAX_BYTES;return 0<this.length&&(a=this.toString("hex",0,b).match(/.{2}/g).join(" "),this.length>b&&(a+=" ... ")),"<Buffer "+a+">"};g.prototype.compare=function(a,b,d,f,e){if(!g.isBuffer(a))throw new TypeError("Argument must be a Buffer");
if(void 0===b&&(b=0),void 0===d&&(d=a?a.length:0),void 0===f&&(f=0),void 0===e&&(e=this.length),0>b||d>a.length||0>f||e>this.length)throw new RangeError("out of range index");if(f>=e&&b>=d)return 0;if(f>=e)return-1;if(b>=d)return 1;if(b>>>=0,d>>>=0,f>>>=0,e>>>=0,this===a)return 0;var c=e-f,l=d-b,k=Math.min(c,l);f=this.slice(f,e);a=a.slice(b,d);for(b=0;b<k;++b)if(f[b]!==a[b]){c=f[b];l=a[b];break}return c<l?-1:l<c?1:0};g.prototype.includes=function(a,b,d){return-1!==this.indexOf(a,b,d)};g.prototype.indexOf=
function(a,b,d){return r(this,a,b,d,!0)};g.prototype.lastIndexOf=function(a,b,d){return r(this,a,b,d,!1)};g.prototype.write=function(a,b,d,f){if(void 0===b)f="utf8",d=this.length,b=0;else if(void 0===d&&"string"==typeof b)f=b,d=this.length,b=0;else{if(!isFinite(b))throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");b|=0;isFinite(d)?(d|=0,void 0===f&&(f="utf8")):(f=d,d=void 0)}var e=this.length-b;if((void 0===d||d>e)&&(d=e),0<a.length&&(0>d||0>b)||b>this.length)throw new RangeError("Attempt to write outside buffer bounds");
f||(f="utf8");for(e=!1;;)switch(f){case "hex":a:{b=Number(b)||0;f=this.length-b;d?(d=Number(d))>f&&(d=f):d=f;f=a.length;if(0!=f%2)throw new TypeError("Invalid hex string");d>f/2&&(d=f/2);for(f=0;f<d;++f){e=parseInt(a.substr(2*f,2),16);if(isNaN(e)){a=f;break a}this[b+f]=e}a=f}return a;case "utf8":case "utf-8":return E(L(a,this.length-b),this,b,d);case "ascii":return E(C(a),this,b,d);case "latin1":case "binary":return E(C(a),this,b,d);case "base64":return E(P.toByteArray(A(a)),this,b,d);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":f=
a;for(var e=this.length-b,c=[],l=0;l<f.length&&!(0>(e-=2));++l){var k=f.charCodeAt(l);a=k>>8;k%=256;c.push(k);c.push(a)}return E(c,this,b,d);default:if(e)throw new TypeError("Unknown encoding: "+f);f=(""+f).toLowerCase();e=!0}};g.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var M=4096;g.prototype.slice=function(a,b){var d=this.length;a=~~a;b=void 0===b?d:~~b;0>a?0>(a+=d)&&(a=0):a>d&&(a=d);0>b?0>(b+=d)&&(b=0):b>d&&(b=d);b<a&&(b=a);if(g.TYPED_ARRAY_SUPPORT)d=
this.subarray(a,b),d.__proto__=g.prototype;else for(var f=b-a,d=new g(f,void 0),e=0;e<f;++e)d[e]=this[e+a];return d};g.prototype.readUIntLE=function(b,d,f){b|=0;d|=0;f||a(b,d,this.length);f=this[b];for(var e=1,c=0;++c<d&&(e*=256);)f+=this[b+c]*e;return f};g.prototype.readUIntBE=function(b,d,f){b|=0;d|=0;f||a(b,d,this.length);f=this[b+--d];for(var e=1;0<d&&(e*=256);)f+=this[b+--d]*e;return f};g.prototype.readUInt8=function(b,d){return d||a(b,1,this.length),this[b]};g.prototype.readUInt16LE=function(b,
d){return d||a(b,2,this.length),this[b]|this[b+1]<<8};g.prototype.readUInt16BE=function(b,d){return d||a(b,2,this.length),this[b]<<8|this[b+1]};g.prototype.readUInt32LE=function(b,d){return d||a(b,4,this.length),(this[b]|this[b+1]<<8|this[b+2]<<16)+16777216*this[b+3]};g.prototype.readUInt32BE=function(b,d){return d||a(b,4,this.length),16777216*this[b]+(this[b+1]<<16|this[b+2]<<8|this[b+3])};g.prototype.readIntLE=function(b,d,f){b|=0;d|=0;f||a(b,d,this.length);f=this[b];for(var e=1,c=0;++c<d&&(e*=
256);)f+=this[b+c]*e;return e*=128,f>=e&&(f-=Math.pow(2,8*d)),f};g.prototype.readIntBE=function(b,d,f){b|=0;d|=0;f||a(b,d,this.length);f=d;for(var e=1,c=this[b+--f];0<f&&(e*=256);)c+=this[b+--f]*e;return e*=128,c>=e&&(c-=Math.pow(2,8*d)),c};g.prototype.readInt8=function(b,d){return d||a(b,1,this.length),128&this[b]?-1*(255-this[b]+1):this[b]};g.prototype.readInt16LE=function(b,d){d||a(b,2,this.length);var f=this[b]|this[b+1]<<8;return 32768&f?4294901760|f:f};g.prototype.readInt16BE=function(b,d){d||
a(b,2,this.length);var f=this[b+1]|this[b]<<8;return 32768&f?4294901760|f:f};g.prototype.readInt32LE=function(b,d){return d||a(b,4,this.length),this[b]|this[b+1]<<8|this[b+2]<<16|this[b+3]<<24};g.prototype.readInt32BE=function(b,d){return d||a(b,4,this.length),this[b]<<24|this[b+1]<<16|this[b+2]<<8|this[b+3]};g.prototype.readFloatLE=function(b,d){return d||a(b,4,this.length),w.read(this,b,!0,23,4)};g.prototype.readFloatBE=function(b,d){return d||a(b,4,this.length),w.read(this,b,!1,23,4)};g.prototype.readDoubleLE=
function(b,d){return d||a(b,8,this.length),w.read(this,b,!0,52,8)};g.prototype.readDoubleBE=function(b,d){return d||a(b,8,this.length),w.read(this,b,!1,52,8)};g.prototype.writeUIntLE=function(a,b,d,e){(a=+a,b|=0,d|=0,e)||f(this,a,b,d,Math.pow(2,8*d)-1,0);e=1;var c=0;for(this[b]=255&a;++c<d&&(e*=256);)this[b+c]=a/e&255;return b+d};g.prototype.writeUIntBE=function(a,b,d,e){(a=+a,b|=0,d|=0,e)||f(this,a,b,d,Math.pow(2,8*d)-1,0);e=d-1;var c=1;for(this[b+e]=255&a;0<=--e&&(c*=256);)this[b+e]=a/c&255;return b+
d};g.prototype.writeUInt8=function(a,b,d){return a=+a,b|=0,d||f(this,a,b,1,255,0),g.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),this[b]=255&a,b+1};g.prototype.writeUInt16LE=function(a,b,d){return a=+a,b|=0,d||f(this,a,b,2,65535,0),g.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8):H(this,a,b,!0),b+2};g.prototype.writeUInt16BE=function(a,b,d){return a=+a,b|=0,d||f(this,a,b,2,65535,0),g.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=255&a):H(this,a,b,!1),b+2};g.prototype.writeUInt32LE=function(a,b,d){return a=
+a,b|=0,d||f(this,a,b,4,4294967295,0),g.TYPED_ARRAY_SUPPORT?(this[b+3]=a>>>24,this[b+2]=a>>>16,this[b+1]=a>>>8,this[b]=255&a):D(this,a,b,!0),b+4};g.prototype.writeUInt32BE=function(a,b,d){return a=+a,b|=0,d||f(this,a,b,4,4294967295,0),g.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a):D(this,a,b,!1),b+4};g.prototype.writeIntLE=function(a,b,d,e){(a=+a,b|=0,e)||(e=Math.pow(2,8*d-1),f(this,a,b,d,e-1,-e));e=0;var c=1,l=0;for(this[b]=255&a;++e<d&&(c*=256);)0>a&&0===
l&&0!==this[b+e-1]&&(l=1),this[b+e]=(a/c>>0)-l&255;return b+d};g.prototype.writeIntBE=function(a,b,d,e){(a=+a,b|=0,e)||(e=Math.pow(2,8*d-1),f(this,a,b,d,e-1,-e));e=d-1;var c=1,l=0;for(this[b+e]=255&a;0<=--e&&(c*=256);)0>a&&0===l&&0!==this[b+e+1]&&(l=1),this[b+e]=(a/c>>0)-l&255;return b+d};g.prototype.writeInt8=function(a,b,d){return a=+a,b|=0,d||f(this,a,b,1,127,-128),g.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),0>a&&(a=255+a+1),this[b]=255&a,b+1};g.prototype.writeInt16LE=function(a,b,d){return a=+a,
b|=0,d||f(this,a,b,2,32767,-32768),g.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8):H(this,a,b,!0),b+2};g.prototype.writeInt16BE=function(a,b,d){return a=+a,b|=0,d||f(this,a,b,2,32767,-32768),g.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=255&a):H(this,a,b,!1),b+2};g.prototype.writeInt32LE=function(a,b,d){return a=+a,b|=0,d||f(this,a,b,4,2147483647,-2147483648),g.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8,this[b+2]=a>>>16,this[b+3]=a>>>24):D(this,a,b,!0),b+4};g.prototype.writeInt32BE=
function(a,b,d){return a=+a,b|=0,d||f(this,a,b,4,2147483647,-2147483648),0>a&&(a=4294967295+a+1),g.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a):D(this,a,b,!1),b+4};g.prototype.writeFloatLE=function(a,b,d){return z(this,a,b,!0,d)};g.prototype.writeFloatBE=function(a,b,d){return z(this,a,b,!1,d)};g.prototype.writeDoubleLE=function(a,b,d){return x(this,a,b,!0,d)};g.prototype.writeDoubleBE=function(a,b,d){return x(this,a,b,!1,d)};g.prototype.copy=function(a,b,
d,f){if((d||(d=0),f||0===f||(f=this.length),b>=a.length&&(b=a.length),b||(b=0),0<f&&f<d&&(f=d),f===d)||0===a.length||0===this.length)return 0;if(0>b)throw new RangeError("targetStart out of bounds");if(0>d||d>=this.length)throw new RangeError("sourceStart out of bounds");if(0>f)throw new RangeError("sourceEnd out of bounds");f>this.length&&(f=this.length);a.length-b<f-d&&(f=a.length-b+d);var e=f-d;if(this===a&&d<b&&b<f)for(f=e-1;0<=f;--f)a[f+b]=this[f+d];else if(1E3>e||!g.TYPED_ARRAY_SUPPORT)for(f=
0;f<e;++f)a[f+b]=this[f+d];else Uint8Array.prototype.set.call(a,this.subarray(d,d+e),b);return e};g.prototype.fill=function(a,b,d,f){if("string"==typeof a){if("string"==typeof b?(f=b,b=0,d=this.length):"string"==typeof d&&(f=d,d=this.length),1===a.length){var e=a.charCodeAt(0);256>e&&(a=e)}if(void 0!==f&&"string"!=typeof f)throw new TypeError("encoding must be a string");if("string"==typeof f&&!g.isEncoding(f))throw new TypeError("Unknown encoding: "+f);}else"number"==typeof a&&(a&=255);if(0>b||this.length<
b||this.length<d)throw new RangeError("Out of range index");if(d<=b)return this;b>>>=0;d=void 0===d?this.length:d>>>0;a||(a=0);if("number"==typeof a)for(f=b;f<d;++f)this[f]=a;else for(a=g.isBuffer(a)?a:L((new g(a,f)).toString()),e=a.length,f=0;f<d-b;++f)this[f+b]=a[f%e];return this};var J=/[^+\/0-9A-Za-z-_]/g}).call(t,c(12))},function(w,t){var c={}.toString;w.exports=Array.isArray||function(v){return"[object Array]"==c.call(v)}},function(w,t,c){t=w.exports=c(6)(void 0);t.push([w.i,".container[data-container]{position:absolute;background-color:#000;height:100%;width:100%}.container[data-container] .chromeless{cursor:default}[data-player]:not(.nocursor) .container[data-container]:not(.chromeless).pointer-enabled{cursor:pointer}",
""])},function(w,t,c){t=w.exports=c(6)(void 0);t.push([w.i,'@font-face{font-family:Roboto;font-style:normal;font-weight:400;src:local("Roboto"),local("Roboto-Regular"),url('+c(115)+') format("truetype")}[data-player]{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-transform:translateZ(0);-moz-transform:translateZ(0);-ms-transform:translateZ(0);-o-transform:translateZ(0);transform:translateZ(0);position:relative;margin:0;padding:0;border:0;font-style:normal;font-weight:400;text-align:center;overflow:hidden;font-size:100%;font-family:Roboto,Open Sans,Arial,sans-serif;text-shadow:0 0 0;box-sizing:border-box}[data-player] a,[data-player] abbr,[data-player] acronym,[data-player] address,[data-player] applet,[data-player] article,[data-player] aside,[data-player] audio,[data-player] b,[data-player] big,[data-player] blockquote,[data-player] canvas,[data-player] caption,[data-player] center,[data-player] cite,[data-player] code,[data-player] dd,[data-player] del,[data-player] details,[data-player] dfn,[data-player] div,[data-player] dl,[data-player] dt,[data-player] em,[data-player] embed,[data-player] fieldset,[data-player] figcaption,[data-player] figure,[data-player] footer,[data-player] form,[data-player] h1,[data-player] h2,[data-player] h3,[data-player] h4,[data-player] h5,[data-player] h6,[data-player] header,[data-player] hgroup,[data-player] i,[data-player] iframe,[data-player] img,[data-player] ins,[data-player] kbd,[data-player] label,[data-player] legend,[data-player] li,[data-player] mark,[data-player] menu,[data-player] nav,[data-player] object,[data-player] ol,[data-player] output,[data-player] p,[data-player] pre,[data-player] q,[data-player] ruby,[data-player] s,[data-player] samp,[data-player] section,[data-player] small,[data-player] span,[data-player] strike,[data-player] strong,[data-player] sub,[data-player] summary,[data-player] sup,[data-player] table,[data-player] tbody,[data-player] td,[data-player] tfoot,[data-player] th,[data-player] thead,[data-player] time,[data-player] tr,[data-player] tt,[data-player] u,[data-player] ul,[data-player] var,[data-player] video{margin:0;padding:0;border:0;font:inherit;font-size:100%;vertical-align:baseline}[data-player] table{border-collapse:collapse;border-spacing:0}[data-player] caption,[data-player] td,[data-player] th{text-align:left;font-weight:400;vertical-align:middle}[data-player] blockquote,[data-player] q{quotes:none}[data-player] blockquote:after,[data-player] blockquote:before,[data-player] q:after,[data-player] q:before{content:"";content:none}[data-player] a img{border:none}[data-player]:focus{outline:0}[data-player] *{max-width:none;box-sizing:inherit;float:none}[data-player] div{display:block}[data-player].fullscreen{width:100%!important;height:100%!important;top:0;left:0}[data-player].nocursor{cursor:none}.clappr-style{display:none!important}',
""])},function(w,t,c){t=w.exports=c(6)(void 0);t.push([w.i,".media-control-notransition{-webkit-transition:none!important;-moz-transition:none!important;transition:none!important}.media-control[data-media-control]{position:absolute;width:100%;height:100%;z-index:9999;pointer-events:none}.media-control[data-media-control].dragging{pointer-events:auto;cursor:-webkit-grabbing!important;cursor:grabbing!important;cursor:url("+c(37)+"),move}.media-control[data-media-control].dragging *{cursor:-webkit-grabbing!important;cursor:grabbing!important;cursor:url("+
c(37)+'),move}.media-control[data-media-control] .media-control-background[data-background]{position:absolute;height:40%;width:100%;bottom:0;background:-webkit-linear-gradient(transparent,rgba(0,0,0,.9));background:linear-gradient(transparent,rgba(0,0,0,.9));-webkit-transition:opacity .6s ease-out;-moz-transition:opacity .6s ease-out;transition:opacity .6s ease-out}.media-control[data-media-control] .media-control-icon{line-height:0;letter-spacing:0;speak:none;color:#fff;opacity:.5;vertical-align:middle;text-align:left;-webkit-transition:all .1s ease;-moz-transition:all .1s ease;transition:all .1s ease}.media-control[data-media-control] .media-control-icon:hover{color:#fff;opacity:.75;text-shadow:hsla(0,0%,100%,.8) 0 0 5px}.media-control[data-media-control].media-control-hide .media-control-background[data-background]{opacity:0}.media-control[data-media-control].media-control-hide .media-control-layer[data-controls]{bottom:-50px}.media-control[data-media-control].media-control-hide .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-scrubber[data-seekbar]{opacity:0}.media-control[data-media-control] .media-control-layer[data-controls]{position:absolute;bottom:7px;width:100%;height:32px;font-size:0;vertical-align:middle;pointer-events:auto;-webkit-transition:bottom .4s ease-out;-moz-transition:bottom .4s ease-out;transition:bottom .4s ease-out}.media-control[data-media-control] .media-control-layer[data-controls] .media-control-left-panel[data-media-control]{position:absolute;top:0;left:4px;height:100%}.media-control[data-media-control] .media-control-layer[data-controls] .media-control-center-panel[data-media-control]{height:100%;text-align:center;line-height:32px}.media-control[data-media-control] .media-control-layer[data-controls] .media-control-right-panel[data-media-control]{position:absolute;top:0;right:4px;height:100%}.media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button{background-color:transparent;border:0;margin:0 6px;padding:0;cursor:pointer;display:inline-block;width:32px;height:100%}.media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button svg{width:100%;height:22px}.media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button svg path{fill:#fff}.media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button:focus{outline:none}.media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-pause],.media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-play],.media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-stop]{float:left;height:100%}.media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-fullscreen]{float:right;background-color:transparent;border:0;height:100%}.media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-hd-indicator]{cursor:default;float:right;background-color:transparent;border:0;height:100%;display:none}.media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-hd-indicator].enabled{opacity:1;display:block}.media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-hd-indicator].enabled:hover{opacity:1;text-shadow:none}.media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-playpause],.media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-playstop]{float:left}.media-control[data-media-control] .media-control-layer[data-controls] .media-control-indicator[data-duration],.media-control[data-media-control] .media-control-layer[data-controls] .media-control-indicator[data-position]{display:inline-block;font-size:10px;color:#fff;cursor:default;line-height:32px;position:relative}.media-control[data-media-control] .media-control-layer[data-controls] .media-control-indicator[data-position]{margin:0 6px 0 7px}.media-control[data-media-control] .media-control-layer[data-controls] .media-control-indicator[data-duration]{color:hsla(0,0%,100%,.5);margin-right:6px}.media-control[data-media-control] .media-control-layer[data-controls] .media-control-indicator[data-duration]:before{content:"|";margin-right:7px}.media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar]{position:absolute;top:-20px;left:0;display:inline-block;vertical-align:middle;width:100%;height:25px;cursor:pointer}.media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-background[data-seekbar]{width:100%;height:1px;position:relative;top:12px;background-color:#666}.media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-fill-1[data-seekbar]{position:absolute;top:0;left:0;width:0;height:100%;background-color:#c2c2c2;-webkit-transition:all .1s ease-out;-moz-transition:all .1s ease-out;transition:all .1s ease-out}.media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-fill-2[data-seekbar]{position:absolute;top:0;left:0;width:0;height:100%;background-color:#005aff;-webkit-transition:all .1s ease-out;-moz-transition:all .1s ease-out;transition:all .1s ease-out}.media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-hover[data-seekbar]{opacity:0;position:absolute;top:-3px;width:5px;height:7px;background-color:hsla(0,0%,100%,.5);-webkit-transition:opacity .1s ease;-moz-transition:opacity .1s ease;transition:opacity .1s ease}.media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar]:hover .bar-background[data-seekbar] .bar-hover[data-seekbar]{opacity:1}.media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar].seek-disabled{cursor:default}.media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar].seek-disabled:hover .bar-background[data-seekbar] .bar-hover[data-seekbar]{opacity:0}.media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-scrubber[data-seekbar]{position:absolute;-webkit-transform:translateX(-50%);-moz-transform:translateX(-50%);-ms-transform:translateX(-50%);-o-transform:translateX(-50%);transform:translateX(-50%);top:2px;left:0;width:20px;height:20px;opacity:1;-webkit-transition:all .1s ease-out;-moz-transition:all .1s ease-out;transition:all .1s ease-out}.media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-scrubber[data-seekbar] .bar-scrubber-icon[data-seekbar]{position:absolute;left:6px;top:6px;width:8px;height:8px;border-radius:10px;box-shadow:0 0 0 6px hsla(0,0%,100%,.2);background-color:#fff}.media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume]{float:right;display:inline-block;height:32px;cursor:pointer;margin:0 6px;box-sizing:border-box}.media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .drawer-icon-container[data-volume]{float:left;bottom:0}.media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .drawer-icon-container[data-volume] .drawer-icon[data-volume]{background-color:transparent;border:0;box-sizing:content-box;width:32px;height:32px;opacity:.5}.media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .drawer-icon-container[data-volume] .drawer-icon[data-volume]:hover{opacity:.75}.media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .drawer-icon-container[data-volume] .drawer-icon[data-volume] svg{height:24px;position:relative;top:3px}.media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .drawer-icon-container[data-volume] .drawer-icon[data-volume] svg path{fill:#fff}.media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .drawer-icon-container[data-volume] .drawer-icon[data-volume].muted svg{margin-left:2px}.media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume]{float:left;position:relative;overflow:hidden;top:6px;width:42px;height:18px;padding:3px 0;-webkit-transition:width .2s ease-out;-moz-transition:width .2s ease-out;transition:width .2s ease-out}.media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .bar-background[data-volume]{height:1px;position:relative;top:7px;margin:0 3px;background-color:#666}.media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .bar-background[data-volume] .bar-fill-1[data-volume]{position:absolute;top:0;left:0;width:0;height:100%;background-color:#c2c2c2;-webkit-transition:all .1s ease-out;-moz-transition:all .1s ease-out;transition:all .1s ease-out}.media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .bar-background[data-volume] .bar-fill-2[data-volume]{position:absolute;top:0;left:0;width:0;height:100%;background-color:#005aff;-webkit-transition:all .1s ease-out;-moz-transition:all .1s ease-out;transition:all .1s ease-out}.media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .bar-background[data-volume] .bar-hover[data-volume]{opacity:0;position:absolute;top:-3px;width:5px;height:7px;background-color:hsla(0,0%,100%,.5);-webkit-transition:opacity .1s ease;-moz-transition:opacity .1s ease;transition:opacity .1s ease}.media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .bar-scrubber[data-volume]{position:absolute;-webkit-transform:translateX(-50%);-moz-transform:translateX(-50%);-ms-transform:translateX(-50%);-o-transform:translateX(-50%);transform:translateX(-50%);top:0;left:0;width:20px;height:20px;opacity:1;-webkit-transition:all .1s ease-out;-moz-transition:all .1s ease-out;transition:all .1s ease-out}.media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .bar-scrubber[data-volume] .bar-scrubber-icon[data-volume]{position:absolute;left:6px;top:6px;width:8px;height:8px;border-radius:10px;box-shadow:0 0 0 6px hsla(0,0%,100%,.2);background-color:#fff}.media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .segmented-bar-element[data-volume]{float:left;width:4px;padding-left:2px;height:12px;opacity:.5;box-shadow:inset 2px 0 0 #fff;-webkit-transition:-webkit-transform .2s ease-out;-moz-transition:-moz-transform .2s ease-out;transition:transform .2s ease-out}.media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .segmented-bar-element[data-volume].fill{box-shadow:inset 2px 0 0 #fff;opacity:1}.media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .segmented-bar-element[data-volume]:first-of-type{padding-left:0}.media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .segmented-bar-element[data-volume]:hover{-webkit-transform:scaleY(1.5);-moz-transform:scaleY(1.5);-ms-transform:scaleY(1.5);-o-transform:scaleY(1.5);transform:scaleY(1.5)}.media-control[data-media-control].w320 .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume].volume-bar-hide{width:0;height:12px;top:9px;padding:0}',
""])},function(w,t,c){t=w.exports=c(6)(void 0);t.push([w.i,".clappr-flash-playback[data-flash-playback]{display:block;position:absolute;top:0;left:0;height:100%;width:100%;pointer-events:none}",""])},function(w,t,c){t=w.exports=c(6)(void 0);t.push([w.i,"[data-html5-video]{position:absolute;height:100%;width:100%;display:block}",""])},function(w,t,c){t=w.exports=c(6)(void 0);t.push([w.i,"[data-html-img]{max-width:100%;max-height:100%}",""])},function(w,t,c){t=w.exports=c(6)(void 0);t.push([w.i,"[data-no-op]{position:absolute;height:100%;width:100%;text-align:center}[data-no-op] p[data-no-op-msg]{position:absolute;text-align:center;font-size:25px;left:0;right:0;color:#fff;padding:10px;top:50%;-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-ms-transform:translateY(-50%);-o-transform:translateY(-50%);transform:translateY(-50%);max-height:100%;overflow:auto}[data-no-op] canvas[data-no-op-canvas]{background-color:#777;height:100%;width:100%}",
""])},function(w,t,c){t=w.exports=c(6)(void 0);t.push([w.i,'.dvr-controls[data-dvr-controls]{display:inline-block;float:left;color:#fff;line-height:32px;font-size:10px;font-weight:700;margin-left:6px}.dvr-controls[data-dvr-controls] .live-info{cursor:default;font-family:Roboto,Open Sans,Arial,sans-serif;text-transform:uppercase}.dvr-controls[data-dvr-controls] .live-info:before{content:"";display:inline-block;position:relative;width:7px;height:7px;border-radius:3.5px;margin-right:3.5px;background-color:#ff0101}.dvr-controls[data-dvr-controls] .live-info.disabled{opacity:.3}.dvr-controls[data-dvr-controls] .live-info.disabled:before{background-color:#fff}.dvr-controls[data-dvr-controls] .live-button{cursor:pointer;outline:none;display:none;border:0;color:#fff;background-color:transparent;height:32px;padding:0;opacity:.7;font-family:Roboto,Open Sans,Arial,sans-serif;text-transform:uppercase;-webkit-transition:all .1s ease;-moz-transition:all .1s ease;transition:all .1s ease}.dvr-controls[data-dvr-controls] .live-button:before{content:"";display:inline-block;position:relative;width:7px;height:7px;border-radius:3.5px;margin-right:3.5px;background-color:#fff}.dvr-controls[data-dvr-controls] .live-button:hover{opacity:1;text-shadow:hsla(0,0%,100%,.75) 0 0 5px}.dvr .dvr-controls[data-dvr-controls] .live-info{display:none}.dvr .dvr-controls[data-dvr-controls] .live-button{display:block}.dvr.media-control.live[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-fill-2[data-seekbar]{background-color:#005aff}.media-control.live[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-fill-2[data-seekbar]{background-color:#ff0101}',
""])},function(w,t,c){t=w.exports=c(6)(void 0);t.push([w.i,".player-poster[data-poster]{display:-webkit-box;display:-moz-box;display:box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-moz-box-pack:center;box-pack:center;-webkit-justify-content:center;-moz-justify-content:center;-ms-justify-content:center;-o-justify-content:center;justify-content:center;-ms-flex-pack:center;-webkit-box-align:center;-moz-box-align:center;box-align:center;-webkit-align-items:center;-moz-align-items:center;-ms-align-items:center;-o-align-items:center;align-items:center;-ms-flex-align:center;position:absolute;height:100%;width:100%;z-index:998;top:0;left:0;background-color:#000;background-size:cover;background-repeat:no-repeat;background-position:50% 50%}.player-poster[data-poster].clickable{cursor:pointer}.player-poster[data-poster]:hover .play-wrapper[data-poster]{opacity:1}.player-poster[data-poster] .play-wrapper[data-poster]{width:100%;height:25%;margin:0 auto;opacity:.75;-webkit-transition:opacity .1s ease;-moz-transition:opacity .1s ease;transition:opacity .1s ease}.player-poster[data-poster] .play-wrapper[data-poster] svg{height:100%}.player-poster[data-poster] .play-wrapper[data-poster] svg path{fill:#fff}",
""])},function(w,t,c){t=w.exports=c(6)(void 0);t.push([w.i,'.seek-time[data-seek-time]{position:absolute;white-space:nowrap;height:20px;line-height:20px;font-size:0;left:-100%;bottom:55px;background-color:rgba(2,2,2,.5);z-index:9999;-webkit-transition:opacity .1s ease;-moz-transition:opacity .1s ease;transition:opacity .1s ease}.seek-time[data-seek-time].hidden[data-seek-time]{opacity:0}.seek-time[data-seek-time] [data-seek-time]{display:inline-block;color:#fff;font-size:10px;padding-left:7px;padding-right:7px;vertical-align:top}.seek-time[data-seek-time] [data-duration]{display:inline-block;color:hsla(0,0%,100%,.5);font-size:10px;padding-right:7px;vertical-align:top}.seek-time[data-seek-time] [data-duration]:before{content:"|";margin-right:7px}',
""])},function(w,t,c){t=w.exports=c(6)(void 0);t.push([w.i,".spinner-three-bounce[data-spinner]{position:absolute;margin:0 auto;width:70px;text-align:center;z-index:999;left:0;right:0;margin-left:auto;margin-right:auto;top:50%;-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-ms-transform:translateY(-50%);-o-transform:translateY(-50%);transform:translateY(-50%)}.spinner-three-bounce[data-spinner]>div{width:18px;height:18px;background-color:#fff;border-radius:100%;display:inline-block;-webkit-animation:bouncedelay 1.4s infinite ease-in-out;-moz-animation:bouncedelay 1.4s infinite ease-in-out;animation:bouncedelay 1.4s infinite ease-in-out;-webkit-animation-fill-mode:both;-moz-animation-fill-mode:both;animation-fill-mode:both}.spinner-three-bounce[data-spinner] [data-bounce1]{-webkit-animation-delay:-.32s;-moz-animation-delay:-.32s;animation-delay:-.32s}.spinner-three-bounce[data-spinner] [data-bounce2]{-webkit-animation-delay:-.16s;-moz-animation-delay:-.16s;animation-delay:-.16s}@-webkit-keyframes bouncedelay{0%,80%,to{-webkit-transform:scale(0)}40%{-webkit-transform:scale(1)}}@-moz-keyframes bouncedelay{0%,80%,to{-moz-transform:scale(0)}40%{-moz-transform:scale(1)}}@keyframes bouncedelay{0%,80%,to{-webkit-transform:scale(0);-moz-transform:scale(0);-ms-transform:scale(0);-o-transform:scale(0);transform:scale(0)}40%{-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);-o-transform:scale(1);transform:scale(1)}}",
""])},function(w,t,c){t=w.exports=c(6)(void 0);t.push([w.i,"[data-watermark]{position:absolute;min-width:70px;max-width:200px;width:12%;text-align:center;z-index:10}[data-watermark] a{outline:none;cursor:pointer}[data-watermark] img{max-width:100%}[data-watermark-bottom-left]{bottom:10px;left:10px}[data-watermark-bottom-right]{bottom:10px;right:42px}[data-watermark-top-left]{top:10px;left:10px}[data-watermark-top-right]{top:10px;right:37px}",""])},function(w,t,c){w.exports=function(){return function m(c,
q,u){function g(b,e){if(!q[b]){if(!c[b]){if(h)return(void 0)(b,!0);var k=Error("Cannot find module '"+b+"'");throw k.code="MODULE_NOT_FOUND",k;}k=q[b]={exports:{}};c[b][0].call(k.exports,function(e){return g(c[b][1][e]||e)},k,k.exports,m,c,q,u)}return q[b].exports}for(var h=!1,e=0;e<u.length;e++)g(u[e]);return g}({1:[function(c,g,q){function m(){this._events=this._events||{};this._maxListeners=this._maxListeners||void 0}function p(e){return"function"==typeof e}function h(e){return"object"==typeof e&&
null!==e}g.exports=m;m.EventEmitter=m;m.prototype._events=void 0;m.prototype._maxListeners=void 0;m.defaultMaxListeners=10;m.prototype.setMaxListeners=function(e){if("number"!=typeof e||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this};m.prototype.emit=function(e){var b,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||h(this._events.error)&&!this._events.error.length)){if((b=arguments[1])instanceof Error)throw b;var k=Error('Uncaught, unspecified "error" event. ('+
b+")");throw k.context=b,k;}if(k=this._events[e],void 0===k)return!1;if(p(k))switch(arguments.length){case 1:k.call(this);break;case 2:k.call(this,arguments[1]);break;case 3:k.call(this,arguments[1],arguments[2]);break;default:b=Array.prototype.slice.call(arguments,1),k.apply(this,b)}else if(h(k)){b=Array.prototype.slice.call(arguments,1);var r=k.slice();k=r.length;for(c=0;c<k;c++)r[c].apply(this,b)}return!0};m.prototype.addListener=function(e,b){var c;if(!p(b))throw TypeError("listener must be a function");
return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,p(b.listener)?b.listener:b),this._events[e]?h(this._events[e])?this._events[e].push(b):this._events[e]=[this._events[e],b]:this._events[e]=b,h(this._events[e])&&!this._events[e].warned&&(c=void 0===this._maxListeners?m.defaultMaxListeners:this._maxListeners)&&0<c&&this._events[e].length>c&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",
this._events[e].length),"function"==typeof console.trace&&console.trace()),this};m.prototype.on=m.prototype.addListener;m.prototype.once=function(e,b){function c(){this.removeListener(e,c);k||(k=!0,b.apply(this,arguments))}if(!p(b))throw TypeError("listener must be a function");var k=!1;return c.listener=b,this.on(e,c),this};m.prototype.removeListener=function(e,b){var c,k,r;if(!p(b))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(c=this._events[e],
r=c.length,k=-1,c===b||p(c.listener)&&c.listener===b)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,b);else if(h(c)){for(;0<r--;)if(c[r]===b||c[r].listener&&c[r].listener===b){k=r;break}if(0>k)return this;1===c.length?(c.length=0,delete this._events[e]):c.splice(k,1);this._events.removeListener&&this.emit("removeListener",e,b)}return this};m.prototype.removeAllListeners=function(e){var b,c;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?
this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(b in this._events)"removeListener"!==b&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events={},this}if(c=this._events[e],p(c))this.removeListener(e,c);else if(c)for(;c.length;)this.removeListener(e,c[c.length-1]);return delete this._events[e],this};m.prototype.listeners=function(e){return this._events&&this._events[e]?p(this._events[e])?[this._events[e]]:this._events[e].slice():
[]};m.prototype.listenerCount=function(e){if(this._events){e=this._events[e];if(p(e))return 1;if(e)return e.length}return 0};m.listenerCount=function(e,b){return e.listenerCount(b)}},{}],2:[function(c,g,q){!function(c){var m=/^((?:[^\/;?#]+:)?)(\/\/[^\/\;?#]*)?(.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,h=/^([^\/;?#]*)(.*)$/,e={buildAbsoluteURL:function(b,c,k){if(k=k||{},b=b.trim(),!(c=c.trim())){if(!k.alwaysNormalize)return b;k=this.parseURL(b);if(!l)throw Error("Error trying to parse base URL.");return k.path=
e.normalizePath(k.path),e.buildURLFromParts(k)}var n=this.parseURL(c);if(!n)throw Error("Error trying to parse relative URL.");if(n.scheme)return k.alwaysNormalize?(n.path=e.normalizePath(n.path),e.buildURLFromParts(n)):c;var l=this.parseURL(b);if(!l)throw Error("Error trying to parse base URL.");!l.netLoc&&l.path&&"/"!==l.path[0]&&(b=h.exec(l.path),l.netLoc=b[1],l.path=b[2]);l.netLoc&&!l.path&&(l.path="/");b={scheme:l.scheme,netLoc:n.netLoc,path:null,params:n.params,query:n.query,fragment:n.fragment};
n.netLoc||(b.netLoc=l.netLoc,"/"===n.path[0])||(n.path?(l=l.path,l=l.substring(0,l.lastIndexOf("/")+1)+n.path,b.path=e.normalizePath(l)):(b.path=l.path,n.params||(b.params=l.params,n.query||(b.query=l.query))));return null===b.path&&(b.path=k.alwaysNormalize?e.normalizePath(n.path):n.path),e.buildURLFromParts(b)},parseURL:function(b){return(b=m.exec(b))?{scheme:b[1]||"",netLoc:b[2]||"",path:b[3]||"",params:b[4]||"",query:b[5]||"",fragment:b[6]||""}:null},normalizePath:function(b){for(b=b.split("").reverse().join("").replace(/(?:\/|^)\.(?=\/)/g,
"");b.length!==(b=b.replace(/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,"")).length;);return b.split("").reverse().join("")},buildURLFromParts:function(b){return b.scheme+b.netLoc+b.path+b.params+b.query+b.fragment}};"object"==typeof q&&"object"==typeof g?g.exports=e:"object"==typeof q?q.URLToolkit=e:c.URLToolkit=e}(this)},{}],3:[function(c,g,q,u,p,h){var e=JSON.stringify;g.exports=function(b,c){function k(a){m[a]=!0;for(var b in p[a][1]){var d=p[a][1][b];m[d]||k(d)}}for(var n,l,d=Object.keys(h),a=0,f=d.length;a<
f;a++){n=d[a];var g=h[n].exports;if(g===b||g&&g["default"]===b){l=n;break}}if(!l){l=Math.floor(Math.pow(16,8)*Math.random()).toString(16);g={};a=0;for(f=d.length;a<f;a++)n=d[a],g[n]=n;p[l]=[Function(["require","module","exports"],"("+b+")(self)"),g]}n=Math.floor(Math.pow(16,8)*Math.random()).toString(16);d={};d[l]=l;p[n]=[Function(["require"],"var f = require("+e(l)+");(f.default ? f.default : f)(self);"),d];var m={};k(n);n="("+u+")({"+Object.keys(m).map(function(a){return e(a)+":["+p[a][0]+","+e(p[a][1])+
"]"}).join(",")+"},{},["+e(n)+"])";l=window.URL||window.webkitURL||window.mozURL||window.msURL;n=new Blob([n],{type:"text/javascript"});if(c&&c.bare)return n;l=l.createObjectURL(n);n=new Worker(l);return n.objectURL=l,n}},{}],4:[function(c,g,q){function m(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(q,"__esModule",{value:!0});q.hlsDefaultConfig=void 0;g=c(5);g=m(g);var p=c(8),p=m(p),h=c(9),h=m(h),e=c(10),e=m(e),b=c(55),b=m(b),n=c(7),n=m(n),k=c(6),k=m(k),r=c(47),r=m(r),l=c(15),l=
m(l),d=c(14),d=m(d);c=c(13);c=m(c);q.hlsDefaultConfig={autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6E7,maxBufferHole:.5,maxSeekHole:2,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.2,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxMaxBufferLength:600,
enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1E4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1E3,manifestLoadingMaxRetryTimeout:64E3,startLevel:void 0,levelLoadingTimeOut:1E4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1E3,levelLoadingMaxRetryTimeout:64E3,fragLoadingTimeOut:2E4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1E3,fragLoadingMaxRetryTimeout:64E3,fragLoadingLoopThreshold:3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5E3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,
loader:b["default"],fLoader:void 0,pLoader:void 0,xhrSetup:void 0,fetchSetup:void 0,abrController:g["default"],bufferController:p["default"],capLevelController:h["default"],fpsController:e["default"],audioStreamController:k["default"],audioTrackController:n["default"],subtitleStreamController:c["default"],subtitleTrackController:d["default"],timelineController:l["default"],cueHandler:r["default"],enableCEA708Captions:!0,enableWebVTT:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",
captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",stretchShortVideoTrack:!1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5E5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0}},{10:10,13:13,14:14,15:15,47:47,5:5,55:55,6:6,7:7,8:8,9:9}],5:[function(c,g,q){function m(b){return b&&b.__esModule?b:{"default":b}}function p(b,a){if("function"!=
typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}Object.defineProperty(q,"__esModule",{value:!0});var h=function(){function b(a,b){for(var d=0;d<b.length;d++){var f=b[d];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(a,
f.key,f)}}return function(a,d,e){return d&&b(a.prototype,d),e&&b(a,e),a}}();g=c(32);var e=m(g);g=c(31);var b=m(g);g=c(34);var n=m(g),k=c(30),r=c(50);c=c(48);var l=m(c);c=function(d){function a(b){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");var d=(a.__proto__||Object.getPrototypeOf(a)).call(this,b,e["default"].FRAG_LOADING,e["default"].FRAG_LOADED,e["default"].FRAG_BUFFERED,e["default"].ERROR);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
d=!d||"object"!=typeof d&&"function"!=typeof d?this:d;return d.lastLoadedFragLevel=0,d._nextAutoLevel=-1,d.hls=b,d.onCheck=d._abandonRulesCheck.bind(d),d}return p(a,d),h(a,[{key:"destroy",value:function(){this.clearTimer();b["default"].prototype.destroy.call(this)}},{key:"onFragLoading",value:function(a){var b=a.frag;if("main"===b.type){if(this.timer||(this.timer=setInterval(this.onCheck,100)),!this._bwEstimator){var d=this.hls,f=d.config,e=void 0,c=void 0;d.levels[a.frag.level].details.live?(e=f.abrEwmaFastLive,
c=f.abrEwmaSlowLive):(e=f.abrEwmaFastVoD,c=f.abrEwmaSlowVoD);this._bwEstimator=new l["default"](d,c,e,f.abrEwmaDefaultEstimate)}this.fragCurrent=b}}},{key:"_abandonRulesCheck",value:function(){var a=this.hls,b=a.media,d=this.fragCurrent,c=d.loader,l=a.minAutoLevel;if(!c||c.stats&&c.stats.aborted)return r.logger.warn("frag loader destroy or aborted, disarm abandonRules"),void this.clearTimer();var k=c.stats;if(b&&(!b.paused&&0!==b.playbackRate||!b.readyState)&&d.autoLevel&&d.level){var h=performance.now()-
k.trequest,g=Math.abs(b.playbackRate);if(h>500*d.duration/g){var m=a.levels,p=Math.max(1,k.bw?k.bw/8:1E3*k.loaded/h),u=m[d.level],u=u.realBitrate?Math.max(u.realBitrate,u.bitrate):u.bitrate,q=b.currentTime,u=((k.total?k.total:Math.max(k.loaded,Math.round(d.duration*u/8)))-k.loaded)/p,b=(n["default"].bufferInfo(b,q,a.config.maxBufferHole).end-q)/g;if(b<2*d.duration/g&&u>b){g=void 0;for(q=d.level-1;q>l&&!((g=d.duration*(m[q].realBitrate?Math.max(m[q].realBitrate,m[q].bitrate):m[q].bitrate)/(6.4*p))<
b);q--);g<u&&(r.logger.warn("loading too slow, abort fragment loading and switch to level "+q+":fragLoadedDelay["+q+"]<fragLoadedDelay["+(d.level-1)+"];bufferStarvationDelay:"+g.toFixed(1)+"<"+u.toFixed(1)+":"+b.toFixed(1)),a.nextLoadLevel=q,this._bwEstimator.sample(h,k.loaded),c.abort(),this.clearTimer(),a.trigger(e["default"].FRAG_LOAD_EMERGENCY_ABORTED,{frag:d,stats:k}))}}}}},{key:"onFragLoaded",value:function(a){var b=a.frag;if("main"===b.type&&!isNaN(b.sn)){if(this.clearTimer(),this.lastLoadedFragLevel=
b.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var b=this.hls.levels[b.level],d=(b.loaded?b.loaded.bytes:0)+a.stats.loaded,f=(b.loaded?b.loaded.duration:0)+a.frag.duration;b.loaded={bytes:d,duration:f};b.realBitrate=Math.round(8*d/f)}a.frag.bitrateTest&&(b=a.stats,b.tparsed=b.tbuffered=b.tload,this.onFragBuffered(a))}}},{key:"onFragBuffered",value:function(a){var b=a.stats;a=a.frag;if(!(!0===b.aborted||1!==a.loadCounter||"main"!==a.type||isNaN(a.sn)||a.bitrateTest&&b.tload!==
b.tbuffered)){var d=b.tparsed-b.trequest;r.logger.log("latency/loading/parsing/append/kbps:"+Math.round(b.tfirst-b.trequest)+"/"+Math.round(b.tload-b.tfirst)+"/"+Math.round(b.tparsed-b.tload)+"/"+Math.round(b.tbuffered-b.tparsed)+"/"+Math.round(8*b.loaded/(b.tbuffered-b.trequest)));this._bwEstimator.sample(d,b.loaded);a.bitrateTest?this.bitrateTestDelay=d/1E3:this.bitrateTestDelay=0}}},{key:"onError",value:function(a){switch(a.details){case k.ErrorDetails.FRAG_LOAD_ERROR:case k.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}}},
{key:"clearTimer",value:function(){this.timer&&(clearInterval(this.timer),this.timer=null)}},{key:"_findBestLevel",value:function(a,b,d,e,c,l,k,n,h){for(;c>=e;c--){var f=h[c].details,y=f?f.totalduration/f.fragments.length:b,f=!!f&&f.live;var g=c<=a?k*d:n*d;var A=h[c].realBitrate?Math.max(h[c].realBitrate,h[c].bitrate):h[c].bitrate,x=A*y/g;if(r.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+c+"/"+Math.round(g)+"/"+A+"/"+y+"/"+l+"/"+x),g>A&&(!x||f||x<l))return c}return-1}},
{key:"nextAutoLevel",get:function(){var a=this._nextAutoLevel,b=this._bwEstimator;if(!(-1===a||b&&b.canEstimate()))return a;b=this._nextABRAutoLevel;return-1!==a&&(b=Math.min(a,b)),b},set:function(a){this._nextAutoLevel=a}},{key:"_nextABRAutoLevel",get:function(){var a=this.hls,b=a.maxAutoLevel,d=a.levels,e=a.config,c=a.minAutoLevel,l=a.media,a=this.lastLoadedFragLevel,k=this.fragCurrent?this.fragCurrent.duration:0,h=l?l.currentTime:0,g=l&&0!==l.playbackRate?Math.abs(l.playbackRate):1,m=this._bwEstimator?
this._bwEstimator.getEstimate():e.abrEwmaDefaultEstimate,l=(n["default"].bufferInfo(l,h,e.maxBufferHole).end-h)/g,h=this._findBestLevel(a,k,m,c,b,l,e.abrBandWidthFactor,e.abrBandWidthUpFactor,d);if(0<=h)return h;r.logger.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var g=k?Math.min(k,e.maxStarvationDelay):e.maxStarvationDelay,p=e.abrBandWidthFactor,u=e.abrBandWidthUpFactor;if(0===l){var q=this.bitrateTestDelay;q&&(g=(k?Math.min(k,e.maxLoadingDelay):
e.maxLoadingDelay)-q,r.logger.trace("bitrate test took "+Math.round(1E3*q)+"ms, set first fragment max fetchDuration to "+Math.round(1E3*g)+" ms"),p=u=1)}return h=this._findBestLevel(a,k,m,c,b,l+g,p,u,d),Math.max(h,0)}}]),a}(b["default"]);q["default"]=c},{30:30,31:31,32:32,34:34,48:48,50:50}],6:[function(c,g,q){function m(a){return a&&a.__esModule?a:{"default":a}}function p(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);
a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(q,"__esModule",{value:!0});var h=function(){function a(a,b){for(var d=0;d<b.length;d++){var f=b[d];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(a,f.key,f)}}return function(b,d,f){return d&&a(b.prototype,d),f&&a(b,f),b}}();g=c(45);var e=m(g);g=c(34);
var b=m(g);g=c(24);var n=m(g);g=c(32);var k=m(g);g=c(31);var r=m(g);g=c(35);var l=m(g);g=c(51);var d=m(g),a=c(30),f=c(50);c=function(c){function g(a){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");var b=(g.__proto__||Object.getPrototypeOf(g)).call(this,a,k["default"].MEDIA_ATTACHED,k["default"].MEDIA_DETACHING,k["default"].AUDIO_TRACKS_UPDATED,k["default"].AUDIO_TRACK_SWITCHING,k["default"].AUDIO_TRACK_LOADED,k["default"].KEY_LOADED,k["default"].FRAG_LOADED,k["default"].FRAG_PARSING_INIT_SEGMENT,
k["default"].FRAG_PARSING_DATA,k["default"].FRAG_PARSED,k["default"].ERROR,k["default"].BUFFER_CREATED,k["default"].BUFFER_APPENDED,k["default"].BUFFER_FLUSHED,k["default"].INIT_PTS_FOUND);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");b=!b||"object"!=typeof b&&"function"!=typeof b?this:b;return b.config=a.config,b.audioCodecSwap=!1,b.ticks=0,b._state="STOPPED",b.ontick=b.tick.bind(b),b.initPTS=[],b.waitingFragment=null,b}return p(g,c),h(g,[{key:"destroy",
value:function(){this.stopLoad();this.timer&&(clearInterval(this.timer),this.timer=null);r["default"].prototype.destroy.call(this);this.state="STOPPED"}},{key:"onInitPtsFound",value:function(a){var b=a.frag.cc,d=a.initPTS;"main"===a.id&&(this.initPTS[b]=d,f.logger.log("InitPTS for cc:"+b+" found from video track:"+d),"WAITING_INIT_PTS"===this.state&&(f.logger.log("sending pending audio frag to demuxer"),this.state="FRAG_LOADING",this.onFragLoaded(this.waitingFragment),this.waitingFragment=null))}},
{key:"startLoad",value:function(a){if(this.tracks){var b=this.lastCurrentTime;this.stopLoad();this.timer||(this.timer=setInterval(this.ontick,100));this.fragLoadError=0;0<b&&-1===a?(f.logger.log("audio:override startPosition with lastCurrentTime @"+b.toFixed(3)),this.state="IDLE"):(this.lastCurrentTime=this.startPosition?this.startPosition:a,this.state="STARTING");this.nextLoadPosition=this.startPosition=this.lastCurrentTime;this.tick()}else this.startPosition=a,this.state="STOPPED"}},{key:"stopLoad",
value:function(){var a=this.fragCurrent;a&&(a.loader&&a.loader.abort(),this.fragCurrent=null);this.fragPrevious=null;this.demuxer&&(this.demuxer.destroy(),this.demuxer=null);this.state="STOPPED"}},{key:"tick",value:function(){1===++this.ticks&&(this.doTick(),1<this.ticks&&setTimeout(this.tick,1),this.ticks=0)}},{key:"doTick",value:function(){var d;var c=this.hls;var l=c.config;switch(this.state){case "STARTING":this.state="WAITING_TRACK";this.loadedmetadata=!1;break;case "IDLE":var n=this.tracks;
if(!n)break;if(!this.media&&(this.startFragRequested||!l.startFragPrefetch))break;var h=this.loadedmetadata?this.media.currentTime:this.nextLoadPosition;var g=this.mediaBuffer?this.mediaBuffer:this.media,r=b["default"].bufferInfo(g,h,l.maxBufferHole),m=r.end,g=this.fragPrevious,p=this.audioSwitch,H=this.trackId;if((r.len<l.maxMaxBufferLength||p)&&H<n.length)if(void 0===(d=n[H].details))this.state="WAITING_TRACK";else if(p||d.live||!g||g.sn!==d.endSN||this.media.seeking&&!(this.media.duration-m<g.duration/
2)){var u=d.fragments,q=u.length,D=u[0].start,t=u[q-1].start+u[q-1].duration,n=void 0;if(p)if(d.live&&!d.PTSKnown)f.logger.log("switching audiotrack, live stream, unknown PTS,load first fragment"),m=0;else if(m=h,d.PTSKnown&&h<D){if(!(r.end>D||r.nextStart))break;f.logger.log("alt audio track ahead of main track, seek to start of alt audio track");this.media.currentTime=D+.05}if(d.initSegment&&!d.initSegment.data)n=d.initSegment;else if(m<=D){if(n=u[0],d.live&&n.loadIdx&&n.loadIdx===this.fragLoadIdx)return c=
r.nextStart?r.nextStart:D,f.logger.log("no alt audio available @currentTime:"+this.media.currentTime+", seeking @"+(c+.05)),void(this.media.currentTime=c+.05)}else{var r=void 0,w=l.maxFragLookUpTolerance,p=g?u[g.sn-u[0].sn+1]:void 0,D=function(a){var b=Math.min(w,a.duration);return a.start+a.duration-b<=m?1:a.start-b>m&&a.start?-1:0};m<t?(m>t-w&&(w=0),r=p&&!D(p)?p:e["default"].search(u,D)):r=u[q-1];r&&(n=r,D=r.start,g&&n.level===g.level&&n.sn===g.sn&&(n.sn<d.endSN?(n=u[n.sn+1-d.startSN],f.logger.log("SN just loaded, load next one: "+
n.sn)):n=null))}if(n)if(n.decryptdata&&null!=n.decryptdata.uri&&null==n.decryptdata.key)f.logger.log("Loading key for "+n.sn+" of ["+d.startSN+" ,"+d.endSN+"],track "+H),this.state="KEY_LOADING",c.trigger(k["default"].KEY_LOADING,{frag:n});else{if(f.logger.log("Loading "+n.sn+" of ["+d.startSN+" ,"+d.endSN+"],track "+H+", currentTime:"+h+",bufferEnd:"+m.toFixed(3)),void 0!==this.fragLoadIdx?this.fragLoadIdx++:this.fragLoadIdx=0,n.loadCounter){if(n.loadCounter++,h=l.fragLoadingLoopThreshold,n.loadCounter>
h&&Math.abs(this.fragLoadIdx-n.loadIdx)<h)return void c.trigger(k["default"].ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.FRAG_LOOP_LOADING_ERROR,fatal:!1,frag:n})}else n.loadCounter=1;n.loadIdx=this.fragLoadIdx;this.fragCurrent=n;this.startFragRequested=!0;isNaN(n.sn)||(this.nextLoadPosition=n.start+n.duration);c.trigger(k["default"].FRAG_LOADING,{frag:n});this.state="FRAG_LOADING"}}else this.hls.trigger(k["default"].BUFFER_EOS,{type:"audio"}),this.state="ENDED";break;case "WAITING_TRACK":(c=
this.tracks[this.trackId])&&c.details&&(this.state="IDLE");break;case "FRAG_LOADING_WAITING_RETRY":c=performance.now(),h=this.retryDate,l=(g=this.media)&&g.seeking,(!h||c>=h||l)&&(f.logger.log("audioStreamController: retryDate reached, switch back to IDLE state"),this.state="IDLE")}}},{key:"onMediaAttached",value:function(a){a=this.media=this.mediaBuffer=a.media;this.onvseeking=this.onMediaSeeking.bind(this);this.onvended=this.onMediaEnded.bind(this);a.addEventListener("seeking",this.onvseeking);
a.addEventListener("ended",this.onvended);a=this.config;this.tracks&&a.autoStartLoad&&this.startLoad(a.startPosition)}},{key:"onMediaDetaching",value:function(){var a=this.media;a&&a.ended&&(f.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var b=this.tracks;b&&b.forEach(function(a){a.details&&a.details.fragments.forEach(function(a){a.loadCounter=void 0})});a&&(a.removeEventListener("seeking",this.onvseeking),a.removeEventListener("ended",
this.onvended),this.onvseeking=this.onvseeked=this.onvended=null);this.media=this.mediaBuffer=null;this.loadedmetadata=!1;this.stopLoad()}},{key:"onMediaSeeking",value:function(){"ENDED"===this.state&&(this.state="IDLE");this.media&&(this.lastCurrentTime=this.media.currentTime);void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold);this.tick()}},{key:"onMediaEnded",value:function(){this.startPosition=this.lastCurrentTime=0}},{key:"onAudioTracksUpdated",value:function(a){f.logger.log("audio tracks updated");
this.tracks=a.audioTracks}},{key:"onAudioTrackSwitching",value:function(a){var b=!!a.url;this.trackId=a.id;this.state="IDLE";this.fragCurrent=null;this.state="PAUSED";this.waitingFragment=null;b?this.timer||(this.timer=setInterval(this.ontick,100)):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null);b&&(this.audioSwitch=!0,this.state="IDLE",void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold));this.tick()}},{key:"onAudioTrackLoaded",value:function(a){var b=a.details,
d=a.id;a=this.tracks[d];var e=0;(f.logger.log("track "+d+" loaded ["+b.startSN+","+b.endSN+"],duration:"+b.totalduration),b.live)?(d=a.details)&&0<b.fragments.length?(l["default"].mergeDetails(d,b),e=b.fragments[0].start,b.PTSKnown?f.logger.log("live audio playlist sliding:"+e.toFixed(3)):f.logger.log("live audio playlist - outdated PTS, unknown sliding")):(b.PTSKnown=!1,f.logger.log("live audio playlist - first load, unknown sliding")):b.PTSKnown=!1;(a.details=b,this.startFragRequested)||(-1===this.startPosition&&
(b=b.startTimeOffset,isNaN(b)?this.startPosition=0:(f.logger.log("start time offset found in playlist, adjust startPosition to "+b),this.startPosition=b)),this.nextLoadPosition=this.startPosition);"WAITING_TRACK"===this.state&&(this.state="IDLE");this.tick()}},{key:"onKeyLoaded",value:function(){"KEY_LOADING"===this.state&&(this.state="IDLE",this.tick())}},{key:"onFragLoaded",value:function(a){var b=this.fragCurrent,d=a.frag;if("FRAG_LOADING"===this.state&&b&&"audio"===d.type&&d.level===b.level&&
d.sn===b.sn){var e=this.tracks[this.trackId],d=e.details,c=d.totalduration,l=b.level,h=b.sn,g=b.cc,e=this.config.defaultAudioCodec||e.audioCodec||"mp4a.40.2",r=this.stats=a.stats;if("initSegment"===h)this.state="IDLE",r.tparsed=r.tbuffered=performance.now(),d.initSegment.data=a.payload,this.hls.trigger(k["default"].FRAG_BUFFERED,{stats:r,frag:b,id:"audio"}),this.tick();else{this.state="PARSING";this.appended=!1;this.demuxer||(this.demuxer=new n["default"](this.hls,"audio"));var r=this.initPTS[g],
y=d.initSegment?d.initSegment.data:[];y||void 0!==r?(this.pendingBuffering=!0,f.logger.log("Demuxing "+h+" of ["+d.startSN+" ,"+d.endSN+"],track "+l),this.demuxer.push(a.payload,y,e,null,b,c,!1,r)):(f.logger.log("unknown video PTS for continuity counter "+g+", waiting for video PTS before demuxing audio frag "+h+" of ["+d.startSN+" ,"+d.endSN+"],track "+l),this.waitingFragment=a,this.state="WAITING_INIT_PTS")}}this.fragLoadError=0}},{key:"onFragParsingInitSegment",value:function(a){var b=this.fragCurrent,
d=a.frag;if(b&&"audio"===a.id&&d.sn===b.sn&&d.level===b.level&&"PARSING"===this.state&&(b=a.tracks,b.video&&delete b.video,d=b.audio)){d.levelCodec="mp4a.40.2";d.id=a.id;this.hls.trigger(k["default"].BUFFER_CODECS,b);f.logger.log("audio track:audio,container:"+d.container+",codecs[level/parsed]=["+d.levelCodec+"/"+d.codec+"]");if(a=d.initSegment)a={type:"audio",data:a,parent:"audio",content:"initSegment"},this.audioSwitch?this.pendingData=[a]:(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(k["default"].BUFFER_APPENDING,
a));this.tick()}}},{key:"onFragParsingData",value:function(a){var b=this,d=this.fragCurrent,e=a.frag;if(d&&"audio"===a.id&&"audio"===a.type&&e.sn===d.sn&&e.level===d.level&&"PARSING"===this.state){var e=this.trackId,c=this.tracks[e],n=this.hls;isNaN(a.endPTS)&&(a.endPTS=a.startPTS+d.duration,a.endDTS=a.startDTS+d.duration);f.logger.log("parsed "+a.type+",PTS:["+a.startPTS.toFixed(3)+","+a.endPTS.toFixed(3)+"],DTS:["+a.startDTS.toFixed(3)+"/"+a.endDTS.toFixed(3)+"],nb:"+a.nb);l["default"].updateFragPTSDTS(c.details,
d.sn,a.startPTS,a.endPTS);c=this.media;d=!1;this.audioSwitch&&c&&(c.readyState?(c=c.currentTime,f.logger.log("switching audio track : currentTime:"+c),c>=a.startPTS&&(f.logger.log("switching audio track : flushing all audio"),this.state="BUFFER_FLUSHING",n.trigger(k["default"].BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),d=!0,this.audioSwitch=!1,n.trigger(k["default"].AUDIO_TRACK_SWITCHED,{id:e}))):(this.audioSwitch=!1,n.trigger(k["default"].AUDIO_TRACK_SWITCHED,
{id:e})));var h=this.pendingData;this.audioSwitch||([a.data1,a.data2].forEach(function(b){b&&b.length&&h.push({type:a.type,data:b,parent:"audio",content:"data"})}),!d&&h.length&&(h.forEach(function(a){"PARSING"===b.state&&(b.pendingBuffering=!0,b.hls.trigger(k["default"].BUFFER_APPENDING,a))}),this.pendingData=[],this.appended=!0));this.tick()}}},{key:"onFragParsed",value:function(a){var b=this.fragCurrent,d=a.frag;b&&"audio"===a.id&&d.sn===b.sn&&d.level===b.level&&"PARSING"===this.state&&(this.stats.tparsed=
performance.now(),this.state="PARSED",this._checkAppendedParsed())}},{key:"onBufferCreated",value:function(a){(a=a.tracks.audio)&&(this.mediaBuffer=a.buffer,this.loadedmetadata=!0)}},{key:"onBufferAppended",value:function(a){if("audio"===a.parent){var b=this.state;"PARSING"!==b&&"PARSED"!==b||(this.pendingBuffering=0<a.pending,this._checkAppendedParsed())}}},{key:"_checkAppendedParsed",value:function(){if(!("PARSED"!==this.state||this.appended&&this.pendingBuffering)){var a=this.fragCurrent,b=this.stats,
e=this.hls;a&&(this.fragPrevious=a,b.tbuffered=performance.now(),e.trigger(k["default"].FRAG_BUFFERED,{stats:b,frag:a,id:"audio"}),f.logger.log("audio buffered : "+d["default"].toString((this.mediaBuffer?this.mediaBuffer:this.media).buffered)),this.audioSwitch&&this.appended&&(this.audioSwitch=!1,e.trigger(k["default"].AUDIO_TRACK_SWITCHED,{id:this.trackId})),this.state="IDLE");this.tick()}}},{key:"onError",value:function(d){var e=d.frag;if(!e||"audio"===e.type)switch(d.details){case a.ErrorDetails.FRAG_LOAD_ERROR:case a.ErrorDetails.FRAG_LOAD_TIMEOUT:if(!d.fatal){var c=
this.fragLoadError;c?c++:c=1;var l=this.config;c<=l.fragLoadingMaxRetry?(this.fragLoadError=c,e.loadCounter=0,d=Math.min(Math.pow(2,c-1)*l.fragLoadingRetryDelay,l.fragLoadingMaxRetryTimeout),f.logger.warn("audioStreamController: frag loading failed, retry in "+d+" ms"),this.retryDate=performance.now()+d,this.state="FRAG_LOADING_WAITING_RETRY"):(f.logger.error("audioStreamController: "+d.details+" reaches max retry, redispatch as fatal ..."),d.fatal=!0,this.state="ERROR")}break;case a.ErrorDetails.FRAG_LOOP_LOADING_ERROR:case a.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case a.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:case a.ErrorDetails.KEY_LOAD_ERROR:case a.ErrorDetails.KEY_LOAD_TIMEOUT:"ERROR"!==
this.state&&(this.state=d.fatal?"ERROR":"IDLE",f.logger.warn("audioStreamController: "+d.details+" while loading frag,switch to "+this.state+" state ..."));break;case a.ErrorDetails.BUFFER_FULL_ERROR:"audio"!==d.parent||"PARSING"!==this.state&&"PARSED"!==this.state||(d=this.mediaBuffer,e=this.media.currentTime,d&&b["default"].isBuffered(d,e)&&b["default"].isBuffered(d,e+.5)?(d=this.config,d.maxMaxBufferLength>=d.maxBufferLength&&(d.maxMaxBufferLength/=2,f.logger.warn("audio:reduce max buffer length to "+
d.maxMaxBufferLength+"s"),this.fragLoadIdx+=2*d.fragLoadingLoopThreshold),this.state="IDLE"):(f.logger.warn("buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,this.state="BUFFER_FLUSHING",this.hls.trigger(k["default"].BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"})))}}},{key:"onBufferFlushed",value:function(){var a=this,b=this.pendingData;b&&b.length?(f.logger.log("appending pending audio data on Buffer Flushed"),
b.forEach(function(b){a.hls.trigger(k["default"].BUFFER_APPENDING,b)}),this.appended=!0,this.pendingData=[],this.state="PARSED"):(this.state="IDLE",this.fragPrevious=null,this.tick())}},{key:"state",set:function(a){if(this.state!==a){var b=this.state;this._state=a;f.logger.log("audio stream:"+b+"->"+a)}},get:function(){return this._state}}]),g}(r["default"]);q["default"]=c},{24:24,30:30,31:31,32:32,34:34,35:35,45:45,50:50,51:51}],7:[function(c,g,q){function m(b,e){if("function"!=typeof e&&null!==
e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);b.prototype=Object.create(e&&e.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(b,e):b.__proto__=e)}Object.defineProperty(q,"__esModule",{value:!0});var p=function(){function b(b,e){for(var c=0;c<e.length;c++){var d=e[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(e,
c,l){return c&&b(e.prototype,c),l&&b(e,l),e}}(),h=(g=c(32))&&g.__esModule?g:{"default":g},e=(g=c(31))&&g.__esModule?g:{"default":g},b=c(50);c=function(c){function k(b){if(!(this instanceof k))throw new TypeError("Cannot call a class as a function");b=(k.__proto__||Object.getPrototypeOf(k)).call(this,b,h["default"].MANIFEST_LOADING,h["default"].MANIFEST_LOADED,h["default"].AUDIO_TRACK_LOADED);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");b=!b||"object"!=
typeof b&&"function"!=typeof b?this:b;return b.ticks=0,b.ontick=b.tick.bind(b),b}return m(k,c),p(k,[{key:"destroy",value:function(){e["default"].prototype.destroy.call(this)}},{key:"tick",value:function(){1===++this.ticks&&(this.doTick(),1<this.ticks&&setTimeout(this.tick,1),this.ticks=0)}},{key:"doTick",value:function(){this.updateTrack(this.trackId)}},{key:"onManifestLoading",value:function(){this.tracks=[];this.trackId=-1}},{key:"onManifestLoaded",value:function(e){var c=this;e=e.audioTracks||
[];var d=!1;this.tracks=e;this.hls.trigger(h["default"].AUDIO_TRACKS_UPDATED,{audioTracks:e});var a=0;e.forEach(function(b){if(b["default"])return c.audioTrack=a,void(d=!0);a++});!1===d&&e.length&&(b.logger.log("no default audio track defined, use first audio track as default"),this.audioTrack=0)}},{key:"onAudioTrackLoaded",value:function(e){e.id<this.tracks.length&&(b.logger.log("audioTrack "+e.id+" loaded"),this.tracks[e.id].details=e.details,e.details.live&&!this.timer&&(this.timer=setInterval(this.ontick,
1E3*e.details.targetduration)),!e.details.live&&this.timer&&(clearInterval(this.timer),this.timer=null))}},{key:"setAudioTrackInternal",value:function(e){if(0<=e&&e<this.tracks.length){this.timer&&(clearInterval(this.timer),this.timer=null);this.trackId=e;b.logger.log("switching to audioTrack "+e);var c=this.tracks[e],d=this.hls,a=c.url,f={id:e,type:c.type,url:a};d.trigger(h["default"].AUDIO_TRACK_SWITCH,f);d.trigger(h["default"].AUDIO_TRACK_SWITCHING,f);c=c.details;!a||void 0!==c&&!0!==c.live||(b.logger.log("(re)loading playlist for audioTrack "+
e),d.trigger(h["default"].AUDIO_TRACK_LOADING,{url:a,id:e}))}}},{key:"updateTrack",value:function(e){if(0<=e&&e<this.tracks.length){this.timer&&(clearInterval(this.timer),this.timer=null);this.trackId=e;b.logger.log("updating audioTrack "+e);var c=this.tracks[e],d=c.url,c=c.details;!d||void 0!==c&&!0!==c.live||(b.logger.log("(re)loading playlist for audioTrack "+e),this.hls.trigger(h["default"].AUDIO_TRACK_LOADING,{url:d,id:e}))}}},{key:"audioTracks",get:function(){return this.tracks}},{key:"audioTrack",
get:function(){return this.trackId},set:function(b){this.trackId===b&&void 0!==this.tracks[b].details||this.setAudioTrackInternal(b)}}]),k}(e["default"]);q["default"]=c},{31:31,32:32,50:50}],8:[function(c,g,q){function m(b,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);b.prototype=Object.create(e&&e.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(b,
e):b.__proto__=e)}Object.defineProperty(q,"__esModule",{value:!0});var p=function(){function b(b,e){for(var d=0;d<e.length;d++){var a=e[d];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(b,a.key,a)}}return function(e,c,d){return c&&b(e.prototype,c),d&&b(e,d),e}}(),h=(g=c(32))&&g.__esModule?g:{"default":g},e=(g=c(31))&&g.__esModule?g:{"default":g},b=c(50),n=c(30);c=function(c){function k(b){if(!(this instanceof k))throw new TypeError("Cannot call a class as a function");
b=(k.__proto__||Object.getPrototypeOf(k)).call(this,b,h["default"].MEDIA_ATTACHING,h["default"].MEDIA_DETACHING,h["default"].MANIFEST_PARSED,h["default"].BUFFER_RESET,h["default"].BUFFER_APPENDING,h["default"].BUFFER_CODECS,h["default"].BUFFER_EOS,h["default"].BUFFER_FLUSHING,h["default"].LEVEL_PTS_UPDATED,h["default"].LEVEL_UPDATED);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");b=!b||"object"!=typeof b&&"function"!=typeof b?this:b;return b._msDuration=
null,b._levelDuration=null,b.onsbue=b.onSBUpdateEnd.bind(b),b.onsbe=b.onSBUpdateError.bind(b),b.pendingTracks={},b.tracks={},b}return m(k,c),p(k,[{key:"destroy",value:function(){e["default"].prototype.destroy.call(this)}},{key:"onLevelPtsUpdated",value:function(e){var d=this.tracks.audio;if("audio"===e.type&&d&&"audio/mpeg"===d.container&&(d=this.sourceBuffer.audio,.1<Math.abs(d.timestampOffset-e.start))){var a=d.updating;try{d.abort()}catch(f){a=!0,b.logger.warn("can not abort audio buffer: "+f)}a?
this.audioTimestampOffset=e.start:(b.logger.warn("change mpeg audio timestamp offset from "+d.timestampOffset+" to "+e.start),d.timestampOffset=e.start)}}},{key:"onManifestParsed",value:function(e){var d=e.audio,a=e.video,f=0;e.altAudio&&(d||a)&&(f=(d?1:0)+(a?1:0),b.logger.log(f+" sourceBuffer(s) expected"));this.sourceBufferNb=f}},{key:"onMediaAttaching",value:function(b){if(b=this.media=b.media){var d=this.mediaSource=new MediaSource;this.onmso=this.onMediaSourceOpen.bind(this);this.onmse=this.onMediaSourceEnded.bind(this);
this.onmsc=this.onMediaSourceClose.bind(this);d.addEventListener("sourceopen",this.onmso);d.addEventListener("sourceended",this.onmse);d.addEventListener("sourceclose",this.onmsc);b.src=URL.createObjectURL(d)}}},{key:"onMediaDetaching",value:function(){b.logger.log("media source detaching");var e=this.mediaSource;if(e){if("open"===e.readyState)try{e.endOfStream()}catch(d){b.logger.warn("onMediaDetaching:"+d.message+" while calling endOfStream")}e.removeEventListener("sourceopen",this.onmso);e.removeEventListener("sourceended",
this.onmse);e.removeEventListener("sourceclose",this.onmsc);this.media&&(URL.revokeObjectURL(this.media.src),this.media.removeAttribute("src"),this.media.load());this.media=this.mediaSource=null;this.pendingTracks={};this.tracks={};this.sourceBuffer={};this.flushRange=[];this.segments=[];this.appended=0}this.onmso=this.onmse=this.onmsc=null;this.hls.trigger(h["default"].MEDIA_DETACHED)}},{key:"onMediaSourceOpen",value:function(){b.logger.log("media source opened");this.hls.trigger(h["default"].MEDIA_ATTACHED,
{media:this.media});var e=this.mediaSource;e&&e.removeEventListener("sourceopen",this.onmso);this.checkPendingTracks()}},{key:"checkPendingTracks",value:function(){var b=this.pendingTracks,d=Object.keys(b).length;d&&(this.sourceBufferNb<=d||0===this.sourceBufferNb)&&(this.createSourceBuffers(b),this.pendingTracks={},this.doAppending())}},{key:"onMediaSourceClose",value:function(){b.logger.log("media source closed")}},{key:"onMediaSourceEnded",value:function(){b.logger.log("media source ended")}},
{key:"onSBUpdateEnd",value:function(){if(this.audioTimestampOffset){var e=this.sourceBuffer.audio;b.logger.warn("change mpeg audio timestamp offset from "+e.timestampOffset+" to "+this.audioTimestampOffset);e.timestampOffset=this.audioTimestampOffset;delete this.audioTimestampOffset}this._needsFlush&&this.doFlush();this._needsEos&&this.checkEos();this.appending=!1;var d=this.parent,e=this.segments.reduce(function(a,b){return b.parent===d?a+1:a},0);this.hls.trigger(h["default"].BUFFER_APPENDED,{parent:d,
pending:e});this._needsFlush||this.doAppending();this.updateMediaElementDuration()}},{key:"onSBUpdateError",value:function(e){b.logger.error("sourceBuffer error:",e);this.hls.trigger(h["default"].ERROR,{type:n.ErrorTypes.MEDIA_ERROR,details:n.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})}},{key:"onBufferReset",value:function(){var b=this.sourceBuffer,d;for(d in b){var a=b[d];try{this.mediaSource.removeSourceBuffer(a),a.removeEventListener("updateend",this.onsbue),a.removeEventListener("error",this.onsbe)}catch(f){}}this.sourceBuffer=
{};this.flushRange=[];this.segments=[];this.appended=0}},{key:"onBufferCodecs",value:function(b){if(0===Object.keys(this.sourceBuffer).length){for(var d in b)this.pendingTracks[d]=b[d];(b=this.mediaSource)&&"open"===b.readyState&&this.checkPendingTracks()}}},{key:"createSourceBuffers",value:function(e){var d=this.sourceBuffer,a=this.mediaSource,f;for(f in e)if(!d[f]){var c=e[f],k=c.levelCodec||c.codec,l=c.container+";codecs="+k;b.logger.log("creating sourceBuffer("+l+")");try{var g=d[f]=a.addSourceBuffer(l);
g.addEventListener("updateend",this.onsbue);g.addEventListener("error",this.onsbe);this.tracks[f]={codec:k,container:c.container};c.buffer=g}catch(x){b.logger.error("error while trying to add sourceBuffer:"+x.message),this.hls.trigger(h["default"].ERROR,{type:n.ErrorTypes.MEDIA_ERROR,details:n.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:x,mimeType:l})}}this.hls.trigger(h["default"].BUFFER_CREATED,{tracks:e})}},{key:"onBufferAppending",value:function(b){this._needsFlush||(this.segments?this.segments.push(b):
this.segments=[b],this.doAppending())}},{key:"onBufferAppendFail",value:function(e){b.logger.error("sourceBuffer error:",e.event);this.hls.trigger(h["default"].ERROR,{type:n.ErrorTypes.MEDIA_ERROR,details:n.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})}},{key:"onBufferEos",value:function(e){var d=this.sourceBuffer;e=e.type;for(var a in d)e&&a!==e||d[a].ended||(d[a].ended=!0,b.logger.log(a+" sourceBuffer now EOS"));this.checkEos()}},{key:"checkEos",value:function(){var e=this.sourceBuffer,d=this.mediaSource;
if(!d||"open"!==d.readyState)return void(this._needsEos=!1);for(var a in e){var f=e[a];if(!f.ended)return;if(f.updating)return void(this._needsEos=!0)}b.logger.log("all media data available, signal endOfStream() to MediaSource and stop loading fragment");try{d.endOfStream()}catch(H){b.logger.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1}},{key:"onBufferFlushing",value:function(b){this.flushRange.push({start:b.startOffset,end:b.endOffset,type:b.type});this.flushBufferCounter=
0;this.doFlush()}},{key:"onLevelUpdated",value:function(b){b=b.details;0!==b.fragments.length&&(this._levelDuration=b.totalduration+b.fragments[0].start,this.updateMediaElementDuration())}},{key:"updateMediaElementDuration",value:function(){var e=this.media,d=this.mediaSource,a=this.sourceBuffer,f=this._levelDuration;if(null!==f&&e&&d&&a&&0!==e.readyState&&"open"===d.readyState){for(var c in a)if(a[c].updating)return;null===this._msDuration&&(this._msDuration=d.duration);e=e.duration;(f>this._msDuration&&
f>e||e===1/0||isNaN(e))&&(b.logger.log("Updating mediasource duration to "+f.toFixed(3)),this._msDuration=d.duration=f)}}},{key:"doFlush",value:function(){for(;this.flushRange.length;){var e=this.flushRange[0];if(!this.flushBuffer(e.start,e.end,e.type))return void(this._needsFlush=!0);this.flushRange.shift();this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var e=0,d=this.sourceBuffer;try{for(var a in d)e+=d[a].buffered.length}catch(f){b.logger.error("error while accessing sourceBuffer.buffered")}this.appended=
e;this.hls.trigger(h["default"].BUFFER_FLUSHED)}}},{key:"doAppending",value:function(){var e=this.hls,d=this.sourceBuffer,a=this.segments;if(Object.keys(d).length){if(this.media.error)return this.segments=[],void b.logger.error("trying to append although a media error occured, flush segment and abort");if(!this.appending&&a&&a.length){var f=a.shift();try{var c=d[f.type];c?c.updating?a.unshift(f):(c.ended=!1,this.parent=f.parent,c.appendBuffer(f.data),this.appendError=0,this.appended++,this.appending=
!0):this.onSBUpdateEnd()}catch(D){b.logger.error("error while trying to append buffer:"+D.message);a.unshift(f);d={type:n.ErrorTypes.MEDIA_ERROR,parent:f.parent};if(22===D.code)return this.segments=[],d.details=n.ErrorDetails.BUFFER_FULL_ERROR,d.fatal=!1,void e.trigger(h["default"].ERROR,d);if(this.appendError?this.appendError++:this.appendError=1,d.details=n.ErrorDetails.BUFFER_APPEND_ERROR,this.appendError>e.config.appendErrorMaxRetry)return b.logger.log("fail "+e.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),
d.fatal=!0,void e.trigger(h["default"].ERROR,d);d.fatal=!1;e.trigger(h["default"].ERROR,d)}}}}},{key:"flushBuffer",value:function(e,d,a){var f,c,k,l,n,h,g=this.sourceBuffer;if(Object.keys(g).length){if(b.logger.log("flushBuffer,pos/start/end: "+this.media.currentTime.toFixed(3)+"/"+e+"/"+d),this.flushBufferCounter<this.appended)for(var r in g){if(!a||r===a){if(f=g[r],f.ended=!1,f.updating)return b.logger.warn("cannot flush, sb updating in progress"),!1;try{for(c=0;c<f.buffered.length;c++)if(k=f.buffered.start(c),
l=f.buffered.end(c),-1!==navigator.userAgent.toLowerCase().indexOf("firefox")&&d===Number.POSITIVE_INFINITY?(n=e,h=d):(n=Math.max(k,e),h=Math.min(l,d)),.5<Math.min(h,l)-n)return this.flushBufferCounter++,b.logger.log("flush "+r+" ["+n+","+h+"], of ["+k+","+l+"], pos:"+this.media.currentTime),f.remove(n,h),!1}catch(C){b.logger.warn("exception while accessing sourcebuffer, it might have been removed from MediaSource")}}}else b.logger.warn("abort flushing too many retries");b.logger.log("buffer flushed")}return!0}}]),
k}(e["default"]);q["default"]=c},{30:30,31:31,32:32,50:50}],9:[function(c,g,q){function m(e,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);e.prototype=Object.create(b&&b.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(e,b):e.__proto__=b)}Object.defineProperty(q,"__esModule",{value:!0});var p=function(){function e(b,e){for(var c=0;c<e.length;c++){var n=
e[c];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(b,n.key,n)}}return function(b,c,k){return c&&e(b.prototype,c),k&&e(b,k),b}}(),h=(g=c(32))&&g.__esModule?g:{"default":g};c=c(31);c=function(e){function b(e){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");e=(b.__proto__||Object.getPrototypeOf(b)).call(this,e,h["default"].FPS_DROP_LEVEL_CAPPING,h["default"].MEDIA_ATTACHING,h["default"].MANIFEST_PARSED);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!e||"object"!=typeof e&&"function"!=typeof e?this:e}return m(b,e),p(b,[{key:"destroy",value:function(){this.hls.config.capLevelToPlayerSize&&(this.media=this.restrictedLevels=null,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer)))}},{key:"onFpsDropLevelCapping",value:function(b){this.restrictedLevels||(this.restrictedLevels=[]);this.isLevelRestricted(b.droppedLevel)||this.restrictedLevels.push(b.droppedLevel)}},{key:"onMediaAttaching",value:function(b){this.media=
b.media instanceof HTMLVideoElement?b.media:null}},{key:"onManifestParsed",value:function(b){var e=this.hls;e.config.capLevelToPlayerSize&&(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.levels=b.levels,e.firstLevel=this.getMaxLevel(b.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1E3),this.detectPlayerSize())}},{key:"detectPlayerSize",value:function(){if(this.media){var b=this.levels?this.levels.length:0;if(b){var e=this.hls;e.autoLevelCapping=
this.getMaxLevel(b-1);e.autoLevelCapping>this.autoLevelCapping&&e.streamController.nextLevelSwitch();this.autoLevelCapping=e.autoLevelCapping}}}},{key:"getMaxLevel",value:function(b){var e=0,c,l=void 0,d=this.mediaWidth,a=this.mediaHeight,f=0,h=0;for(c=0;c<=b&&(l=this.levels[c],!this.isLevelRestricted(c))&&(e=c,f=l.width,h=l.height,!(d<=f||a<=h));c++);return e}},{key:"isLevelRestricted",value:function(b){return!(!this.restrictedLevels||-1===this.restrictedLevels.indexOf(b))}},{key:"contentScaleFactor",
get:function(){var b=1;try{b=window.devicePixelRatio}catch(k){}return b}},{key:"mediaWidth",get:function(){var b=void 0,e=this.media;return e&&(b=e.width||e.clientWidth||e.offsetWidth,b*=this.contentScaleFactor),b}},{key:"mediaHeight",get:function(){var b=void 0,e=this.media;return e&&(b=e.height||e.clientHeight||e.offsetHeight,b*=this.contentScaleFactor),b}}]),b}((c&&c.__esModule?c:{"default":c})["default"]);q["default"]=c},{31:31,32:32}],10:[function(c,g,q){function m(b,e){if("function"!=typeof e&&
null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);b.prototype=Object.create(e&&e.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(b,e):b.__proto__=e)}Object.defineProperty(q,"__esModule",{value:!0});var p=function(){function b(b,e){for(var c=0;c<e.length;c++){var k=e[c];k.enumerable=k.enumerable||!1;k.configurable=!0;"value"in k&&(k.writable=!0);Object.defineProperty(b,k.key,
k)}}return function(e,c,h){return c&&b(e.prototype,c),h&&b(e,h),e}}(),h=(g=c(32))&&g.__esModule?g:{"default":g};g=(g=c(31))&&g.__esModule?g:{"default":g};var e=c(50);c=function(b){function c(b){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");b=(c.__proto__||Object.getPrototypeOf(c)).call(this,b,h["default"].MEDIA_ATTACHING);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?
this:b}return m(c,b),p(c,[{key:"destroy",value:function(){this.timer&&clearInterval(this.timer);this.isVideoPlaybackQualityAvailable=!1}},{key:"onMediaAttaching",value:function(b){var e=this.hls.config;e.capLevelOnFPSDrop&&("function"==typeof(this.video=b.media instanceof HTMLVideoElement?b.media:null).getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),e.fpsDroppedMonitoringPeriod))}},{key:"checkFPS",
value:function(b,c,l){b=performance.now();if(c){if(this.lastTime){var d=l-this.lastDroppedFrames,a=c-this.lastDecodedFrames,f=1E3*d/(b-this.lastTime),k=this.hls;if(k.trigger(h["default"].FPS_DROP,{currentDropped:d,currentDecoded:a,totalDroppedFrames:l}),0<f&&d>k.config.fpsDroppedMonitoringThreshold*a)d=k.currentLevel,e.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+d),0<d&&(-1===k.autoLevelCapping||k.autoLevelCapping>=d)&&(--d,k.trigger(h["default"].FPS_DROP_LEVEL_CAPPING,
{level:d,droppedLevel:k.currentLevel}),k.autoLevelCapping=d,k.streamController.nextLevelSwitch())}this.lastTime=b;this.lastDroppedFrames=l;this.lastDecodedFrames=c}}},{key:"checkFPSInterval",value:function(){var b=this.video;if(b)if(this.isVideoPlaybackQualityAvailable){var e=b.getVideoPlaybackQuality();this.checkFPS(b,e.totalVideoFrames,e.droppedVideoFrames)}else this.checkFPS(b,b.webkitDecodedFrameCount,b.webkitDroppedFrameCount)}}]),c}(g["default"]);q["default"]=c},{31:31,32:32,50:50}],11:[function(c,
g,q){function m(b){return b&&b.__esModule?b:{"default":b}}function p(b,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);b.prototype=Object.create(e&&e.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(b,e):b.__proto__=e)}Object.defineProperty(q,"__esModule",{value:!0});var h=function(){function b(b,d){for(var a=0;a<d.length;a++){var e=d[a];e.enumerable=
e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(b,e.key,e)}}return function(e,d,a){return d&&b(e.prototype,d),a&&b(e,a),e}}();g=c(32);var e=m(g);g=c(31);g=m(g);var b=c(50),n=c(30);c=c(34);var k=m(c);c=function(c){function l(b){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");b=(l.__proto__||Object.getPrototypeOf(l)).call(this,b,e["default"].MANIFEST_LOADED,e["default"].LEVEL_LOADED,e["default"].FRAG_LOADED,e["default"].ERROR);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
b=!b||"object"!=typeof b&&"function"!=typeof b?this:b;return b.ontick=b.tick.bind(b),b._manualLevel=-1,b}return p(l,c),h(l,[{key:"destroy",value:function(){this.timer&&(clearTimeout(this.timer),this.timer=null);this._manualLevel=-1}},{key:"startLoad",value:function(){this.canload=!0;var b=this._levels;b&&b.forEach(function(a){a.loadError=0;var b=a.details;b&&b.live&&(a.details=void 0)});this.timer&&this.tick()}},{key:"stopLoad",value:function(){this.canload=!1}},{key:"onManifestLoaded",value:function(d){var a=
[],f=[],c={},k=!1,l=!1,h=this.hls,g=/chrome|firefox/.test(navigator.userAgent.toLowerCase());if(d.levels.forEach(function(b){b.videoCodec&&(k=!0);g&&b.audioCodec&&-1!==b.audioCodec.indexOf("mp4a.40.34")&&(b.audioCodec=void 0);(b.audioCodec||b.attrs&&b.attrs.AUDIO)&&(l=!0);var d=c[b.bitrate];void 0===d?(c[b.bitrate]=a.length,b.url=[b.url],b.urlId=0,a.push(b)):a[d].url.push(b.url)}),k&&l?a.forEach(function(a){a.videoCodec&&f.push(a)}):f=a,f=f.filter(function(a){var b=a.audioCodec;a=a.videoCodec;return(!b||
MediaSource.isTypeSupported("audio/mp4;codecs="+b))&&(!a||MediaSource.isTypeSupported("video/mp4;codecs="+a))}),f.length){var r=f[0].bitrate;f.sort(function(a,b){return a.bitrate-b.bitrate});this._levels=f;for(var m=0;m<f.length;m++)if(f[m].bitrate===r){this._firstLevel=m;b.logger.log("manifest loaded,"+f.length+" level(s) found, first bitrate:"+r);break}h.trigger(e["default"].MANIFEST_PARSED,{levels:f,firstLevel:this._firstLevel,stats:d.stats,audio:l,video:k,altAudio:0<d.audioTracks.length})}else h.trigger(e["default"].ERROR,
{type:n.ErrorTypes.MEDIA_ERROR,details:n.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:h.url,reason:"no level with compatible codecs found in manifest"})}},{key:"setLevelInternal",value:function(d){var a=this._levels,f=this.hls;if(0<=d&&d<a.length){if(this.timer&&(clearTimeout(this.timer),this.timer=null),this._level!==d){b.logger.log("switching to level "+d);this._level=d;var c=a[d];c.level=d;f.trigger(e["default"].LEVEL_SWITCH,c);f.trigger(e["default"].LEVEL_SWITCHING,c)}a=a[d];c=
a.details;c&&!0!==c.live||(c=a.urlId,f.trigger(e["default"].LEVEL_LOADING,{url:a.url[c],level:d,id:c}))}else f.trigger(e["default"].ERROR,{type:n.ErrorTypes.OTHER_ERROR,details:n.ErrorDetails.LEVEL_SWITCH_ERROR,level:d,fatal:!1,reason:"invalid level idx"})}},{key:"onError",value:function(d){if(!d.fatal){var a=d.details,e=this.hls,c=void 0,l=!1;switch(a){case n.ErrorDetails.FRAG_LOAD_ERROR:case n.ErrorDetails.FRAG_LOAD_TIMEOUT:case n.ErrorDetails.FRAG_LOOP_LOADING_ERROR:case n.ErrorDetails.KEY_LOAD_ERROR:case n.ErrorDetails.KEY_LOAD_TIMEOUT:c=
d.frag.level;break;case n.ErrorDetails.LEVEL_LOAD_ERROR:case n.ErrorDetails.LEVEL_LOAD_TIMEOUT:c=d.context.level;l=!0;break;case n.ErrorDetails.REMUX_ALLOC_ERROR:c=d.level}if(void 0!==c){var h=this._levels[c];h.loadError?h.loadError++:h.loadError=1;var g=h.url.length;if(1<g&&h.loadError<g)h.urlId=(h.urlId+1)%g,h.details=void 0,b.logger.warn("level controller,"+a+" for level "+c+": switching to redundant stream id "+h.urlId);else if(-1===this._manualLevel&&c)b.logger.warn("level controller,"+a+": switch-down for next fragment"),
e.nextAutoLevel=Math.max(0,c-1);else if(h&&h.details&&h.details.live)b.logger.warn("level controller,"+a+" on live stream, discard"),l&&(this._level=void 0);else if(a===n.ErrorDetails.LEVEL_LOAD_ERROR||a===n.ErrorDetails.LEVEL_LOAD_TIMEOUT)(c=e.media)&&k["default"].isBuffered(c,c.currentTime)&&k["default"].isBuffered(c,c.currentTime+.5)?(d=e.config.levelLoadingRetryDelay,b.logger.warn("level controller,"+a+", but media buffered, retry in "+d+"ms"),this.timer=setTimeout(this.ontick,d)):(b.logger.error("cannot recover "+
a+" error"),this._level=void 0,this.timer&&(clearTimeout(this.timer),this.timer=null),d.fatal=!0)}}}},{key:"onFragLoaded",value:function(b){(b=b.frag)&&"main"===b.type&&(b=this._levels[b.level])&&(b.loadError=0)}},{key:"onLevelLoaded",value:function(d){var a=d.level;if(a===this._level){var e=this._levels[a];e.loadError=0;a=d.details;if(a.live){var c=1E3*(a.averagetargetduration?a.averagetargetduration:a.targetduration);(e=e.details)&&a.endSN===e.endSN&&(c/=2,b.logger.log("same live playlist, reload twice faster"));
c-=performance.now()-d.stats.trequest;c=Math.max(1E3,Math.round(c));b.logger.log("live playlist, reload in "+c+" ms");this.timer=setTimeout(this.ontick,c)}else this.timer=null}}},{key:"tick",value:function(){var b=this._level;if(void 0!==b&&this.canload){var a=this._levels[b];if(a&&a.url){var f=a.urlId;this.hls.trigger(e["default"].LEVEL_LOADING,{url:a.url[f],level:b,id:f})}}}},{key:"levels",get:function(){return this._levels}},{key:"level",get:function(){return this._level},set:function(b){var a=
this._levels;a&&a.length>b&&(this._level===b&&void 0!==a[b].details||this.setLevelInternal(b))}},{key:"manualLevel",get:function(){return this._manualLevel},set:function(b){this._manualLevel=b;void 0===this._startLevel&&(this._startLevel=b);-1!==b&&(this.level=b)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(b){this._firstLevel=b}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var b=this.hls.config.startLevel;return void 0!==b?b:this._firstLevel}return this._startLevel},
set:function(b){this._startLevel=b}},{key:"nextLoadLevel",get:function(){return-1!==this._manualLevel?this._manualLevel:this.hls.nextAutoLevel},set:function(b){this.level=b;-1===this._manualLevel&&(this.hls.nextAutoLevel=b)}}]),l}(g["default"]);q["default"]=c},{30:30,31:31,32:32,34:34,50:50}],12:[function(c,g,q){function m(a){return a&&a.__esModule?a:{"default":a}}function p(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);
a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(q,"__esModule",{value:!0});var h=function(){function a(a,b){for(var d=0;d<b.length;d++){var e=b[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(b,d,e){return d&&a(b.prototype,d),e&&a(b,e),b}}();g=c(45);var e=m(g);g=c(34);
var b=m(g);g=c(24);var n=m(g);g=c(32);var k=m(g);g=c(31);var r=m(g);g=c(35);var l=m(g);g=c(51);var d=m(g),a=c(30),f=c(50);c=function(c){function g(a){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");var b=(g.__proto__||Object.getPrototypeOf(g)).call(this,a,k["default"].MEDIA_ATTACHED,k["default"].MEDIA_DETACHING,k["default"].MANIFEST_LOADING,k["default"].MANIFEST_PARSED,k["default"].LEVEL_LOADED,k["default"].KEY_LOADED,k["default"].FRAG_LOADED,k["default"].FRAG_LOAD_EMERGENCY_ABORTED,
k["default"].FRAG_PARSING_INIT_SEGMENT,k["default"].FRAG_PARSING_DATA,k["default"].FRAG_PARSED,k["default"].ERROR,k["default"].AUDIO_TRACK_SWITCHING,k["default"].AUDIO_TRACK_SWITCHED,k["default"].BUFFER_CREATED,k["default"].BUFFER_APPENDED,k["default"].BUFFER_FLUSHED);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");b=!b||"object"!=typeof b&&"function"!=typeof b?this:b;return b.config=a.config,b.audioCodecSwap=!1,b.ticks=0,b._state="STOPPED",b.ontick=
b.tick.bind(b),b}return p(g,c),h(g,[{key:"destroy",value:function(){this.stopLoad();this.timer&&(clearInterval(this.timer),this.timer=null);r["default"].prototype.destroy.call(this);this.state="STOPPED"}},{key:"startLoad",value:function(a){if(this.levels){var b=this.lastCurrentTime,d=this.hls;if(this.stopLoad(),this.timer||(this.timer=setInterval(this.ontick,100)),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var e=d.startLevel;-1===e&&(e=0,this.bitrateTest=!0);this.level=d.nextLoadLevel=
e;this.loadedmetadata=!1}0<b&&-1===a&&(f.logger.log("override startPosition with lastCurrentTime @"+b.toFixed(3)),a=b);this.state="IDLE";this.nextLoadPosition=this.startPosition=this.lastCurrentTime=a;this.tick()}else this.forceStartLoad=!0,this.state="STOPPED"}},{key:"stopLoad",value:function(){var a=this.fragCurrent;a&&(a.loader&&a.loader.abort(),this.fragCurrent=null);this.fragPrevious=null;this.demuxer&&(this.demuxer.destroy(),this.demuxer=null);this.state="STOPPED";this.forceStartLoad=!1}},{key:"tick",
value:function(){1===++this.ticks&&(this.doTick(),1<this.ticks&&setTimeout(this.tick,1),this.ticks=0)}},{key:"doTick",value:function(){switch(this.state){case "BUFFER_FLUSHING":this.fragLoadError=0;break;case "IDLE":if(!this._doTickIdle())return;break;case "WAITING_LEVEL":var a=this.levels[this.level];a&&a.details&&(this.state="IDLE");break;case "FRAG_LOADING_WAITING_RETRY":var a=performance.now(),b=this.retryDate;(!b||a>=b||this.media&&this.media.seeking)&&(f.logger.log("mediaController: retryDate reached, switch back to IDLE state"),
this.state="IDLE")}this._checkBuffer();this._checkFragmentChanged()}},{key:"_doTickIdle",value:function(){var a=this.hls,d=a.config,e=this.media;if(void 0!==this.levelLastLoaded&&!e&&(this.startFragRequested||!d.startFragPrefetch))return!0;var c=this.loadedmetadata?e.currentTime:this.nextLoadPosition;var l=a.nextLoadLevel,h=this.levels[l],n=h.bitrate,n=n?Math.max(8*d.maxBufferSize/n,d.maxBufferLength):d.maxBufferLength,n=Math.min(n,d.maxMaxBufferLength),d=b["default"].bufferInfo(this.mediaBuffer?
this.mediaBuffer:e,c,d.maxBufferHole),g=d.len;if(g>=n)return!0;f.logger.trace("buffer length of "+g.toFixed(3)+" is below max of "+n.toFixed(3)+". checking for more payload ...");this.level=a.nextLoadLevel=l;a=h.details;if(void 0===a||a.live&&this.levelLastLoaded!==l)return this.state="WAITING_LEVEL",!0;l=this.fragPrevious;return!a.live&&l&&l.sn===a.endSN&&Math.min(e.duration,l.start+l.duration)-Math.max(d.end,l.start)<=Math.max(.2,l.duration/2)?(e={},this.altAudio&&(e.type="video"),this.hls.trigger(k["default"].BUFFER_EOS,
e),this.state="ENDED",!0):this._fetchPayloadOrEos(c,d,a)}},{key:"_fetchPayloadOrEos",value:function(a,b,d){var e=this.fragPrevious,c=this.level,k=d.fragments,l=k.length;if(0===l)return!1;var h=k[0].start,n=k[l-1].start+k[l-1].duration;b=b.end;var g=void 0;if(d.initSegment&&!d.initSegment.data)g=d.initSegment;else if(d.live){g=this.config.initialLiveManifestSize;if(l<g)return f.logger.warn("Can not start playback of a level, reason: not enough fragments "+l+" < "+g),!1;if(null===(g=this._ensureFragmentAtLivePoint(d,
b,h,n,e,k,l)))return!1}else b<h&&(g=k[0]);return g||(g=this._findFragment(h,e,l,k,b,n,d)),!g||this._loadFragmentOrKey(g,c,d,a,b)}},{key:"_ensureFragmentAtLivePoint",value:function(a,b,d,e,c,k,l){var h=this.hls.config,n=this.media,g=void 0;b<Math.max(d-h.maxFragLookUpTolerance,e-(void 0!==h.liveMaxLatencyDuration?h.liveMaxLatencyDuration:h.liveMaxLatencyDurationCount*a.targetduration))&&(d=this.liveSyncPosition=this.computeLivePosition(d,a),f.logger.log("buffer end: "+b.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+
d.toFixed(3)),b=d,n&&n.readyState&&n.duration>d&&(n.currentTime=d));if(a.PTSKnown&&b>e&&n&&n.readyState)return null;this.startFragRequested&&!a.PTSKnown&&(c&&(b=c.sn+1,b>=a.startSN&&b<=a.endSN&&(g=k[b-a.startSN],f.logger.log("live playlist, switching playlist, load frag with next SN: "+g.sn))),g||(g=k[Math.min(l-1,Math.round(l/2))],f.logger.log("live playlist, switching playlist, unknown, load middle frag : "+g.sn)));return g}},{key:"_findFragment",value:function(a,b,d,c,k,l,h){a=this.hls.config;
var n=void 0,g=void 0,r=a.maxFragLookUpTolerance,y=b?c[b.sn-c[0].sn+1]:void 0,A=function(a){var b=Math.min(r,a.duration);return a.start+a.duration-b<=k?1:a.start-b>k&&a.start?-1:0};if(k<l?(k>l-r&&(r=0),g=y&&!A(y)?y:e["default"].search(c,A)):g=c[d-1],g)n=g,d=n.sn-h.startSN,g=b&&n.level===b.level,l=c[d-1],c=c[d+1],g&&n.sn===b.sn?n.sn<h.endSN?(h=b.deltaPTS)&&h>a.maxBufferHole&&b.dropped&&d?(n=l,f.logger.warn("SN just loaded, with large PTS gap between audio and video, maybe frag is not starting with a keyframe ? load previous one to try to overcome this"),
b.loadCounter--):(n=c,f.logger.log("SN just loaded, load next one: "+n.sn)):n=null:n.dropped&&!g&&(c&&c.backtracked?(f.logger.warn("Already backtracked from fragment "+(d+1)+", will not backtrack to fragment "+d+". Loading fragment "+(d+1)),n=c):(f.logger.warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"),n.dropped=0,l?(l.loadCounter&&l.loadCounter--,n=l):n=null));return n}},{key:"_loadFragmentOrKey",value:function(b,d,e,c,l){var h=this.hls,g=h.config;if(!b.decryptdata||
null==b.decryptdata.uri||null!=b.decryptdata.key){if(f.logger.log("Loading "+b.sn+" of ["+e.startSN+" ,"+e.endSN+"],level "+d+", currentTime:"+c.toFixed(3)+",bufferEnd:"+l.toFixed(3)),void 0!==this.fragLoadIdx?this.fragLoadIdx++:this.fragLoadIdx=0,b.loadCounter){if(b.loadCounter++,d=g.fragLoadingLoopThreshold,b.loadCounter>d&&Math.abs(this.fragLoadIdx-b.loadIdx)<d)return h.trigger(k["default"].ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.FRAG_LOOP_LOADING_ERROR,fatal:!1,frag:b}),!1}else b.loadCounter=
1;return b.loadIdx=this.fragLoadIdx,this.fragCurrent=b,this.startFragRequested=!0,isNaN(b.sn)||(this.nextLoadPosition=b.start+b.duration),b.autoLevel=h.autoLevelEnabled,b.bitrateTest=this.bitrateTest,h.trigger(k["default"].FRAG_LOADING,{frag:b}),this.demuxer||(this.demuxer=new n["default"](h,"main")),this.state="FRAG_LOADING",!0}f.logger.log("Loading key for "+b.sn+" of ["+e.startSN+" ,"+e.endSN+"],level "+d);this.state="KEY_LOADING";h.trigger(k["default"].KEY_LOADING,{frag:b})}},{key:"getBufferedFrag",
value:function(a){return e["default"].search(this._bufferedFrags,function(b){return a<b.startPTS?-1:a>b.endPTS?1:0})}},{key:"followingBufferedFrag",value:function(a){return a?this.getBufferedFrag(a.endPTS+.5):null}},{key:"_checkFragmentChanged",value:function(){var a,d,e=this.media;e&&e.readyState&&!1===e.seeking&&(d=e.currentTime,d>e.playbackRate*this.lastCurrentTime&&(this.lastCurrentTime=d),b["default"].isBuffered(e,d)?a=this.getBufferedFrag(d):b["default"].isBuffered(e,d+.1)&&(a=this.getBufferedFrag(d+
.1)),a)&&a!==this.fragPlaying&&(this.hls.trigger(k["default"].FRAG_CHANGED,{frag:a}),d=a.level,this.fragPlaying&&this.fragPlaying.level===d||this.hls.trigger(k["default"].LEVEL_SWITCHED,{level:d}),this.fragPlaying=a)}},{key:"immediateLevelSwitch",value:function(){if(f.logger.log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var a=this.media,b=void 0;a?(b=a.paused,a.pause()):b=!0;this.previouslyPaused=b}(a=this.fragCurrent)&&a.loader&&a.loader.abort();this.fragCurrent=null;
this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold;this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}},{key:"immediateLevelSwitchEnd",value:function(){var a=this.media;a&&a.buffered.length&&(this.immediateSwitch=!1,b["default"].isBuffered(a,a.currentTime)&&(a.currentTime-=1E-4),this.previouslyPaused||a.play())}},{key:"nextLevelSwitch",value:function(){var a=this.media;if(a&&a.readyState){var b,d=b=void 0;if(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold,b=this.getBufferedFrag(a.currentTime),
b&&1<b.startPTS&&this.flushMainBuffer(0,b.startPTS-1),a.paused)b=0;else{b=this.levels[this.hls.nextLoadLevel];var e=this.fragLastKbps;b=e&&this.fragCurrent?this.fragCurrent.duration*b.bitrate/(1E3*e)+1:0}(d=this.getBufferedFrag(a.currentTime+b))&&(d=this.followingBufferedFrag(d))&&((a=this.fragCurrent)&&a.loader&&a.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(d.startPTS,Number.POSITIVE_INFINITY))}}},{key:"flushMainBuffer",value:function(a,b){this.state="BUFFER_FLUSHING";var d={startOffset:a,
endOffset:b};this.altAudio&&(d.type="video");this.hls.trigger(k["default"].BUFFER_FLUSHING,d)}},{key:"onMediaAttached",value:function(a){a=this.media=this.mediaBuffer=a.media;this.onvseeking=this.onMediaSeeking.bind(this);this.onvseeked=this.onMediaSeeked.bind(this);this.onvended=this.onMediaEnded.bind(this);a.addEventListener("seeking",this.onvseeking);a.addEventListener("seeked",this.onvseeked);a.addEventListener("ended",this.onvended);a=this.config;this.levels&&a.autoStartLoad&&this.hls.startLoad(a.startPosition)}},
{key:"onMediaDetaching",value:function(){var a=this.media;a&&a.ended&&(f.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var b=this.levels;b&&b.forEach(function(a){a.details&&a.details.fragments.forEach(function(a){a.loadCounter=void 0;a.backtracked=void 0})});a&&(a.removeEventListener("seeking",this.onvseeking),a.removeEventListener("seeked",this.onvseeked),a.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=
null);this.media=this.mediaBuffer=null;this.loadedmetadata=!1;this.stopLoad()}},{key:"onMediaSeeking",value:function(){var a=this.media,d=a?a.currentTime:void 0,e=this.config;if(f.logger.log("media seeking to "+d.toFixed(3)),"FRAG_LOADING"===this.state){var c=b["default"].bufferInfo(this.mediaBuffer?this.mediaBuffer:a,d,this.config.maxBufferHole),k=this.fragCurrent;if(0===c.len&&k){var c=e.maxFragLookUpTolerance,l=k.start+k.duration+c;d<k.start-c||d>l?(k.loader&&(f.logger.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),
k.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state="IDLE"):f.logger.log("seeking outside of buffer but within currently loaded fragment range")}}else"ENDED"===this.state&&(this.state="IDLE");a&&(this.lastCurrentTime=d);"FRAG_LOADING"!==this.state&&void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*e.fragLoadingLoopThreshold);this.loadedmetadata||(this.nextLoadPosition=this.startPosition=d);this.tick()}},{key:"onMediaSeeked",value:function(){f.logger.log("media seeked to "+this.media.currentTime.toFixed(3));
this.tick()}},{key:"onMediaEnded",value:function(){f.logger.log("media ended");this.startPosition=this.lastCurrentTime=0}},{key:"onManifestLoading",value:function(){f.logger.log("trigger BUFFER_RESET");this.hls.trigger(k["default"].BUFFER_RESET);this._bufferedFrags=[];this.stalled=!1;this.startPosition=this.lastCurrentTime=0}},{key:"onManifestParsed",value:function(a){var b,d=!1,e=!1;a.levels.forEach(function(a){(b=a.audioCodec)&&(-1!==b.indexOf("mp4a.40.2")&&(d=!0),-1!==b.indexOf("mp4a.40.5")&&(e=
!0))});(this.audioCodecSwitch=d&&e)&&f.logger.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC");this.levels=a.levels;this.startFragRequested=this.startLevelLoaded=!1;a=this.config;(a.autoStartLoad||this.forceStartLoad)&&this.hls.startLoad(a.startPosition)}},{key:"onLevelLoaded",value:function(a){var b=a.details,d=a.level,e=this.levels[d];a=b.totalduration;var c=0;if(f.logger.log("level "+d+" loaded ["+b.startSN+","+b.endSN+"],duration:"+a),this.levelLastLoaded=d,b.live){var h=
e.details;h&&0<b.fragments.length?(l["default"].mergeDetails(h,b),c=b.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(c,h),b.PTSKnown?f.logger.log("live playlist sliding:"+c.toFixed(3)):f.logger.log("live playlist - outdated PTS, unknown sliding")):(b.PTSKnown=!1,f.logger.log("live playlist - first load, unknown sliding"))}else b.PTSKnown=!1;if(e.details=b,this.hls.trigger(k["default"].LEVEL_UPDATED,{details:b,level:d}),!1===this.startFragRequested){if(-1===this.startPosition||-1===
this.lastCurrentTime)d=b.startTimeOffset,isNaN(d)?b.live?(this.startPosition=this.computeLivePosition(c,b),f.logger.log("configure startPosition to "+this.startPosition)):this.startPosition=0:(0>d&&(f.logger.log("negative start time offset "+d+", count from end of last fragment"),d=c+a+d),f.logger.log("start time offset found in playlist, adjust startPosition to "+d),this.startPosition=d),this.lastCurrentTime=this.startPosition;this.nextLoadPosition=this.startPosition}"WAITING_LEVEL"===this.state&&
(this.state="IDLE");this.tick()}},{key:"onKeyLoaded",value:function(){"KEY_LOADING"===this.state&&(this.state="IDLE",this.tick())}},{key:"onFragLoaded",value:function(a){var b=this.fragCurrent,d=a.frag;if("FRAG_LOADING"===this.state&&b&&"main"===d.type&&d.level===b.level&&d.sn===b.sn){var e=a.stats,c=this.levels[b.level],l=c.details;if(f.logger.log("Loaded  "+b.sn+" of ["+l.startSN+" ,"+l.endSN+"],level "+b.level),this.bitrateTest=!1,this.stats=e,!0===d.bitrateTest&&this.hls.nextLoadLevel)this.state=
"IDLE",this.startFragRequested=!1,e.tparsed=e.tbuffered=performance.now(),this.hls.trigger(k["default"].FRAG_BUFFERED,{stats:e,frag:b,id:"main"}),this.tick();else if("initSegment"===d.sn)this.state="IDLE",e.tparsed=e.tbuffered=performance.now(),l.initSegment.data=a.payload,this.hls.trigger(k["default"].FRAG_BUFFERED,{stats:e,frag:b,id:"main"}),this.tick();else{this.state="PARSING";var d=l.totalduration,h=b.level,g=b.sn,e=this.config.defaultAudioCodec||c.audioCodec;this.audioCodecSwap&&(f.logger.log("swapping playlist audio codec"),
void 0===e&&(e=this.lastAudioCodec),e&&(e=-1!==e.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"));this.pendingBuffering=!0;this.appended=!1;f.logger.log("Parsing "+g+" of ["+l.startSN+" ,"+l.endSN+"],level "+h+", cc "+b.cc);(h=this.demuxer)||(h=this.demuxer=new n["default"](this.hls,"main"));g=this.media;h.push(a.payload,l.initSegment?l.initSegment.data:[],e,c.videoCodec,b,d,!(g&&g.seeking)&&(l.PTSKnown||!l.live),void 0)}}this.fragLoadError=0}},{key:"onFragParsingInitSegment",value:function(a){var b=
this.fragCurrent,d=a.frag;if(b&&"main"===a.id&&d.sn===b.sn&&d.level===b.level&&"PARSING"===this.state){var e,b=a.tracks;if(b.audio&&this.altAudio&&delete b.audio,d=b.audio){var c=this.levels[this.level].audioCodec,l=navigator.userAgent.toLowerCase();c&&this.audioCodecSwap&&(f.logger.log("swapping playlist audio codec"),c=-1!==c.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5");this.audioCodecSwitch&&1!==d.metadata.channelCount&&-1===l.indexOf("firefox")&&(c="mp4a.40.5");-1!==l.indexOf("android")&&"audio/mpeg"!==
d.container&&(c="mp4a.40.2",f.logger.log("Android: force audio codec to "+c));d.levelCodec=c;d.id=a.id}(d=b.video)&&(d.levelCodec=this.levels[this.level].videoCodec,d.id=a.id);this.hls.trigger(k["default"].BUFFER_CODECS,b);for(e in b)d=b[e],f.logger.log("main track:"+e+",container:"+d.container+",codecs[level/parsed]=["+d.levelCodec+"/"+d.codec+"]"),(a=d.initSegment)&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(k["default"].BUFFER_APPENDING,{type:e,data:a,parent:"main",content:"initSegment"}));
this.tick()}}},{key:"onFragParsingData",value:function(a){var b=this,d=this.fragCurrent,e=a.frag;if(d&&"main"===a.id&&e.sn===d.sn&&e.level===d.level&&("audio"!==a.type||!this.altAudio)&&"PARSING"===this.state){e=this.levels[this.level];if(isNaN(a.endPTS)&&(a.endPTS=a.startPTS+d.duration,a.endDTS=a.startDTS+d.duration),f.logger.log("Parsed "+a.type+",PTS:["+a.startPTS.toFixed(3)+","+a.endPTS.toFixed(3)+"],DTS:["+a.startDTS.toFixed(3)+"/"+a.endDTS.toFixed(3)+"],nb:"+a.nb+",dropped:"+(a.dropped||0)),
"video"===a.type)if(d.dropped=a.dropped,d.dropped){if(!d.backtracked)return d.backtracked=!0,this.nextLoadPosition=a.startPTS,this.state="IDLE",void this.tick();f.logger.warn("Already backtracked on this fragment, appending with the gap")}else d.backtracked=!1;var d=l["default"].updateFragPTSDTS(e.details,d.sn,a.startPTS,a.endPTS,a.startDTS,a.endDTS),c=this.hls;c.trigger(k["default"].LEVEL_PTS_UPDATED,{details:e.details,level:this.level,drift:d,type:a.type,start:a.startPTS,end:a.endPTS});[a.data1,
a.data2].forEach(function(d){d&&d.length&&"PARSING"===b.state&&(b.appended=!0,b.pendingBuffering=!0,c.trigger(k["default"].BUFFER_APPENDING,{type:a.type,data:d,parent:"main",content:"data"}))});this.tick()}}},{key:"onFragParsed",value:function(a){var b=this.fragCurrent,d=a.frag;b&&"main"===a.id&&d.sn===b.sn&&d.level===b.level&&"PARSING"===this.state&&(this.stats.tparsed=performance.now(),this.state="PARSED",this._checkAppendedParsed())}},{key:"onAudioTrackSwitching",value:function(a){var b=a.id;a.url||
(this.mediaBuffer!==this.media&&(f.logger.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media,a=this.fragCurrent,a.loader&&(f.logger.log("switching to main audio track, cancel main fragment load"),a.loader.abort()),this.fragPrevious=this.fragCurrent=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state="IDLE"),a=this.hls,a.trigger(k["default"].BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),
a.trigger(k["default"].AUDIO_TRACK_SWITCHED,{id:b}),this.altAudio=!1)}},{key:"onAudioTrackSwitched",value:function(a){if(a=!!this.hls.audioTracks[a.id].url){var b=this.videoBuffer;b&&this.mediaBuffer!==b&&(f.logger.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=b)}this.altAudio=a;this.tick()}},{key:"onBufferCreated",value:function(a){a=a.tracks;var b=void 0,d=void 0,e=!1,c;for(c in a){var k=a[c];"main"===k.id?(d=c,b=k,"video"===c&&(this.videoBuffer=
a[c].buffer)):e=!0}e&&b?(f.logger.log("alternate track found, use "+d+".buffered to schedule main fragment loading"),this.mediaBuffer=b.buffer):this.mediaBuffer=this.media}},{key:"onBufferAppended",value:function(a){if("main"===a.parent){var b=this.state;"PARSING"!==b&&"PARSED"!==b||(this.pendingBuffering=0<a.pending,this._checkAppendedParsed())}}},{key:"_checkAppendedParsed",value:function(){if(!("PARSED"!==this.state||this.appended&&this.pendingBuffering)){var a=this.fragCurrent;if(a){var e=this.mediaBuffer?
this.mediaBuffer:this.media;f.logger.log("main buffered : "+d["default"].toString(e.buffered));var c=this._bufferedFrags.filter(function(a){return b["default"].isBuffered(e,(a.startPTS+a.endPTS)/2)});c.push(a);this._bufferedFrags=c.sort(function(a,b){return a.startPTS-b.startPTS});this.fragPrevious=a;c=this.stats;c.tbuffered=performance.now();this.fragLastKbps=Math.round(8*c.total/(c.tbuffered-c.tfirst));this.hls.trigger(k["default"].FRAG_BUFFERED,{stats:c,frag:a,id:"main"});this.state="IDLE"}this.tick()}}},
{key:"onError",value:function(d){var e=d.frag||this.fragCurrent;if(!e||"main"===e.type){var c=this.media,c=c&&b["default"].isBuffered(c,c.currentTime)&&b["default"].isBuffered(c,c.currentTime+.5);switch(d.details){case a.ErrorDetails.FRAG_LOAD_ERROR:case a.ErrorDetails.FRAG_LOAD_TIMEOUT:case a.ErrorDetails.KEY_LOAD_ERROR:case a.ErrorDetails.KEY_LOAD_TIMEOUT:if(!d.fatal){var k=this.fragLoadError;k?k++:k=1;var l=this.config;k<=l.fragLoadingMaxRetry||c||e.autoLevel&&e.level?(this.fragLoadError=k,e.loadCounter=
0,d=Math.min(Math.pow(2,k-1)*l.fragLoadingRetryDelay,l.fragLoadingMaxRetryTimeout),f.logger.warn("mediaController: frag loading failed, retry in "+d+" ms"),this.retryDate=performance.now()+d,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.state="FRAG_LOADING_WAITING_RETRY"):(f.logger.error("mediaController: "+d.details+" reaches max retry, redispatch as fatal ..."),d.fatal=!0,this.state="ERROR")}break;case a.ErrorDetails.FRAG_LOOP_LOADING_ERROR:d.fatal||
(c?(this._reduceMaxBufferLength(e.duration),this.state="IDLE"):e.autoLevel&&0!==e.level||(d.fatal=!0,this.state="ERROR"));break;case a.ErrorDetails.LEVEL_LOAD_ERROR:case a.ErrorDetails.LEVEL_LOAD_TIMEOUT:"ERROR"!==this.state&&(d.fatal?(this.state="ERROR",f.logger.warn("streamController: "+d.details+",switch to "+this.state+" state ...")):"WAITING_LEVEL"===this.state&&(this.state="IDLE"));break;case a.ErrorDetails.BUFFER_FULL_ERROR:"main"!==d.parent||"PARSING"!==this.state&&"PARSED"!==this.state||
(c?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state="IDLE"):(f.logger.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)))}}}},{key:"_reduceMaxBufferLength",value:function(a){var b=this.config;b.maxMaxBufferLength>=a&&(b.maxMaxBufferLength/=2,f.logger.warn("main:reduce max buffer length to "+b.maxMaxBufferLength+"s"),this.fragLoadIdx+=2*b.fragLoadingLoopThreshold)}},{key:"_checkBuffer",
value:function(){var d=this.media;if(d&&d.readyState){var e=d.currentTime,c=this.mediaBuffer?this.mediaBuffer:d,l=c.buffered;if(!this.loadedmetadata&&l.length){this.loadedmetadata=!0;var h=d.seeking?e:this.startPosition,c=b["default"].isBuffered(c,h);e===h&&c||(f.logger.log("target start position:"+h),c||(h=l.start(0),f.logger.log("target start position not buffered, seek to buffered.start(0) "+h)),f.logger.log("adjust currentTime from "+e+" to "+h),d.currentTime=h)}else if(this.immediateSwitch)this.immediateLevelSwitchEnd();
else{var n=b["default"].bufferInfo(d,e,0),l=!(d.paused||d.ended||0===d.buffered.length),h=this.config;if(e!==this.lastCurrentTime)this.stallReported&&(f.logger.warn("playback not stuck anymore @"+e+", after "+Math.round(performance.now()-this.stalled)+"ms"),this.stallReported=!1),this.stalled=void 0,this.nudgeRetry=0;else if(l)if(c=performance.now(),l=this.hls,this.stalled){var g=c-this.stalled,r=n.len,c=this.nudgeRetry||0;.5>=r&&g>1E3*h.lowBufferWatchdogPeriod?(this.stallReported||(this.stallReported=
!0,f.logger.warn("playback stalling in low buffer @"+e),l.trigger(k["default"].ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:r})),n=n.nextStart,g=n-e,n&&g<h.maxSeekHole&&0<g&&(this.nudgeRetry=++c,h=c*h.nudgeOffset,f.logger.log("adjust currentTime from "+d.currentTime+" to next buffered @ "+n+" + nudge "+h),d.currentTime=n+h,this.stalled=void 0,l.trigger(k["default"].ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.BUFFER_SEEK_OVER_HOLE,
fatal:!1,hole:n+h-e}))):.5<r&&g>1E3*h.highBufferWatchdogPeriod&&((this.stallReported||(this.stallReported=!0,f.logger.warn("playback stalling in high buffer @"+e),l.trigger(k["default"].ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:r})),this.stalled=void 0,this.nudgeRetry=++c,c<h.nudgeMaxRetry)?(e=d.currentTime,h=e+c*h.nudgeOffset,f.logger.log("adjust currentTime from "+e+" to "+h),d.currentTime=h,l.trigger(k["default"].ERROR,{type:a.ErrorTypes.MEDIA_ERROR,
details:a.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})):(f.logger.error("still stuck in high buffer @"+e+" after "+h.nudgeMaxRetry+", raise fatal error"),l.trigger(k["default"].ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})))}else this.stalled=c,this.stallReported=!1}}}},{key:"onFragLoadEmergencyAborted",value:function(){this.state="IDLE";this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition);this.tick()}},{key:"onBufferFlushed",
value:function(){var a=this.mediaBuffer?this.mediaBuffer:this.media;this._bufferedFrags=this._bufferedFrags.filter(function(d){return b["default"].isBuffered(a,(d.startPTS+d.endPTS)/2)});this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold;this.state="IDLE";this.fragPrevious=null}},{key:"swapAudioCodec",value:function(){this.audioCodecSwap=!this.audioCodecSwap}},{key:"computeLivePosition",value:function(a,b){return a+Math.max(0,b.totalduration-(void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:
this.config.liveSyncDurationCount*b.targetduration))}},{key:"state",set:function(a){if(this.state!==a){var b=this.state;this._state=a;f.logger.log("main stream:"+b+"->"+a);this.hls.trigger(k["default"].STREAM_STATE_TRANSITION,{previousState:b,nextState:a})}},get:function(){return this._state}},{key:"currentLevel",get:function(){var a=this.media;return a&&(a=this.getBufferedFrag(a.currentTime))?a.level:-1}},{key:"nextBufferedFrag",get:function(){var a=this.media;return a?this.followingBufferedFrag(this.getBufferedFrag(a.currentTime)):
null}},{key:"nextLevel",get:function(){var a=this.nextBufferedFrag;return a?a.level:-1}},{key:"liveSyncPosition",get:function(){return this._liveSyncPosition},set:function(a){this._liveSyncPosition=a}}]),g}(r["default"]);q["default"]=c},{24:24,30:30,31:31,32:32,34:34,35:35,45:45,50:50,51:51}],13:[function(c,g,q){function m(b,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);b.prototype=Object.create(e&&e.prototype,{constructor:{value:b,
enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(b,e):b.__proto__=e)}Object.defineProperty(q,"__esModule",{value:!0});var p=function(){function b(b,e){for(var c=0;c<e.length;c++){var d=e[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(e,c,l){return c&&b(e.prototype,c),l&&b(e,l),e}}(),h=(g=c(32))&&g.__esModule?g:{"default":g},e=(g=c(31))&&g.__esModule?g:{"default":g},b=c(50);
c=function(c){function k(b){if(!(this instanceof k))throw new TypeError("Cannot call a class as a function");var e=(k.__proto__||Object.getPrototypeOf(k)).call(this,b,h["default"].ERROR,h["default"].SUBTITLE_TRACKS_UPDATED,h["default"].SUBTITLE_TRACK_SWITCH,h["default"].SUBTITLE_TRACK_LOADED,h["default"].SUBTITLE_FRAG_PROCESSED);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");e=!e||"object"!=typeof e&&"function"!=typeof e?this:e;return e.config=b.config,
e.vttFragSNsProcessed={},e.vttFragQueues=void 0,e.currentlyProcessing=null,e.currentTrackId=-1,e}return m(k,c),p(k,[{key:"destroy",value:function(){e["default"].prototype.destroy.call(this)}},{key:"clearVttFragQueues",value:function(){var b=this;this.vttFragQueues={};this.tracks.forEach(function(e){b.vttFragQueues[e.id]=[]})}},{key:"nextFrag",value:function(){if(null===this.currentlyProcessing&&-1<this.currentTrackId&&this.vttFragQueues[this.currentTrackId].length){var b=this.currentlyProcessing=
this.vttFragQueues[this.currentTrackId].shift();this.hls.trigger(h["default"].FRAG_LOADING,{frag:b})}}},{key:"onSubtitleFragProcessed",value:function(b){b.success&&this.vttFragSNsProcessed[b.frag.trackId].push(b.frag.sn);this.currentlyProcessing=null;this.nextFrag()}},{key:"onError",value:function(b){(b=b.frag)&&"subtitle"!==b.type||this.currentlyProcessing&&(this.currentlyProcessing=null,this.nextFrag())}},{key:"onSubtitleTracksUpdated",value:function(e){var c=this;b.logger.log("subtitle tracks updated");
this.tracks=e.subtitleTracks;this.clearVttFragQueues();this.vttFragSNsProcessed={};this.tracks.forEach(function(b){c.vttFragSNsProcessed[b.id]=[]})}},{key:"onSubtitleTrackSwitch",value:function(b){this.currentTrackId=b.id;this.clearVttFragQueues()}},{key:"onSubtitleTrackLoaded",value:function(b){var e=this.vttFragSNsProcessed[b.id],d=this.vttFragQueues[b.id],a=this.currentlyProcessing?this.currentlyProcessing.sn:-1,f=function(a){return d.some(function(b){return b.sn===a.sn})};b.details.fragments.forEach(function(c){-1<
e.indexOf(c.sn)||c.sn===a||f(c)||(c.trackId=b.id,d.push(c))});this.nextFrag()}}]),k}(e["default"]);q["default"]=c},{31:31,32:32,50:50}],14:[function(c,g,q){function m(b,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);b.prototype=Object.create(e&&e.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(b,e):b.__proto__=e)}Object.defineProperty(q,"__esModule",
{value:!0});var p=function(){function b(b,e){for(var c=0;c<e.length;c++){var d=e[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(e,c,h){return c&&b(e.prototype,c),h&&b(e,h),e}}(),h=(g=c(32))&&g.__esModule?g:{"default":g},e=(g=c(31))&&g.__esModule?g:{"default":g},b=c(50);c=function(c){function k(b){if(!(this instanceof k))throw new TypeError("Cannot call a class as a function");b=(k.__proto__||Object.getPrototypeOf(k)).call(this,
b,h["default"].MEDIA_ATTACHED,h["default"].MEDIA_DETACHING,h["default"].MANIFEST_LOADING,h["default"].MANIFEST_LOADED,h["default"].SUBTITLE_TRACK_LOADED);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");b=!b||"object"!=typeof b&&"function"!=typeof b?this:b;return b.tracks=[],b.trackId=-1,b.media=void 0,b}return m(k,c),p(k,[{key:"destroy",value:function(){e["default"].prototype.destroy.call(this)}},{key:"onMediaAttached",value:function(b){var e=this;(this.media=
b.media)&&this.media.textTracks.addEventListener("change",function(){if(e.media){for(var b=-1,a=e.media.textTracks,f=0;f<a.length;f++)"showing"===a[f].mode&&(b=f);e.subtitleTrack=b}})}},{key:"onMediaDetaching",value:function(){this.media=void 0}},{key:"onManifestLoading",value:function(){this.tracks=[];this.trackId=-1}},{key:"onManifestLoaded",value:function(b){var e=this;this.tracks=b=b.subtitles||[];this.trackId=-1;this.hls.trigger(h["default"].SUBTITLE_TRACKS_UPDATED,{subtitleTracks:b});b.forEach(function(b){b["default"]&&
(e.subtitleTrack=b.id)})}},{key:"onTick",value:function(){var e=this.trackId,c=this.tracks[e];if(c){var d=c.details;void 0!==d&&!0!==d.live||(b.logger.log("(re)loading playlist for subtitle track "+e),this.hls.trigger(h["default"].SUBTITLE_TRACK_LOADING,{url:c.url,id:e}))}}},{key:"onSubtitleTrackLoaded",value:function(e){var c=this;e.id<this.tracks.length&&(b.logger.log("subtitle track "+e.id+" loaded"),this.tracks[e.id].details=e.details,e.details.live&&!this.timer&&(this.timer=setInterval(function(){c.onTick()},
1E3*e.details.targetduration,this)),!e.details.live&&this.timer&&(clearInterval(this.timer),this.timer=null))}},{key:"setSubtitleTrackInternal",value:function(e){if(0<=e&&e<this.tracks.length){this.timer&&(clearInterval(this.timer),this.timer=null);this.trackId=e;b.logger.log("switching to subtitle track "+e);var c=this.tracks[e];this.hls.trigger(h["default"].SUBTITLE_TRACK_SWITCH,{id:e});var d=c.details;void 0!==d&&!0!==d.live||(b.logger.log("(re)loading playlist for subtitle track "+e),this.hls.trigger(h["default"].SUBTITLE_TRACK_LOADING,
{url:c.url,id:e}))}}},{key:"subtitleTracks",get:function(){return this.tracks}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(b){this.trackId!==b&&this.setSubtitleTrackInternal(b)}}]),k}(e["default"]);q["default"]=c},{31:31,32:32,50:50}],15:[function(c,g,q){function m(a){return a&&a.__esModule?a:{"default":a}}function p(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,
b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function e(a){if(a&&a.cues)for(;0<a.cues.length;)a.removeCue(a.cues[0])}Object.defineProperty(q,"__esModule",{value:!0});var b=function(){function a(a,b){for(var d=0;d<b.length;d++){var e=b[d];e.enumerable=
e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(b,d,e){return d&&a(b.prototype,d),e&&a(b,e),b}}();g=c(32);var n=m(g);g=c(31);var k=m(g);g=c(46);var r=m(g);g=c(54);var l=m(g),d=c(50);c=function(a){function f(a){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");var b=p(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,a,n["default"].MEDIA_ATTACHING,n["default"].MEDIA_DETACHING,n["default"].FRAG_PARSING_USERDATA,
n["default"].MANIFEST_LOADING,n["default"].MANIFEST_LOADED,n["default"].FRAG_LOADED,n["default"].LEVEL_SWITCHING,n["default"].INIT_PTS_FOUND));if(b.hls=a,b.config=a.config,b.enabled=!0,b.Cues=a.config.cueHandler,b.textTracks=[],b.tracks=[],b.unparsedVttFrags=[],b.initPTS=void 0,b.cueRanges=[],b.config.enableCEA708Captions){var d=function(a,b){var d=null;try{d=new window.Event("addtrack")}catch(L){d=document.createEvent("Event"),d.initEvent("addtrack",!1,!1)}d.track=a;b.dispatchEvent(d)};b.cea608Parser=
new r["default"](0,{newCue:function(a,f,c){if(!b.textTrack1){var k=b.getExistingTrack("1");k?(b.textTrack1=k,e(b.textTrack1),d(b.textTrack1,b.media)):(k=b.createTextTrack("captions",b.config.captionsTextTrack1Label,b.config.captionsTextTrack1LanguageCode))&&(k.textTrack1=!0,b.textTrack1=k)}b.addCues("textTrack1",a,f,c)}},{newCue:function(a,f,c){if(!b.textTrack2){var k=b.getExistingTrack("2");k?(b.textTrack2=k,e(b.textTrack2),d(b.textTrack2,b.media)):(k=b.createTextTrack("captions",b.config.captionsTextTrack2Label,
b.config.captionsTextTrack1LanguageCode))&&(k.textTrack2=!0,b.textTrack2=k)}b.addCues("textTrack2",a,f,c)}})}return b}return h(f,a),b(f,[{key:"addCues",value:function(a,b,d,e){for(var f=this.cueRanges,c=!1,k=f.length;k--;){var h=f[k],l=Math.min(h[1],d)-Math.max(h[0],b);if(0<=l&&(h[0]=Math.min(h[0],b),h[1]=Math.max(h[1],d),c=!0,.5<l/(d-b)))return}c||f.push([b,d]);this.Cues.newCue(this[a],b,d,e)}},{key:"onInitPtsFound",value:function(a){var b=this;void 0===this.initPTS&&(this.initPTS=a.initPTS);this.unparsedVttFrags.length&&
(this.unparsedVttFrags.forEach(function(a){b.onFragLoaded(a)}),this.unparsedVttFrags=[])}},{key:"getExistingTrack",value:function(a){var b=this.media;if(b)for(var d=0;d<b.textTracks.length;d++){var e=b.textTracks[d];if(!0===e["textTrack"+a])return e}return null}},{key:"createTextTrack",value:function(a,b,d){var e=this.media;if(e)return e.addTextTrack(a,b,d)}},{key:"destroy",value:function(){k["default"].prototype.destroy.call(this)}},{key:"onMediaAttaching",value:function(a){this.media=a.media}},
{key:"onMediaDetaching",value:function(){e(this.textTrack1);e(this.textTrack2)}},{key:"onManifestLoading",value:function(){this.prevCC=this.lastSn=-1;this.vttCCs={ccOffset:0,presentationOffset:0};var a=this.media;if(a&&(a=a.textTracks))for(var b=0;b<a.length;b++)e(a[b])}},{key:"onManifestLoaded",value:function(a){var b=this;if(this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=void 0,this.cueRanges=[],this.config.enableWebVTT){this.tracks=a.subtitles||[];var d=this.media?
this.media.textTracks:[];this.tracks.forEach(function(a,e){var f=void 0;if(e<d.length){var c=d[e];c&&c.label===a.name&&!c.textTrack1&&!c.textTrack2&&(f=c)}f||(f=b.createTextTrack("subtitles",a.name,a.lang));f.mode=a["default"]?"showing":"hidden";b.textTracks.push(f)})}}},{key:"onLevelSwitching",value:function(){this.enabled="NONE"!==this.hls.currentLevel.closedCaptions}},{key:"onFragLoaded",value:function(a){var b=a.frag,e=a.payload;if("main"===b.type)e=b.sn,e!==this.lastSn+1&&this.cea608Parser.reset(),
this.lastSn=e;else if("subtitle"===b.type)if(e.byteLength){if(void 0===this.initPTS)return void this.unparsedVttFrags.push(a);a=this.vttCCs;a[b.cc]||(a[b.cc]={start:b.start,prevCC:this.prevCC,"new":!0},this.prevCC=b.cc);var f=this.textTracks,c=this.hls;l["default"].parse(e,this.initPTS,a,b.cc,function(a){a.forEach(function(a){f[b.trackId].addCue(a)});c.trigger(n["default"].SUBTITLE_FRAG_PROCESSED,{success:!0,frag:b})},function(a){d.logger.log("Failed to parse VTT cue: "+a);c.trigger(n["default"].SUBTITLE_FRAG_PROCESSED,
{success:!1,frag:b})})}else this.hls.trigger(n["default"].SUBTITLE_FRAG_PROCESSED,{success:!1,frag:b})}},{key:"onFragParsingUserdata",value:function(a){if(this.enabled&&this.config.enableCEA708Captions)for(var b=0;b<a.samples.length;b++){var d=this.extractCea608Data(a.samples[b].bytes);this.cea608Parser.addData(a.samples[b].pts,d)}}},{key:"extractCea608Data",value:function(a){for(var b,d,e,f,c=31&a[0],k=2,h=[],l=0;l<c;l++)b=a[k++],d=127&a[k++],e=127&a[k++],f=0!=(4&b),b&=3,0===d&&0===e||f&&0===b&&
(h.push(d),h.push(e));return h}}]),f}(k["default"]);q["default"]=c},{31:31,32:32,46:46,50:50,54:54}],16:[function(c,g,q){Object.defineProperty(q,"__esModule",{value:!0});var m=function(){function c(c,e){for(var b=0;b<e.length;b++){var h=e[b];h.enumerable=h.enumerable||!1;h.configurable=!0;"value"in h&&(h.writable=!0);Object.defineProperty(c,h.key,h)}}return function(h,e,b){return e&&c(h.prototype,e),b&&c(h,b),h}}();c=function(){function c(h,e){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");
this.subtle=h;this.aesIV=e}return m(c,[{key:"decrypt",value:function(c,e){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},e,c)}}]),c}();q["default"]=c},{}],17:[function(c,g,q){Object.defineProperty(q,"__esModule",{value:!0});var m=function(){function c(c,e){for(var b=0;b<e.length;b++){var h=e[b];h.enumerable=h.enumerable||!1;h.configurable=!0;"value"in h&&(h.writable=!0);Object.defineProperty(c,h.key,h)}}return function(h,e,b){return e&&c(h.prototype,e),b&&c(h,b),h}}();c=function(){function c(){if(!(this instanceof
c))throw new TypeError("Cannot call a class as a function");this.rcon=[0,1,2,4,8,16,32,64,128,27,54];this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)];this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)];this.sBox=new Uint32Array(256);this.invSBox=new Uint32Array(256);this.key=new Uint32Array(0);this.initTable()}return m(c,[{key:"uint8ArrayToUint32Array_",value:function(c){c=new DataView(c);for(var e=new Uint32Array(4),
b=0;4>b;b++)e[b]=c.getUint32(4*b);return e}},{key:"initTable",value:function(){var c=this.sBox,e=this.invSBox,b=this.subMix,n=b[0],k=b[1],g=b[2],b=b[3],l=this.invSubMix,d=l[0],a=l[1],f=l[2],l=l[3],m=new Uint32Array(256),p=0,u=0,q;for(q=0;256>q;q++)m[q]=128>q?q<<1:q<<1^283;for(q=0;256>q;q++){var x=u^u<<1^u<<2^u<<3^u<<4,x=x>>>8^255&x^99;c[p]=x;e[x]=p;var A=m[p],L=m[A],t=m[L],E=257*m[x]^16843008*x;n[p]=E<<24|E>>>8;k[p]=E<<16|E>>>16;g[p]=E<<8|E>>>24;b[p]=E;E=16843009*t^65537*L^257*A^16843008*p;d[x]=E<<
24|E>>>8;a[x]=E<<16|E>>>16;f[x]=E<<8|E>>>24;l[x]=E;p?(p=A^m[m[m[t^A]]],u^=m[m[u]]):p=u=1}}},{key:"expandKey",value:function(c){c=this.uint8ArrayToUint32Array_(c);for(var e=!0,b=0;b<c.length&&e;)e=c[b]===this.key[b],b++;if(!e){this.key=c;var h=this.keySize=c.length;if(4!==h&&6!==h&&8!==h)throw Error("Invalid aes key size="+h);var e=this.ksRows=4*(h+6+1),b=this.keySchedule=new Uint32Array(e),k=this.invKeySchedule=new Uint32Array(e),g=this.sBox,l=this.rcon;var d=this.invSubMix;var a=d[0],f=d[1],m=d[2],
p=d[3],u=void 0,q=void 0;for(d=0;d<e;d++)d<h?u=b[d]=c[d]:(q=u,0==d%h?(q=q<<8|q>>>24,q=g[q>>>24]<<24|g[q>>>16&255]<<16|g[q>>>8&255]<<8|g[255&q],q^=l[d/h|0]<<24):6<h&&4==d%h&&(q=g[q>>>24]<<24|g[q>>>16&255]<<16|g[q>>>8&255]<<8|g[255&q]),b[d]=u=(b[d-h]^q)>>>0);for(c=0;c<e;c++)d=e-c,q=3&c?b[d]:b[d-4],k[c]=4>c||4>=d?q:a[g[q>>>24]]^f[g[q>>>16&255]]^m[g[q>>>8&255]]^p[g[255&q]],k[c]>>>=0}}},{key:"networkToHostOrderSwap",value:function(c){return c<<24|(65280&c)<<8|(16711680&c)>>8|c>>>24}},{key:"decrypt",value:function(c,
e,b){var h,k=this.keySize+6,g=this.invKeySchedule,l=this.invSBox,d=this.invSubMix,a=d[0],f=d[1],m=d[2],d=d[3],p=this.uint8ArrayToUint32Array_(b);b=p[0];for(var q=p[1],u=p[2],p=p[3],x=new Int32Array(c),A=new Int32Array(x.length),L,t,E,w,F,G,M,J,B,O,N,I=this.networkToHostOrderSwap;e<x.length;){J=I(x[e]);B=I(x[e+1]);O=I(x[e+2]);N=I(x[e+3]);F=J^g[0];G=N^g[1];M=O^g[2];w=B^g[3];c=4;for(h=1;h<k;h++)L=a[F>>>24]^f[G>>16&255]^m[M>>8&255]^d[255&w]^g[c],t=a[G>>>24]^f[M>>16&255]^m[w>>8&255]^d[255&F]^g[c+1],E=
a[M>>>24]^f[w>>16&255]^m[F>>8&255]^d[255&G]^g[c+2],w=a[w>>>24]^f[F>>16&255]^m[G>>8&255]^d[255&M]^g[c+3],F=L,G=t,M=E,c+=4;L=l[F>>>24]<<24^l[G>>16&255]<<16^l[M>>8&255]<<8^l[255&w]^g[c];t=l[G>>>24]<<24^l[M>>16&255]<<16^l[w>>8&255]<<8^l[255&F]^g[c+1];E=l[M>>>24]<<24^l[w>>16&255]<<16^l[F>>8&255]<<8^l[255&G]^g[c+2];w=l[w>>>24]<<24^l[F>>16&255]<<16^l[G>>8&255]<<8^l[255&M]^g[c+3];A[e]=I(L^b);A[e+1]=I(w^q);A[e+2]=I(E^u);A[e+3]=I(t^p);b=J;q=B;u=O;p=N;e+=4}return A.buffer}},{key:"destroy",value:function(){this.rcon=
this.invKeySchedule=this.keySchedule=this.invSubMix=this.subMix=this.invSBox=this.sBox=this.ksRows=this.keySize=this.key=void 0}}]),c}();q["default"]=c},{}],18:[function(c,g,q){function m(b){return b&&b.__esModule?b:{"default":b}}Object.defineProperty(q,"__esModule",{value:!0});var p=function(){function b(b,d){for(var a=0;a<d.length;a++){var e=d[a];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(b,e.key,e)}}return function(e,d,a){return d&&b(e.prototype,
d),a&&b(e,a),e}}();g=c(16);var h=m(g);g=c(19);var e=m(g);g=c(17);var b=m(g),n=c(30),k=c(50);c=function(){function c(b,d){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.observer=b;this.config=d;this.logEnabled=!0;try{var a=crypto||self.crypto;this.subtle=a.subtle||a.webkitSubtle}catch(f){}this.disableWebCrypto=!this.subtle}return p(c,[{key:"isSync",value:function(){return this.disableWebCrypto&&this.config.enableSoftwareAES}},{key:"decrypt",value:function(c,d,
a,f){var l=this;if(this.disableWebCrypto&&this.config.enableSoftwareAES){this.logEnabled&&(k.logger.log("JS AES decrypt"),this.logEnabled=!1);var g=this.decryptor;g||(this.decryptor=g=new b["default"]);g.expandKey(d);f(g.decrypt(c,0,a))}else{this.logEnabled&&(k.logger.log("WebCrypto AES decrypt"),this.logEnabled=!1);var n=this.subtle;this.key!==d&&(this.key=d,this.fastAesKey=new e["default"](n,d));this.fastAesKey.expandKey().then(function(b){(new h["default"](n,a)).decrypt(c,b)["catch"](function(b){l.onWebCryptoError(b,
c,d,a,f)}).then(function(a){f(a)})})["catch"](function(b){l.onWebCryptoError(b,c,d,a,f)})}}},{key:"onWebCryptoError",value:function(b,d,a,e,c){this.config.enableSoftwareAES?(k.logger.log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.logEnabled=!0,this.decrypt(d,a,e,c)):(k.logger.error("decrypting error : "+b.message),this.observer.trigger(Event.ERROR,{type:n.ErrorTypes.MEDIA_ERROR,details:n.ErrorDetails.FRAG_DECRYPT_ERROR,fatal:!0,reason:b.message}))}},{key:"destroy",value:function(){var b=
this.decryptor;b&&(b.destroy(),this.decryptor=void 0)}}]),c}();q["default"]=c},{16:16,17:17,19:19,30:30,50:50}],19:[function(c,g,q){Object.defineProperty(q,"__esModule",{value:!0});var m=function(){function c(c,e){for(var b=0;b<e.length;b++){var h=e[b];h.enumerable=h.enumerable||!1;h.configurable=!0;"value"in h&&(h.writable=!0);Object.defineProperty(c,h.key,h)}}return function(h,e,b){return e&&c(h.prototype,e),b&&c(h,b),h}}();c=function(){function c(h,e){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");
this.subtle=h;this.key=e}return m(c,[{key:"expandKey",value:function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])}}]),c}();q["default"]=c},{}],20:[function(c,g,q){Object.defineProperty(q,"__esModule",{value:!0});var m=function(){function b(b,e){for(var c=0;c<e.length;c++){var k=e[c];k.enumerable=k.enumerable||!1;k.configurable=!0;"value"in k&&(k.writable=!0);Object.defineProperty(b,k.key,k)}}return function(e,c,h){return c&&b(e.prototype,c),h&&b(e,h),e}}(),
p=(g=c(21))&&g.__esModule?g:{"default":g},h=c(50),e=(c=c(26))&&c.__esModule?c:{"default":c};c=function(){function b(e,c,h){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.observer=e;this.config=h;this.remuxer=c}return m(b,[{key:"resetInitSegment",value:function(b,e,c,h){this._aacTrack={container:"audio/adts",type:"audio",id:-1,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:e,duration:h,inputTimeScale:9E4}}},{key:"resetTimeStamp",value:function(){}},
{key:"append",value:function(b,c,g,l){var d,a,f,k,n=new e["default"](b),r=90*n.timeStamp;var m=this._aacTrack;var q=n.length;for(k=b.length;q<k-1&&(255!==b[q]||240!=(240&b[q+1]));q++);m.samplerate||(d=p["default"].getAudioConfig(this.observer,b,q,m.manifestCodec),m.config=d.config,m.samplerate=d.samplerate,m.channelCount=d.channelCount,m.codec=d.codec,h.logger.log("parsed codec:"+m.codec+",rate:"+d.samplerate+",nb channel:"+d.channelCount));var A=0;for(d=9216E4/m.samplerate;q+5<k&&(f=1&b[q+1]?7:9,
a=(3&b[q+3])<<11|b[q+4]<<3|(224&b[q+5])>>>5,0<(a-=f)&&q+f+a<=k);){var u=r+A*d;u={unit:b.subarray(q+f,q+f+a),pts:u,dts:u};m.samples.push(u);m.len+=a;q+=a+f;for(A++;q<k-1&&(255!==b[q]||240!=(240&b[q+1]));q++);}this.remuxer.remux(m,{samples:[]},{samples:[{pts:r,dts:r,unit:n.payload}]},{samples:[]},c,g,l)}},{key:"destroy",value:function(){}}],[{key:"probe",value:function(b){var c;var h=new e["default"](b);if(h.hasTimeStamp)for(h=h.length,c=b.length;h<c-1;h++)if(255===b[h]&&240==(240&b[h+1]))return!0;
return!1}}]),b}();q["default"]=c},{21:21,26:26,50:50}],21:[function(c,g,q){var m=c(50),p=c(30);g.exports={getAudioConfig:function(c,e,b,g){var k,h,l,d,a,f=navigator.userAgent.toLowerCase(),n=[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350];return k=1+((192&e[b+2])>>>6),(h=(60&e[b+2])>>>2)>n.length-1?void c.trigger(Event.ERROR,{type:p.ErrorTypes.MEDIA_ERROR,details:p.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+h}):(d=(1&e[b+2])<<2,d|=(192&e[b+
3])>>>6,m.logger.log("manifest codec:"+g+",ADTS data:type:"+k+",sampleingIndex:"+h+"["+n[h]+"Hz],channelConfig:"+d),/firefox/i.test(f)?6<=h?(k=5,a=Array(4),l=h-3):(k=2,a=Array(2),l=h):-1!==f.indexOf("android")?(k=2,a=Array(2),l=h):(k=5,a=Array(4),g&&(-1!==g.indexOf("mp4a.40.29")||-1!==g.indexOf("mp4a.40.5"))||!g&&6<=h?l=h-3:((g&&-1!==g.indexOf("mp4a.40.2")&&6<=h&&1===d||!g&&1===d)&&(k=2,a=Array(2)),l=h)),a[0]=k<<3,a[0]|=(14&h)>>1,a[1]|=(1&h)<<7,a[1]|=d<<3,5===k&&(a[1]|=(14&l)>>1,a[2]=(1&l)<<7,a[2]|=
8,a[3]=0),{config:a,samplerate:n[h],channelCount:d,codec:"mp4a.40."+k,manifestCodec:g})}}},{30:30,50:50}],22:[function(c,g,q){function m(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(q,"__esModule",{value:!0});var p=function(){function a(a,b){for(var d=0;d<b.length;d++){var e=b[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(b,d,e){return d&&a(b.prototype,d),e&&a(b,e),b}}();g=c(32);var h=m(g),e=c(30);
g=c(18);var b=m(g);g=c(20);var n=m(g);g=c(27);var k=m(g);g=c(29);var r=m(g);g=c(42);var l=m(g);c=c(43);var d=m(c);c=function(){function a(b,d,e,c){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.observer=b;this.typeSupported=d;this.config=e;this.vendor=c}return p(a,[{key:"destroy",value:function(){var a=this.demuxer;a&&a.destroy()}},{key:"push",value:function(a,d,e,c,k,l,g,n,r,m,p,q){if(0<a.byteLength&&null!=d&&null!=d.key&&"AES-128"===d.method){var f=this.decrypter;
null==f&&(f=this.decrypter=new b["default"](this.observer,this.config));var A=this;try{var u=performance.now()}catch(B){u=Date.now()}f.decrypt(a,d.key.buffer,d.iv.buffer,function(a){try{var b=performance.now()}catch(N){b=Date.now()}A.observer.trigger(h["default"].FRAG_DECRYPTED,{stats:{tstart:u,tdecrypt:b}});A.pushDecrypted(new Uint8Array(a),d,new Uint8Array(e),c,k,l,g,n,r,m,p,q)})}else this.pushDecrypted(new Uint8Array(a),d,new Uint8Array(e),c,k,l,g,n,r,m,p,q)}},{key:"pushDecrypted",value:function(a,
b,c,g,m,p,A,q,u,t,w,F){var f=this.demuxer;if(!f||A&&!this.probe(a)){var x=this.observer,y=this.typeSupported,L=this.config,C=[{demux:r["default"],remux:l["default"]},{demux:n["default"],remux:l["default"]},{demux:k["default"],remux:d["default"]}],H;for(H in C){var E=C[H],D=E.demux.probe;if(D(a)){f=this.remuxer=new E.remux(x,L,y,this.vendor);f=new E.demux(x,f,L,y);this.probe=D;break}}if(!f)return void x.trigger(h["default"].ERROR,{type:e.ErrorTypes.MEDIA_ERROR,details:e.ErrorDetails.FRAG_PARSING_ERROR,
fatal:!0,reason:"no demux matching with content found"});this.demuxer=f}x=this.remuxer;(A||q)&&(f.resetInitSegment(c,g,m,t),x.resetInitSegment());A&&(f.resetTimeStamp(),x.resetTimeStamp(F));"function"==typeof f.setDecryptData&&f.setDecryptData(b);f.append(a,p,u,w)}}]),a}();q["default"]=c},{18:18,20:20,27:27,29:29,30:30,32:32,42:42,43:43}],23:[function(c,g,q){function m(b){return b&&b.__esModule?b:{"default":b}}Object.defineProperty(q,"__esModule",{value:!0});g=c(22);var p=m(g);g=c(32);var h=m(g),
e=c(50);c=c(1);var b=m(c);q["default"]=function(c){var k=new b["default"];k.trigger=function(b){for(var d=arguments.length,a=Array(1<d?d-1:0),e=1;e<d;e++)a[e-1]=arguments[e];k.emit.apply(k,[b,b].concat(a))};k.off=function(b){for(var d=arguments.length,a=Array(1<d?d-1:0),e=1;e<d;e++)a[e-1]=arguments[e];k.removeListener.apply(k,[b].concat(a))};var g=function(b,d){c.postMessage({event:b,data:d})};c.addEventListener("message",function(b){b=b.data;switch(b.cmd){case "init":var d=JSON.parse(b.config);c.demuxer=
new p["default"](k,b.typeSupported,d,b.vendor);try{(0,e.enableLogs)(!0===d.debug)}catch(a){console.warn("demuxerWorker: unable to enable logs")}g("init",null);break;case "demux":c.demuxer.push(b.data,b.decryptdata,b.initSegment,b.audioCodec,b.videoCodec,b.timeOffset,b.discontinuity,b.trackSwitch,b.contiguous,b.duration,b.accurateTimeOffset,b.defaultInitPTS)}});k.on(h["default"].FRAG_DECRYPTED,g);k.on(h["default"].FRAG_PARSING_INIT_SEGMENT,g);k.on(h["default"].FRAG_PARSED,g);k.on(h["default"].ERROR,
g);k.on(h["default"].FRAG_PARSING_METADATA,g);k.on(h["default"].FRAG_PARSING_USERDATA,g);k.on(h["default"].INIT_PTS_FOUND,g);k.on(h["default"].FRAG_PARSING_DATA,function(b,d){var a=[],e={event:b,data:d};d.data1&&(e.data1=d.data1.buffer,a.push(d.data1.buffer),delete d.data1);d.data2&&(e.data2=d.data2.buffer,a.push(d.data2.buffer),delete d.data2);c.postMessage(e,a)})}},{1:1,22:22,32:32,50:50}],24:[function(c,g,q){function m(b){return b&&b.__esModule?b:{"default":b}}Object.defineProperty(q,"__esModule",
{value:!0});var p=function(){function b(b,a){for(var d=0;d<a.length;d++){var e=a[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(b,e.key,e)}}return function(d,a,e){return a&&b(d.prototype,a),e&&b(d,e),d}}();g=c(32);var h=m(g);g=c(22);var e=m(g);g=c(23);var b=m(g),n=c(50),k=c(30);g=c(1);var r=m(g);g=function(){function g(d,a){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");this.hls=d;this.id=a;var f=this.observer=
new r["default"],l=d.config;f.trigger=function(a){for(var b=arguments.length,d=Array(1<b?b-1:0),e=1;e<b;e++)d[e-1]=arguments[e];f.emit.apply(f,[a,a].concat(d))};f.off=function(a){for(var b=arguments.length,d=Array(1<b?b-1:0),e=1;e<b;e++)d[e-1]=arguments[e];f.removeListener.apply(f,[a].concat(d))};var m=function(a,b){b=b||{};b.frag=this.frag;b.id=this.id;d.trigger(a,b)}.bind(this);f.on(h["default"].FRAG_DECRYPTED,m);f.on(h["default"].FRAG_PARSING_INIT_SEGMENT,m);f.on(h["default"].FRAG_PARSING_DATA,
m);f.on(h["default"].FRAG_PARSED,m);f.on(h["default"].ERROR,m);f.on(h["default"].FRAG_PARSING_METADATA,m);f.on(h["default"].FRAG_PARSING_USERDATA,m);f.on(h["default"].INIT_PTS_FOUND,m);var m={mp4:MediaSource.isTypeSupported("video/mp4"),mpeg:MediaSource.isTypeSupported("audio/mpeg"),mp3:MediaSource.isTypeSupported('audio/mp4; codecs="mp3"')},p=navigator.vendor;if(l.enableWorker&&"undefined"!=typeof Worker){n.logger.log("demuxing in webworker");var q=void 0;try{q=this.w=c(3)(b["default"]),this.onwmsg=
this.onWorkerMessage.bind(this),q.addEventListener("message",this.onwmsg),q.onerror=function(a){d.trigger(h["default"].ERROR,{type:k.ErrorTypes.OTHER_ERROR,details:k.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:a.message+" ("+a.filename+":"+a.lineno+")"}})},q.postMessage({cmd:"init",typeSupported:m,vendor:p,id:a,config:JSON.stringify(l)})}catch(x){n.logger.error("error while initializing DemuxerWorker, fallback on DemuxerInline"),q&&URL.revokeObjectURL(q.objectURL),
this.demuxer=new e["default"](f,m,l,p),this.w=void 0}}else this.demuxer=new e["default"](f,m,l,p)}return p(g,[{key:"destroy",value:function(){var b=this.w;b?(b.removeEventListener("message",this.onwmsg),b.terminate(),this.w=null):(b=this.demuxer)&&(b.destroy(),this.demuxer=null);(b=this.observer)&&(b.removeAllListeners(),this.observer=null)}},{key:"push",value:function(b,a,e,c,k,h,g,l){var d=this.w,f=isNaN(k.startDTS)?k.start:k.startDTS,m=k.decryptdata,r=this.frag,p=!(r&&k.cc===r.cc),q=!(r&&k.level===
r.level),r=r&&k.sn===r.sn+1,r=!q&&r;(p&&n.logger.log(this.id+":discontinuity detected"),q&&n.logger.log(this.id+":switch detected"),this.frag=k,d)?d.postMessage({cmd:"demux",data:b,decryptdata:m,initSegment:a,audioCodec:e,videoCodec:c,timeOffset:f,discontinuity:p,trackSwitch:q,contiguous:r,duration:h,accurateTimeOffset:g,defaultInitPTS:l},[b]):(k=this.demuxer)&&k.push(b,m,a,e,c,f,p,q,r,h,g,l)}},{key:"onWorkerMessage",value:function(b){b=b.data;var a=this.hls;switch(b.event){case "init":URL.revokeObjectURL(this.w.objectURL);
break;case h["default"].FRAG_PARSING_DATA:b.data.data1=new Uint8Array(b.data1),b.data2&&(b.data.data2=new Uint8Array(b.data2));default:b.data=b.data||{},b.data.frag=this.frag,b.data.id=this.id,a.trigger(b.event,b.data)}}}]),g}();q["default"]=g},{1:1,22:22,23:23,3:3,30:30,32:32,50:50}],25:[function(c,g,q){Object.defineProperty(q,"__esModule",{value:!0});var m=function(){function c(e,b){for(var c=0;c<b.length;c++){var k=b[c];k.enumerable=k.enumerable||!1;k.configurable=!0;"value"in k&&(k.writable=!0);
Object.defineProperty(e,k.key,k)}}return function(e,b,h){return b&&c(e.prototype,b),h&&c(e,h),e}}(),p=c(50);c=function(){function c(e){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.data=e;this.bytesAvailable=e.byteLength;this.bitsAvailable=this.word=0}return m(c,[{key:"loadWord",value:function(){var e=this.data,b=this.bytesAvailable,c=e.byteLength-b,k=new Uint8Array(4),b=Math.min(4,b);if(0===b)throw Error("no bytes available");k.set(e.subarray(c,c+b));this.word=
(new DataView(k.buffer)).getUint32(0);this.bitsAvailable=8*b;this.bytesAvailable-=b}},{key:"skipBits",value:function(e){var b;this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,b=e>>3,e-=b>>3,this.bytesAvailable-=b,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)}},{key:"readBits",value:function(e){var b=Math.min(this.bitsAvailable,e),c=this.word>>>32-b;return 32<e&&p.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=b,0<this.bitsAvailable?
this.word<<=b:0<this.bytesAvailable&&this.loadWord(),b=e-b,0<b&&this.bitsAvailable?c<<b|this.readBits(b):c}},{key:"skipLZ",value:function(){var e;for(e=0;e<this.bitsAvailable;++e)if(0!=(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()}},{key:"skipUEG",value:function(){this.skipBits(1+this.skipLZ())}},{key:"skipEG",value:function(){this.skipBits(1+this.skipLZ())}},{key:"readUEG",value:function(){var e=this.skipLZ();return this.readBits(e+
1)-1}},{key:"readEG",value:function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}},{key:"readBoolean",value:function(){return 1===this.readBits(1)}},{key:"readUByte",value:function(){return this.readBits(8)}},{key:"readUShort",value:function(){return this.readBits(16)}},{key:"readUInt",value:function(){return this.readBits(32)}},{key:"skipScalingList",value:function(e){var b,c,k=8,h=8;for(b=0;b<e;b++)0!==h&&(c=this.readEG(),h=(k+c+256)%256),k=0===h?k:h}},{key:"readSPS",value:function(){var e,
b=0,c=0,k=0,h=0,g=this.readUByte.bind(this);var d=this.readBits.bind(this);var a=this.readUEG.bind(this),f=this.readBoolean.bind(this),m=this.skipBits.bind(this);var p=this.skipEG.bind(this);var q=this.skipUEG.bind(this);var u=this.skipScalingList.bind(this);if(g(),e=g(),d(5),m(3),g(),q(),100===e||110===e||122===e||244===e||44===e||83===e||86===e||118===e||128===e)if(e=a(),3===e&&m(1),q(),q(),m(1),f()){var x=3!==e?8:12;for(e=0;e<x;e++)f()&&u(6>e?16:64)}q();u=a();if(0===u)a();else if(1===u)for(m(1),
p(),p(),u=a(),e=0;e<u;e++)p();q();m(1);p=a();q=a();d=d(1);0===d&&m(1);m(1);f()&&(b=a(),c=a(),k=a(),h=a());a=[1,1];if(f()&&f())switch(g()){case 1:a=[1,1];break;case 2:a=[12,11];break;case 3:a=[10,11];break;case 4:a=[16,11];break;case 5:a=[40,33];break;case 6:a=[24,11];break;case 7:a=[20,11];break;case 8:a=[32,11];break;case 9:a=[80,33];break;case 10:a=[18,11];break;case 11:a=[15,11];break;case 12:a=[64,33];break;case 13:a=[160,99];break;case 14:a=[4,3];break;case 15:a=[3,2];break;case 16:a=[2,1];break;
case 255:a=[g()<<8|g(),g()<<8|g()]}return{width:Math.ceil(16*(p+1)-2*b-2*c),height:(2-d)*(q+1)*16-(d?2:4)*(k+h),pixelRatio:a}}},{key:"readSliceType",value:function(){return this.readUByte(),this.readUEG(),this.readUEG()}}]),c}();q["default"]=c},{50:50}],26:[function(c,g,q){Object.defineProperty(q,"__esModule",{value:!0});var m=function(){function c(e,b){for(var c=0;c<b.length;c++){var k=b[c];k.enumerable=k.enumerable||!1;k.configurable=!0;"value"in k&&(k.writable=!0);Object.defineProperty(e,k.key,
k)}}return function(e,b,h){return b&&c(e.prototype,b),h&&c(e,h),e}}(),p=c(50);c=function(){function c(e){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this._hasTimeStamp=!1;for(var b,h,k,g,l,d,a=0;;)if(l=this.readUTF(e,a,3),a+=3,"ID3"===l)a+=3,b=127&e[a++],h=127&e[a++],k=127&e[a++],g=127&e[a++],b=(b<<21)+(h<<14)+(k<<7)+g,b=a+b,this._parseID3Frames(e,a,b),a=b;else{if("3DI"!==l)return a-=3,void((d=a)&&(this.hasTimeStamp||p.logger.warn("ID3 tag found, but no timestamp"),
this._length=d,this._payload=e.subarray(0,d)));a+=7;p.logger.log("3DI footer found, end: "+a)}}return m(c,[{key:"readUTF",value:function(e,b,c){var k="",h=b;b+=c;do k+=String.fromCharCode(e[h++]);while(h<b);return k}},{key:"_parseID3Frames",value:function(e,b,c){for(var k,h;b+8<=c;)switch(k=this.readUTF(e,b,4),b+=4,e[b++]<<24+e[b++]<<16+e[b++]<<8+e[b++],e[b++]<<8+e[b++],b,k){case "PRIV":if("com.apple.streaming.transportStreamTimestamp"===this.readUTF(e,b,44)){b+=44;b+=4;var g=1&e[b++];this._hasTimeStamp=
!0;h=((e[b++]<<23)+(e[b++]<<15)+(e[b++]<<7)+e[b++])/45;g&&(h+=4.772185884E7);h=Math.round(h);p.logger.trace("ID3 timestamp found: "+h);this._timeStamp=h}}}},{key:"hasTimeStamp",get:function(){return this._hasTimeStamp}},{key:"timeStamp",get:function(){return this._timeStamp}},{key:"length",get:function(){return this._length}},{key:"payload",get:function(){return this._payload}}]),c}();q["default"]=c},{50:50}],27:[function(c,g,q){Object.defineProperty(q,"__esModule",{value:!0});var m=function(){function c(e,
b){for(var c=0;c<b.length;c++){var k=b[c];k.enumerable=k.enumerable||!1;k.configurable=!0;"value"in k&&(k.writable=!0);Object.defineProperty(e,k.key,k)}}return function(e,b,h){return b&&c(e.prototype,b),h&&c(e,h),e}}(),p=(c=c(32))&&c.__esModule?c:{"default":c};c=function(){function c(e,b){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.observer=e;this.remuxer=b}return m(c,[{key:"resetTimeStamp",value:function(){}},{key:"resetInitSegment",value:function(e,b,h,
k){k=this.initData=c.parseInitSegment(e);var g={};k.audio&&(g.audio={container:"audio/mp4",codec:b,initSegment:e});k.video&&(g.video={container:"video/mp4",codec:h,initSegment:e});this.observer.trigger(p["default"].FRAG_PARSING_INIT_SEGMENT,{tracks:g})}},{key:"append",value:function(e,b,h,k){b=this.initData;var g=c.startDTS(b,e);this.remuxer.remux(b.audio,b.video,null,null,g,h,k,e)}},{key:"destroy",value:function(){}}],[{key:"probe",value:function(e){return 8<=e.length?0<=["moof","ftyp","styp"].indexOf(c.bin2str(e.subarray(4,
8))):!1}},{key:"bin2str",value:function(e){return String.fromCharCode.apply(null,e)}},{key:"findBox",value:function(e,b){var h,k,g=[];if(!b.length)return null;for(h=0;h<e.byteLength;){var l=e[h]<<24;l|=e[h+1]<<16;l|=e[h+2]<<8;l|=e[h+3];var d=c.bin2str(e.subarray(h+4,h+8));l=1<l?h+l:e.byteLength;d===b[0]&&(1===b.length?g.push(e.subarray(h+8,l)):(k=c.findBox(e.subarray(h+8,l),b.slice(1)),k.length&&(g=g.concat(k))));h=l}return g}},{key:"parseInitSegment",value:function(e){var b=[];return c.findBox(e,
["moov","trak"]).forEach(function(e){var k=c.findBox(e,["tkhd"])[0];if(k){var h=k[0],h=0===h?12:20,k=k[h]<<24|k[h+1]<<16|k[h+2]<<8|k[h+3],k=0>k?4294967296+k:k,g=c.findBox(e,["mdia","mdhd"])[0];g&&(h=g[0],h=0===h?12:20,h=g[h]<<24|g[h+1]<<16|g[h+2]<<8|g[h+3],(e=c.findBox(e,["mdia","hdlr"])[0])&&(e={soun:"audio",vide:"video"}[c.bin2str(e.subarray(8,12))])&&(b[k]={timescale:h,type:e},b[e]={timescale:h,id:k}))}}),b}},{key:"startDTS",value:function(e,b){var h,k,g;return h=c.findBox(b,["moof","traf"]),k=
[].concat.apply([],h.map(function(b){return c.findBox(b,["tfhd"]).map(function(d){var a,f,h;return a=d[4]<<24|d[5]<<16|d[6]<<8|d[7],f=e[a].timescale||9E4,h=c.findBox(b,["tfdt"]).map(function(a){var b,d;return b=a[0],d=a[4]<<24|a[5]<<16|a[6]<<8|a[7],1===b&&(d*=Math.pow(2,32),d+=a[8]<<24|a[9]<<16|a[10]<<8|a[11]),d})[0],(h=h||1/0)/f})})),g=Math.min.apply(null,k),isFinite(g)?g:0}}]),c}();q["default"]=c},{32:32}],28:[function(c,g,q){Object.defineProperty(q,"__esModule",{value:!0});var m=function(){function c(e,
b){for(var c=0;c<b.length;c++){var h=b[c];h.enumerable=h.enumerable||!1;h.configurable=!0;"value"in h&&(h.writable=!0);Object.defineProperty(e,h.key,h)}}return function(e,b,h){return b&&c(e.prototype,b),h&&c(e,h),e}}(),p=(c=c(18))&&c.__esModule?c:{"default":c};c=function(){function c(e,b,h,k){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.decryptdata=h;this.discardEPB=k;this.decrypter=new p["default"](e,b)}return m(c,[{key:"decryptBuffer",value:function(e,b){this.decrypter.decrypt(e,
this.decryptdata.key.buffer,this.decryptdata.iv.buffer,b)}},{key:"decryptAacSample",value:function(e,b,c,h){var k=e[b].unit,g=k.subarray(16,k.length-k.length%16),g=g.buffer.slice(g.byteOffset,g.byteOffset+g.length),d=this;this.decryptBuffer(g,function(a){a=new Uint8Array(a);k.set(a,16);h||d.decryptAacSamples(e,b+1,c)})}},{key:"decryptAacSamples",value:function(e,b,c){for(;;b++){if(b>=e.length)return void c();if(!(32>e[b].unit.length)){var h=this.decrypter.isSync();if(this.decryptAacSample(e,b,c,h),
!h)break}}}},{key:"getAvcEncryptedData",value:function(e){for(var b=new Int8Array(16*Math.floor((e.length-48)/160)+16),c=0,h=32;h<=e.length-16;h+=160,c+=16)b.set(e.subarray(h,h+16),c);return b}},{key:"getAvcDecryptedUnit",value:function(e,b){b=new Uint8Array(b);for(var c=0,h=32;h<=e.length-16;h+=160,c+=16)e.set(b.subarray(c,c+16),h);return e}},{key:"decryptAvcSample",value:function(e,b,c,h,g,l){var d=this.discardEPB(g.data),a=this.getAvcEncryptedData(d),f=this;this.decryptBuffer(a.buffer,function(a){g.data=
f.getAvcDecryptedUnit(d,a);l||f.decryptAvcSamples(e,b,c+1,h)})}},{key:"decryptAvcSamples",value:function(e,b,c,h){for(;;b++,c=0){if(b>=e.length)return void h();for(var k=e[b].units;!(c>=k.length);c++){var g=k[c];if(!(48>=g.length||1!==g.type&&5!==g.type)){var d=this.decrypter.isSync();if(this.decryptAvcSample(e,b,c,h,g,d),!d)return}}}}}]),c}();q["default"]=c},{18:18}],29:[function(c,g,q){function m(b){return b&&b.__esModule?b:{"default":b}}Object.defineProperty(q,"__esModule",{value:!0});var p=function(){function b(b,
a){for(var d=0;d<a.length;d++){var e=a[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(b,e.key,e)}}return function(d,a,e){return a&&b(d.prototype,a),e&&b(d,e),d}}();g=c(21);var h=m(g);g=c(32);var e=m(g);g=c(25);var b=m(g);g=c(28);var n=m(g),k=c(50),r=c(30);c=function(){function c(b,a,e,h){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.observer=b;this.config=e;this.typeSupported=h;this.remuxer=a;this.sampleAes=
null}return p(c,[{key:"setDecryptData",value:function(b){null!=b&&null!=b.key&&"SAMPLE-AES"===b.method?this.sampleAes=new n["default"](this.observer,this.config,b,this.discardEPB):this.sampleAes=null}},{key:"resetInitSegment",value:function(b,a,e,c){this.pmtParsed=!1;this._pmtId=-1;this._avcTrack={container:"video/mp2t",type:"video",id:-1,inputTimeScale:9E4,sequenceNumber:0,samples:[],len:0,dropped:0};this._audioTrack={container:"video/mp2t",type:"audio",id:-1,inputTimeScale:9E4,sequenceNumber:0,
samples:[],len:0,isAAC:!0};this._id3Track={type:"id3",id:-1,inputTimeScale:9E4,sequenceNumber:0,samples:[],len:0};this._txtTrack={type:"text",id:-1,inputTimeScale:9E4,sequenceNumber:0,samples:[],len:0};this.avcSample=this.aacLastPTS=this.aacOverFlow=null;this.audioCodec=a;this.videoCodec=e;this._duration=c}},{key:"resetTimeStamp",value:function(){}},{key:"append",value:function(b,a,c,h){var d,f,g,l,n,m=b.length,p=!1;this.contiguous=c;var q=this.pmtParsed,u=this._avcTrack,t=this._audioTrack,w=this._id3Track,
H=u.id,J=t.id,B=w.id,O=this._pmtId,N=u.pesData,I=t.pesData,K=w.pesData,T=this._parsePAT,U=this._parsePMT,Y=this._parsePES,S=this._parseAVCPES.bind(this),aa=this._parseAACPES.bind(this),da=this._parseMPEGPES.bind(this),Z=this._parseID3PES.bind(this),m=m-m%188;for(d=0;d<m;d+=188)if(71===b[d]){if(f=!!(64&b[d+1]),g=((31&b[d+1])<<8)+b[d+2],1<(48&b[d+3])>>4){if((l=d+5+b[d+4])===d+188)continue}else l=d+4;switch(g){case H:f&&(N&&(n=Y(N))&&S(n,!1),N={data:[],size:0});N&&(N.data.push(b.subarray(l,d+188)),N.size+=
d+188-l);break;case J:f&&(I&&(n=Y(I))&&(t.isAAC?aa(n):da(n)),I={data:[],size:0});I&&(I.data.push(b.subarray(l,d+188)),I.size+=d+188-l);break;case B:f&&(K&&(n=Y(K))&&Z(n),K={data:[],size:0});K&&(K.data.push(b.subarray(l,d+188)),K.size+=d+188-l);break;case 0:f&&(l+=b[l]+1);O=this._pmtId=T(b,l);break;case O:f&&(l+=b[l]+1);f=U(b,l,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,null!=this.sampleAes);H=f.avc;0<H&&(u.id=H);J=f.audio;0<J&&(t.id=J,t.isAAC=f.isAAC);B=f.id3;0<B&&(w.id=B);p&&!q&&(k.logger.log("reparse from beginning"),
p=!1,d=-188);q=this.pmtParsed=!0;break;case 17:case 8191:break;default:p=!0}}else this.observer.trigger(e["default"].ERROR,{type:r.ErrorTypes.MEDIA_ERROR,details:r.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});N&&(n=Y(N))?(S(n,!0),u.pesData=null):u.pesData=N;I&&(n=Y(I))?(t.isAAC?aa(n):da(n),t.pesData=null):(I&&I.size&&k.logger.log("last AAC PES packet truncated,might overlap between fragments"),t.pesData=I);K&&(n=Y(K))?(Z(n),w.pesData=null):w.pesData=K;null==
this.sampleAes?this.remuxer.remux(t,u,w,this._txtTrack,a,c,h):this.decryptAndRemux(t,u,w,this._txtTrack,a,c,h)}},{key:"decryptAndRemux",value:function(b,a,e,c,h,k,g){if(b.samples&&b.isAAC){var d=this;this.sampleAes.decryptAacSamples(b.samples,0,function(){d.decryptAndRemuxAvc(b,a,e,c,h,k,g)})}else this.decryptAndRemuxAvc(b,a,e,c,h,k,g)}},{key:"decryptAndRemuxAvc",value:function(b,a,e,c,h,k,g){if(a.samples){var d=this;this.sampleAes.decryptAvcSamples(a.samples,0,0,function(){d.remuxer.remux(b,a,e,
c,h,k,g)})}else this.remuxer.remux(b,a,e,c,h,k,g)}},{key:"destroy",value:function(){this._initPTS=this._initDTS=void 0;this._duration=0}},{key:"_parsePAT",value:function(b,a){return(31&b[a+10])<<8|b[a+11]}},{key:"_parsePMT",value:function(b,a,e,c){var d,f={audio:-1,avc:-1,id3:-1,isAAC:!0};var h=a+3+((15&b[a+1])<<8|b[a+2])-4;for(a+=12+((15&b[a+10])<<8|b[a+11]);a<h;){switch(d=(31&b[a+1])<<8|b[a+2],b[a]){case 207:if(!c){k.logger.log("unkown stream type:"+b[a]);break}case 15:-1===f.audio&&(f.audio=d);
break;case 21:-1===f.id3&&(f.id3=d);break;case 219:if(!c){k.logger.log("unkown stream type:"+b[a]);break}case 27:-1===f.avc&&(f.avc=d);break;case 3:case 4:e?-1===f.audio&&(f.audio=d,f.isAAC=!1):k.logger.log("MPEG audio found, not supported in this browser for now");break;case 36:k.logger.warn("HEVC stream type found, not supported for now");break;default:k.logger.log("unkown stream type:"+b[a])}a+=5+((15&b[a+3])<<8|b[a+4])}return f}},{key:"_parsePES",value:function(b){var a,d,e,c,h=0,g=b.data;if(!b||
0===b.size)return null;for(;19>g[0].length&&1<g.length;){var l=new Uint8Array(g[0].length+g[1].length);l.set(g[0]);l.set(g[1],g[0].length);g[0]=l;g.splice(1,1)}if(a=g[0],1===(a[0]<<16)+(a[1]<<8)+a[2]){if((d=(a[4]<<8)+a[5])&&d>b.size-6)return null;l=a[7];192&l&&(e=536870912*(14&a[9])+4194304*(255&a[10])+16384*(254&a[11])+128*(255&a[12])+(254&a[13])/2,4294967295<e&&(e-=8589934592),64&l?(c=536870912*(14&a[14])+4194304*(255&a[15])+16384*(254&a[16])+128*(255&a[17])+(254&a[18])/2,4294967295<c&&(c-=8589934592),
54E5<e-c&&(k.logger.warn(Math.round((e-c)/9E4)+"s delta between PTS and DTS, align them"),e=c)):c=e);l=a[8];var n=l+9;b.size-=n;b=new Uint8Array(b.size);for(var m=0,p=g.length;m<p;m++){a=g[m];var r=a.byteLength;if(n){if(n>r){n-=r;continue}a=a.subarray(n);r-=n;n=0}b.set(a,h);h+=r}return d&&(d-=l+3),{data:b,pts:e,dts:c,len:d}}return null}},{key:"pushAccesUnit",value:function(b,a){if(b.units.length&&b.frame){var d=a.samples,e=d.length;!this.config.forceKeyFrameOnDiscontinuity||!0===b.key||a.sps&&(e||
this.contiguous)?(b.id=e,d.push(b)):a.dropped++}b.debug.length&&k.logger.log(b.pts+"/"+b.dts+":"+b.debug)}},{key:"_parseAVCPES",value:function(d,a){var e,c,h,k=this,g=this._avcTrack,l=this._parseAVCNALu(d.data),n=this.avcSample;d.data=null;l.forEach(function(a){switch(a.type){case 1:c=!0;n.frame=!0;var f=a.data;4<f.length&&(f=(new b["default"](f)).readSliceType(),2!==f&&4!==f&&7!==f&&9!==f||(n.key=!0));break;case 5:c=!0;n||(n=k.avcSample=k._createAVCSample(!0,d.pts,d.dts,""));n.key=!0;n.frame=!0;
break;case 6:c=!0;e=new b["default"](k.discardEPB(a.data));e.readUByte();for(var l,m,f=!1,p;!f&&1<e.bytesAvailable;){l=0;do p=e.readUByte(),l+=p;while(255===p);m=0;do p=e.readUByte(),m+=p;while(255===p);if(4===l&&0!==e.bytesAvailable){if(f=!0,181===e.readUByte()&&49===e.readUShort()&&1195456820===e.readUInt()&&3===e.readUByte()){m=e.readUByte();p=e.readUByte();l=31&m;m=[m,p];for(h=0;h<l;h++)m.push(e.readUByte()),m.push(e.readUByte()),m.push(e.readUByte());k._insertSampleInOrder(k._txtTrack.samples,
{type:3,pts:d.pts,bytes:m})}}else if(m<e.bytesAvailable)for(h=0;h<m;h++)e.readUByte()}break;case 7:if(c=!0,!g.sps){e=new b["default"](a.data);f=e.readSPS();g.width=f.width;g.height=f.height;g.pixelRatio=f.pixelRatio;g.sps=[a.data];g.duration=k._duration;f=a.data.subarray(1,4);l="avc1.";for(h=0;3>h;h++)m=f[h].toString(16),2>m.length&&(m="0"+m),l+=m;g.codec=l}break;case 8:c=!0;g.pps||(g.pps=[a.data]);break;case 9:c=!1;n&&k.pushAccesUnit(n,g);n=k.avcSample=k._createAVCSample(!1,d.pts,d.dts,"");break;
case 12:c=!1;break;default:c=!1,n&&(n.debug+="unknown NAL "+a.type+" ")}n&&c&&n.units.push(a)});a&&n&&(this.pushAccesUnit(n,g),this.avcSample=null)}},{key:"_createAVCSample",value:function(b,a,e,c){return{key:b,pts:a,dts:e,units:[],debug:c}}},{key:"_insertSampleInOrder",value:function(b,a){var d=b.length;if(0<d)if(a.pts>=b[d-1].pts)b.push(a);else for(--d;0<=d;d--){if(a.pts<b[d].pts){b.splice(d,0,a);break}}else b.push(a)}},{key:"_getLastNalUnit",value:function(){var b=this.avcSample,a=void 0;b&&0!==
b.units.length||(b=this._avcTrack.samples,b=b[b.length-1]);b&&(a=b.units,a=a[a.length-1]);return a}},{key:"_parseAVCNALu",value:function(b){var a,d,e,c,h=0,k=b.byteLength,g=this._avcTrack,l=g.naluState||0,n=l,m=[],p=-1;for(-1===l&&(p=0,c=31&b[0],l=0,h=1);h<k;)if(a=b[h++],l)if(1!==l)if(a)if(1===a){if(0<=p){var r={data:b.subarray(p,h-l-1),type:c};m.push(r)}else if((a=this._getLastNalUnit())&&(n&&h<=4-n&&a.state&&(a.data=a.data.subarray(0,a.data.byteLength-n)),0<(d=h-l-1))){var q=new Uint8Array(a.data.byteLength+
d);q.set(a.data,0);q.set(b.subarray(0,d),a.data.byteLength);a.data=q}h<k?(e=31&b[h],p=h,c=e,l=0):l=-1}else l=0;else l=3;else l=a?0:2;else l=a?0:1;if(0<=p&&0<=l&&(r={data:b.subarray(p,k),type:c,state:l},m.push(r)),0===m.length)if(d=this._getLastNalUnit())r=new Uint8Array(d.data.byteLength+b.byteLength),r.set(d.data,0),r.set(b,d.data.byteLength),d.data=r;return g.naluState=l,m}},{key:"discardEPB",value:function(b){var a=b.byteLength;for(var d=[],e=1;e<a-2;)0===b[e]&&0===b[e+1]&&3===b[e+2]?(d.push(e+
2),e+=2):e++;if(0===d.length)return b;a-=d.length;var c=new Uint8Array(a);for(var h=0,e=0;e<a;h++,e++)h===d[0]&&(h++,d.shift()),c[e]=b[h];return c}},{key:"_parseAACPES",value:function(b){var a,d,c,g,l,n=this._audioTrack,m=b.data;b=b.pts;var p=this.aacOverFlow;var q=this.aacLastPTS;if(p){var u=new Uint8Array(p.byteLength+m.byteLength);u.set(p,0);u.set(m,p.byteLength);m=u}u=0;for(l=m.length;u<l-1&&(255!==m[u]||240!=(240&m[u+1]));u++);if(!u||(u<l-1?(a="AAC PES did not start with ADTS header,offset:"+
u,c=!1):(a="no ADTS header found in AAC PES",c=!0),k.logger.warn("parsing error:"+a),this.observer.trigger(e["default"].ERROR,{type:r.ErrorTypes.MEDIA_ERROR,details:r.ErrorDetails.FRAG_PARSING_ERROR,fatal:c,reason:a}),!c)){n.samplerate||(a=h["default"].getAudioConfig(this.observer,m,u,this.audioCodec),n.config=a.config,n.samplerate=a.samplerate,n.channelCount=a.channelCount,n.codec=a.codec,n.manifestCodec=a.manifestCodec,n.duration=this._duration,k.logger.log("parsed codec:"+n.codec+",rate:"+a.samplerate+
",nb channel:"+a.channelCount));if(c=0,a=9216E4/n.samplerate,p&&q)p=q+a,1<Math.abs(p-b)&&(k.logger.log("AAC: align PTS for overlapping frames by "+Math.round((p-b)/90)),b=p);for(;u+5<l&&(g=1&m[u+1]?7:9,d=(3&m[u+3])<<11|m[u+4]<<3|(224&m[u+5])>>>5,0<(d-=g)&&u+g+d<=l);){var t=b+c*a;p={unit:m.subarray(u+g,u+g+d),pts:t,dts:t};n.samples.push(p);n.len+=d;u+=d+g;for(c++;u<l-1&&(255!==m[u]||240!=(240&m[u+1]));u++);}this.aacOverFlow=p=u<l?m.subarray(u,l):null;this.aacLastPTS=t}}},{key:"_parseMPEGPES",value:function(b){var a,
d=b.data;b=b.pts;for(var e=d.length,c=0,h=0;h<e&&0<(a=this._parseMpeg(d,h,e,c++,b));)h+=a}},{key:"_onMpegFrame",value:function(b,a,e,c,h,k){a=k+1152/e*h*1E3;h=this._audioTrack;h.config=[];h.channelCount=c;h.samplerate=e;h.duration=this._duration;h.samples.push({unit:b,pts:a,dts:a});h.len+=b.length}},{key:"_onMpegNoise",value:function(b){k.logger.warn("mpeg audio has noise: "+b.length+" bytes")}},{key:"_parseMpeg",value:function(b,a,e,c,h){var d=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,
32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],f=[44100,48E3,32E3,22050,24E3,16E3,11025,12E3,8E3];if(a+2>e)return-1;if(255===b[a]||224==(224&b[a+1])){if(a+24>e)return-1;var k=b[a+1]>>3&3,g=b[a+1]>>1&3,l=b[a+2]>>4&15,n=b[a+2]>>2&3,m=!!(2&b[a+2]);if(1!==k&&0!==l&&15!==l&&3!==n)return d=1E3*d[14*(3===k?3-g:3===g?3:4)+l-1],f=f[3*(3===k?0:2===k?1:2)+n],n=m?
1:0,m=3==b[a+3]>>6?1:2,k=3===g?(3===k?12:6)*d/f+n<<2:(3===k?144:72)*d/f+n|0,a+k>e?-1:(this._onMpegFrame&&this._onMpegFrame(b.subarray(a,a+k),d,f,m,c,h),k)}for(c=a+2;c<e;){if(255===b[c-1]&&224==(224&b[c]))return this._onMpegNoise&&this._onMpegNoise(b.subarray(a,c-1)),c-a-1;c++}return-1}},{key:"_parseID3PES",value:function(b){this._id3Track.samples.push(b)}}],[{key:"probe",value:function(b){return 564<=b.length&&71===b[0]&&71===b[188]&&71===b[376]}}]),c}();q["default"]=c},{21:21,25:25,28:28,30:30,32:32,
50:50}],30:[function(c,g,q){Object.defineProperty(q,"__esModule",{value:!0});q.ErrorTypes={NETWORK_ERROR:"networkError",MEDIA_ERROR:"mediaError",MUX_ERROR:"muxError",OTHER_ERROR:"otherError"};q.ErrorDetails={MANIFEST_LOAD_ERROR:"manifestLoadError",MANIFEST_LOAD_TIMEOUT:"manifestLoadTimeOut",MANIFEST_PARSING_ERROR:"manifestParsingError",MANIFEST_INCOMPATIBLE_CODECS_ERROR:"manifestIncompatibleCodecsError",LEVEL_LOAD_ERROR:"levelLoadError",LEVEL_LOAD_TIMEOUT:"levelLoadTimeOut",LEVEL_SWITCH_ERROR:"levelSwitchError",
AUDIO_TRACK_LOAD_ERROR:"audioTrackLoadError",AUDIO_TRACK_LOAD_TIMEOUT:"audioTrackLoadTimeOut",FRAG_LOAD_ERROR:"fragLoadError",FRAG_LOOP_LOADING_ERROR:"fragLoopLoadingError",FRAG_LOAD_TIMEOUT:"fragLoadTimeOut",FRAG_DECRYPT_ERROR:"fragDecryptError",FRAG_PARSING_ERROR:"fragParsingError",REMUX_ALLOC_ERROR:"remuxAllocError",KEY_LOAD_ERROR:"keyLoadError",KEY_LOAD_TIMEOUT:"keyLoadTimeOut",BUFFER_ADD_CODEC_ERROR:"bufferAddCodecError",BUFFER_APPEND_ERROR:"bufferAppendError",BUFFER_APPENDING_ERROR:"bufferAppendingError",
BUFFER_STALLED_ERROR:"bufferStalledError",BUFFER_FULL_ERROR:"bufferFullError",BUFFER_SEEK_OVER_HOLE:"bufferSeekOverHole",BUFFER_NUDGE_ON_STALL:"bufferNudgeOnStall",INTERNAL_EXCEPTION:"internalException",WEBVTT_EXCEPTION:"webVTTException"}},{}],31:[function(c,g,q){Object.defineProperty(q,"__esModule",{value:!0});var m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?
"symbol":typeof b},p=function(){function b(b,e){for(var c=0;c<e.length;c++){var d=e[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(e,c,h){return c&&b(e.prototype,c),h&&b(e,h),e}}(),h=c(50),e=c(30),b=(c=c(32))&&c.__esModule?c:{"default":c};c=function(){function c(b){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.hls=b;this.onEvent=this.onEvent.bind(this);for(var e=arguments.length,
h=Array(1<e?e-1:0),d=1;d<e;d++)h[d-1]=arguments[d];this.handledEvents=h;this.useGenericHandler=!0;this.registerListeners()}return p(c,[{key:"destroy",value:function(){this.unregisterListeners()}},{key:"isEventHandler",value:function(){return"object"===m(this.handledEvents)&&this.handledEvents.length&&"function"==typeof this.onEvent}},{key:"registerListeners",value:function(){this.isEventHandler()&&this.handledEvents.forEach(function(b){if("hlsEventGeneric"===b)throw Error("Forbidden event name: "+
b);this.hls.on(b,this.onEvent)}.bind(this))}},{key:"unregisterListeners",value:function(){this.isEventHandler()&&this.handledEvents.forEach(function(b){this.hls.off(b,this.onEvent)}.bind(this))}},{key:"onEvent",value:function(b,e){this.onEventGeneric(b,e)}},{key:"onEventGeneric",value:function(c,g){try{var k="on"+c.replace("hls","");if("function"!=typeof this[k])throw Error("Event "+c+" has no generic handler in this "+this.constructor.name+" class (tried "+k+")");this[k].bind(this,g).call()}catch(d){h.logger.error("internal error happened while processing "+
c+":"+d.message),this.hls.trigger(b["default"].ERROR,{type:e.ErrorTypes.OTHER_ERROR,details:e.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:c,err:d})}}}]),c}();q["default"]=c},{30:30,32:32,50:50}],32:[function(c,g,q){g.exports={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",
BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_SWITCH:"hlsLevelSwitch",LEVEL_SWITCHING:"hlsLevelSwitching",LEVEL_SWITCHED:"hlsLevelSwitched",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",
AUDIO_TRACK_SWITCH:"hlsAudioTrackSwitch",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",
FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",
ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition"}},{}],33:[function(c,g,q){Object.defineProperty(q,"__esModule",{value:!0});var m=function(){function c(c,e){for(var b=0;b<e.length;b++){var h=e[b];h.enumerable=h.enumerable||!1;h.configurable=!0;"value"in h&&(h.writable=!0);Object.defineProperty(c,h.key,h)}}return function(h,e,b){return e&&c(h.prototype,e),b&&c(h,b),h}}();c=function(){function c(){if(!(this instanceof
c))throw new TypeError("Cannot call a class as a function");}return m(c,null,[{key:"getSilentFrame",value:function(c,e){switch(c){case "mp4a.40.2":if(1===e)return new Uint8Array([0,200,0,128,35,128]);if(2===e)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,
33,144,2,56]);if(6===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===e)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===e||3===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,
90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null}}]),c}();q["default"]=c},{}],34:[function(c,g,q){g.exports={isBuffered:function(c,g){if(c)for(var h=c.buffered,e=0;e<h.length;e++)if(g>=h.start(e)&&g<=h.end(e))return!0;return!1},bufferInfo:function(c,g,h){if(c){var e=c.buffered,b=[];for(c=0;c<e.length;c++)b.push({start:e.start(c),end:e.end(c)});return this.bufferedInfo(b,g,h)}return{len:0,start:g,end:g,nextStart:void 0}},bufferedInfo:function(c,g,h){var e,b,n=[];c.sort(function(a,
b){return a.start-b.start||b.end-a.end});for(b=0;b<c.length;b++)if(e=n.length){var k=n[e-1].end;c[b].start-k<h?c[b].end>k&&(n[e-1].end=c[b].end):n.push(c[b])}else n.push(c[b]);c=b=0;for(e=k=g;b<n.length;b++){var m=n[b].start,l=n[b].end;if(g+h>=m&&g<l)e=m,k=l,c=k-g;else if(g+h<m){var d=m;break}}return{len:c,start:e,end:k,nextStart:d}}}},{}],35:[function(c,g,q){var m=c(50),p={mergeDetails:function(c,e){var b,h=Math.max(c.startSN,e.startSN)-e.startSN,g=Math.min(c.endSN,e.endSN)-e.startSN,r=e.startSN-
c.startSN,l=c.fragments,d=e.fragments,a=0;if(g<h)return void(e.PTSKnown=!1);for(;h<=g;h++){var f=l[r+h],q=d[h];q&&f&&(a=f.cc-q.cc,isNaN(f.startPTS)||(q.start=q.startPTS=f.startPTS,q.endPTS=f.endPTS,q.duration=f.duration,b=q))}if(a)for(m.logger.log("discontinuity sliding from playlist, take drift into account"),h=0;h<d.length;h++)d[h].cc+=a;if(b)p.updateFragPTSDTS(e,b.sn,b.startPTS,b.endPTS,b.startDTS,b.endDTS);else if(0<=r&&r<l.length)for(b=l[r].start,h=0;h<d.length;h++)d[h].start+=b;e.PTSKnown=c.PTSKnown},
updateFragPTSDTS:function(c,e,b,g,k,m){var h,d,a;if(!c||e<c.startSN||e>c.endSN)return 0;(h=e-c.startSN,d=c.fragments,a=d[h],isNaN(a.startPTS))||(e=Math.abs(a.startPTS-b),isNaN(a.deltaPTS)?a.deltaPTS=e:a.deltaPTS=Math.max(e,a.deltaPTS),b=Math.min(b,a.startPTS),g=Math.max(g,a.endPTS),k=Math.min(k,a.startDTS),m=Math.max(m,a.endDTS));e=b-a.start;a.start=a.startPTS=b;a.endPTS=g;a.startDTS=k;a.endDTS=m;a.duration=g-b;for(b=h;0<b;b--)p.updatePTS(d,b,b-1);for(b=h;b<d.length-1;b++)p.updatePTS(d,b,b+1);return c.PTSKnown=
!0,e},updatePTS:function(c,e,b){var h=c[e];c=c[b];var g=c.startPTS;isNaN(g)?c.start=b>e?h.start+h.duration:h.start-c.duration:b>e?(h.duration=g-h.start,0>h.duration&&m.logger.warn("negative duration computed for frag "+h.sn+",level "+h.level+", there should be some duration drift between playlist and fragment!")):(c.duration=h.start-g,0>c.duration&&m.logger.warn("negative duration computed for frag "+c.sn+",level "+c.level+", there should be some duration drift between playlist and fragment!"))}};
g.exports=p},{50:50}],36:[function(c,g,q){function m(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(q,"__esModule",{value:!0});var p=function(){function a(a,b){for(var d=0;d<b.length;d++){var e=b[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(b,d,e){return d&&a(b.prototype,d),e&&a(b,e),b}}();g=c(2);var h=m(g);g=c(32);var e=m(g),b=c(30);g=c(40);var n=m(g);g=c(38);var k=m(g);g=c(39);var r=m(g);g=c(12);
var l=m(g);g=c(11);var d=m(g),a=c(50);g=c(1);var f=m(g),t=c(4);c=function(){function c(){var b=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var h=c.DefaultConfig;if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");
for(var g in h)g in e||(e[g]=h[g]);if(void 0!==e.liveMaxLatencyDurationCount&&e.liveMaxLatencyDurationCount<=e.liveSyncDurationCount)throw Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==e.liveMaxLatencyDuration&&(e.liveMaxLatencyDuration<=e.liveSyncDuration||void 0===e.liveSyncDuration))throw Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');(0,a.enableLogs)(e.debug);this.config=e;this._autoLevelCapping=
-1;var m=this.observer=new f["default"];m.trigger=function(a){for(var b=arguments.length,d=Array(1<b?b-1:0),e=1;e<b;e++)d[e-1]=arguments[e];m.emit.apply(m,[a,a].concat(d))};m.off=function(a){for(var b=arguments.length,d=Array(1<b?b-1:0),e=1;e<b;e++)d[e-1]=arguments[e];m.removeListener.apply(m,[a].concat(d))};this.on=m.on.bind(m);this.off=m.off.bind(m);this.trigger=m.trigger.bind(m);h=this.abrController=new e.abrController(this);g=new e.bufferController(this);var p=new e.capLevelController(this),q=
new e.fpsController(this),u=new n["default"](this),t=new k["default"](this),w=new r["default"](this),H=this.levelController=new d["default"](this),D=this.streamController=new l["default"](this),H=[H,D];(D=e.audioStreamController)&&H.push(new D(this));this.networkControllers=H;var B=[u,t,w,h,g,p,q];if(D=e.audioTrackController)this.audioTrackController=h=new D(this),B.push(h);if(D=e.subtitleTrackController)this.subtitleTrackController=h=new D(this),B.push(h);[e.subtitleStreamController,e.timelineController].forEach(function(a){a&&
B.push(new a(b))});this.coreComponents=B}return p(c,null,[{key:"isSupported",value:function(){return window.MediaSource=window.MediaSource||window.WebKitMediaSource,window.MediaSource&&"function"==typeof window.MediaSource.isTypeSupported&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')}},{key:"version",get:function(){return"0.7.5"}},{key:"Events",get:function(){return e["default"]}},{key:"ErrorTypes",get:function(){return b.ErrorTypes}},{key:"ErrorDetails",get:function(){return b.ErrorDetails}},
{key:"DefaultConfig",get:function(){return c.defaultConfig?c.defaultConfig:t.hlsDefaultConfig},set:function(a){c.defaultConfig=a}}]),p(c,[{key:"destroy",value:function(){a.logger.log("destroy");this.trigger(e["default"].DESTROYING);this.detachMedia();this.coreComponents.concat(this.networkControllers).forEach(function(a){a.destroy()});this.url=null;this.observer.removeAllListeners();this._autoLevelCapping=-1}},{key:"attachMedia",value:function(b){a.logger.log("attachMedia");this.media=b;this.trigger(e["default"].MEDIA_ATTACHING,
{media:b})}},{key:"detachMedia",value:function(){a.logger.log("detachMedia");this.trigger(e["default"].MEDIA_DETACHING);this.media=null}},{key:"loadSource",value:function(b){b=h["default"].buildAbsoluteURL(window.location.href,b,{alwaysNormalize:!0});a.logger.log("loadSource:"+b);this.url=b;this.trigger(e["default"].MANIFEST_LOADING,{url:b})}},{key:"startLoad",value:function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:-1;a.logger.log("startLoad("+b+")");this.networkControllers.forEach(function(a){a.startLoad(b)})}},
{key:"stopLoad",value:function(){a.logger.log("stopLoad");this.networkControllers.forEach(function(a){a.stopLoad()})}},{key:"swapAudioCodec",value:function(){a.logger.log("swapAudioCodec");this.streamController.swapAudioCodec()}},{key:"recoverMediaError",value:function(){a.logger.log("recoverMediaError");var b=this.media;this.detachMedia();this.attachMedia(b)}},{key:"levels",get:function(){return this.levelController.levels}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},
set:function(b){a.logger.log("set currentLevel:"+b);this.loadLevel=b;this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(b){a.logger.log("set nextLevel:"+b);this.levelController.manualLevel=b;this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(b){a.logger.log("set loadLevel:"+b);this.levelController.manualLevel=b}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},
set:function(a){this.levelController.nextLoadLevel=a}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(b){a.logger.log("set firstLevel:"+b);this.levelController.firstLevel=b}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(b){a.logger.log("set startLevel:"+b);-1!==b&&(b=Math.max(b,this.minAutoLevel));this.levelController.startLevel=b}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},
set:function(b){a.logger.log("set autoLevelCapping:"+b);this._autoLevelCapping=b}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){for(var a=this.levels,b=this.config.minAutoBitrate,d=a?a.length:0,e=0;e<d;e++)if((a[e].realBitrate?Math.max(a[e].realBitrate,a[e].bitrate):a[e].bitrate)>b)return e;return 0}},{key:"maxAutoLevel",get:function(){var a=this.levels,
b=this.autoLevelCapping;return-1===b&&a&&a.length?a.length-1:b}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(a){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,a)}},{key:"audioTracks",get:function(){var a=this.audioTrackController;return a?a.audioTracks:[]}},{key:"audioTrack",get:function(){var a=this.audioTrackController;return a?a.audioTrack:-1},set:function(a){var b=this.audioTrackController;
b&&(b.audioTrack=a)}},{key:"liveSyncPosition",get:function(){return this.streamController.liveSyncPosition}},{key:"subtitleTracks",get:function(){var a=this.subtitleTrackController;return a?a.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var a=this.subtitleTrackController;return a?a.subtitleTrack:-1},set:function(a){var b=this.subtitleTrackController;b&&(b.subtitleTrack=a)}}]),c}();q["default"]=c},{1:1,11:11,12:12,2:2,30:30,32:32,38:38,39:39,4:4,40:40,50:50}],37:[function(c,g,q){g.exports=
c(36)["default"]},{36:36}],38:[function(c,g,q){function m(b,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);b.prototype=Object.create(e&&e.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(b,e):b.__proto__=e)}Object.defineProperty(q,"__esModule",{value:!0});var p=function(){function b(b,e){for(var d=0;d<e.length;d++){var a=e[d];a.enumerable=a.enumerable||
!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(b,a.key,a)}}return function(e,c,d){return c&&b(e.prototype,c),d&&b(e,d),e}}(),h=(g=c(32))&&g.__esModule?g:{"default":g},e=(g=c(31))&&g.__esModule?g:{"default":g},b=c(30),n=c(50);c=function(c){function g(b){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");b=(g.__proto__||Object.getPrototypeOf(g)).call(this,b,h["default"].FRAG_LOADING);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
b=!b||"object"!=typeof b&&"function"!=typeof b?this:b;return b.loaders={},b}return m(g,c),p(g,[{key:"destroy",value:function(){var b=this.loaders,d;for(d in b){var a=b[d];a&&a.destroy()}this.loaders={};e["default"].prototype.destroy.call(this)}},{key:"onFragLoading",value:function(b){var d=b.frag,a=d.type;b=this.loaders[a];var e=this.hls.config;d.loaded=0;b&&(n.logger.warn("abort previous fragment loader for type:"+a),b.abort());b=this.loaders[a]=d.loader=void 0!==e.fLoader?new e.fLoader(e):new e.loader(e);
var a={url:d.url,frag:d,responseType:"arraybuffer",progressData:!1},c=d.byteRangeStartOffset,d=d.byteRangeEndOffset;isNaN(c)||isNaN(d)||(a.rangeStart=c,a.rangeEnd=d);e={timeout:e.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:e.fragLoadingMaxRetryTimeout};d={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)};b.load(a,e,d)}},{key:"loadsuccess",value:function(b,d,a){b=b.data;a=a.frag;a.loader=
void 0;this.loaders[a.type]=void 0;this.hls.trigger(h["default"].FRAG_LOADED,{payload:b,frag:a,stats:d})}},{key:"loaderror",value:function(e,d){var a=d.loader;a&&a.abort();this.loaders[d.type]=void 0;this.hls.trigger(h["default"].ERROR,{type:b.ErrorTypes.NETWORK_ERROR,details:b.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:d.frag,response:e})}},{key:"loadtimeout",value:function(e,d){var a=d.loader;a&&a.abort();this.loaders[d.type]=void 0;this.hls.trigger(h["default"].ERROR,{type:b.ErrorTypes.NETWORK_ERROR,
details:b.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:d.frag})}},{key:"loadprogress",value:function(b,d,a){d=d.frag;d.loaded=b.loaded;this.hls.trigger(h["default"].FRAG_LOAD_PROGRESS,{frag:d,stats:b})}}]),g}(e["default"]);q["default"]=c},{30:30,31:31,32:32,50:50}],39:[function(c,g,q){function m(b,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);b.prototype=Object.create(e&&e.prototype,{constructor:{value:b,enumerable:!1,
writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(b,e):b.__proto__=e)}Object.defineProperty(q,"__esModule",{value:!0});var p=function(){function b(b,e){for(var d=0;d<e.length;d++){var a=e[d];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(b,a.key,a)}}return function(e,c,d){return c&&b(e.prototype,c),d&&b(e,d),e}}(),h=(g=c(32))&&g.__esModule?g:{"default":g},e=(g=c(31))&&g.__esModule?g:{"default":g},b=c(30),n=c(50);c=function(c){function g(b){if(!(this instanceof
g))throw new TypeError("Cannot call a class as a function");b=(g.__proto__||Object.getPrototypeOf(g)).call(this,b,h["default"].KEY_LOADING);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");b=!b||"object"!=typeof b&&"function"!=typeof b?this:b;return b.loaders={},b.decryptkey=null,b.decrypturl=null,b}return m(g,c),p(g,[{key:"destroy",value:function(){for(var b in this.loaders){var d=this.loaders[b];d&&d.destroy()}this.loaders={};e["default"].prototype.destroy.call(this)}},
{key:"onKeyLoading",value:function(b){b=b.frag;var d=b.type,a=this.loaders[d],e=b.decryptdata,c=e.uri;c!==this.decrypturl||null===this.decryptkey?(e=this.hls.config,a&&(n.logger.warn("abort previous key loader for type:"+d),a.abort()),b.loader=this.loaders[d]=new e.loader(e),this.decrypturl=c,this.decryptkey=null,d={url:c,frag:b,responseType:"arraybuffer"},a={timeout:e.fragLoadingTimeOut,maxRetry:e.fragLoadingMaxRetry,retryDelay:e.fragLoadingRetryDelay,maxRetryDelay:e.fragLoadingMaxRetryTimeout},
c={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},b.loader.load(d,a,c)):this.decryptkey&&(e.key=this.decryptkey,this.hls.trigger(h["default"].KEY_LOADED,{frag:b}))}},{key:"loadsuccess",value:function(b,d,a){d=a.frag;this.decryptkey=d.decryptdata.key=new Uint8Array(b.data);d.loader=void 0;this.loaders[d.type]=void 0;this.hls.trigger(h["default"].KEY_LOADED,{frag:d})}},{key:"loaderror",value:function(e,d){var a=d.frag,c=a.loader;c&&c.abort();
this.loaders[d.type]=void 0;this.hls.trigger(h["default"].ERROR,{type:b.ErrorTypes.NETWORK_ERROR,details:b.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:a,response:e})}},{key:"loadtimeout",value:function(e,d){var a=d.frag,c=a.loader;c&&c.abort();this.loaders[d.type]=void 0;this.hls.trigger(h["default"].ERROR,{type:b.ErrorTypes.NETWORK_ERROR,details:b.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:a})}}]),g}(e["default"]);q["default"]=c},{30:30,31:31,32:32,50:50}],40:[function(c,g,q){function m(a){return a&&
a.__esModule?a:{"default":a}}function p(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(q,"__esModule",{value:!0});var e=function(){function a(a,
b){for(var d=0;d<b.length;d++){var e=b[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(b,d,e){return d&&a(b.prototype,d),e&&a(b,e),b}}();g=c(2);var b=m(g);g=c(32);var n=m(g);g=c(31);var k=m(g),r=c(30);g=c(44);var l=m(g),d=c(50),a=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g,f=/#EXT-X-MEDIA:(.*)/g,t=/#EXTINF:(\d*(?:\.\d+)?)(?:,(.*))?|(?!#)(\S.+)|#EXT-X-BYTERANGE: *(.+)|#EXT-X-PROGRAM-DATE-TIME:(.+)|#.*/g,w=function(){function a(){h(this,
a);this._uri=this.iv=this.key=this.method=null}return e(a,[{key:"uri",get:function(){return!this._uri&&this.reluri&&(this._uri=b["default"].buildAbsoluteURL(this.baseuri,this.reluri,{alwaysNormalize:!0})),this._uri}}]),a}(),y=function(){function a(){h(this,a);this._decryptdata=this._byteRange=this._url=null;this.tagList=[]}return e(a,[{key:"createInitializationVector",value:function(a){for(var b=new Uint8Array(16),d=12;16>d;d++)b[d]=a>>8*(15-d)&255;return b}},{key:"fragmentDecryptdataFromLevelkey",
value:function(a,b){var d=a;return a&&a.method&&a.uri&&!a.iv&&(d=new w,d.method=a.method,d.baseuri=a.baseuri,d.reluri=a.reluri,d.iv=this.createInitializationVector(b)),d}},{key:"cloneObj",value:function(a){return JSON.parse(JSON.stringify(a))}},{key:"url",get:function(){return!this._url&&this.relurl&&(this._url=b["default"].buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},set:function(a){this._url=a}},{key:"programDateTime",get:function(){return!this._programDateTime&&this.rawProgramDateTime&&
(this._programDateTime=new Date(Date.parse(this.rawProgramDateTime))),this._programDateTime}},{key:"byteRange",get:function(){if(!this._byteRange){var a=this._byteRange=[];if(this.rawByteRange){var b=this.rawByteRange.split("@",2);a[0]=1===b.length?this.lastByteRangeEndOffset||0:parseInt(b[1]);a[1]=parseInt(b[0])+a[0]}}return this._byteRange}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"decryptdata",
get:function(){return this._decryptdata||(this._decryptdata=this.fragmentDecryptdataFromLevelkey(this.levelkey,this.sn)),this._decryptdata}}]),a}();c=function(c){function g(a){h(this,g);a=(g.__proto__||Object.getPrototypeOf(g)).call(this,a,n["default"].MANIFEST_LOADING,n["default"].LEVEL_LOADING,n["default"].AUDIO_TRACK_LOADING,n["default"].SUBTITLE_TRACK_LOADING);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!=typeof a&&"function"!=typeof a?
this:a;return a.loaders={},a}return p(g,c),e(g,[{key:"destroy",value:function(){for(var a in this.loaders){var b=this.loaders[a];b&&b.destroy()}this.loaders={};k["default"].prototype.destroy.call(this)}},{key:"onManifestLoading",value:function(a){this.load(a.url,{type:"manifest"})}},{key:"onLevelLoading",value:function(a){this.load(a.url,{type:"level",level:a.level,id:a.id})}},{key:"onAudioTrackLoading",value:function(a){this.load(a.url,{type:"audioTrack",id:a.id})}},{key:"onSubtitleTrackLoading",
value:function(a){this.load(a.url,{type:"subtitleTrack",id:a.id})}},{key:"load",value:function(a,b){var e=this.loaders[b.type];if(e){var c=e.context;if(c&&c.url===a)return void d.logger.trace("playlist request ongoing");d.logger.warn("abort previous loader for type:"+b.type);e.abort()}var e=this.hls.config,f=c=void 0,h=void 0,g=void 0;"manifest"===b.type?(c=e.manifestLoadingMaxRetry,f=e.manifestLoadingTimeOut,h=e.manifestLoadingRetryDelay,g=e.manifestLoadingMaxRetryTimeout):(c=e.levelLoadingMaxRetry,
f=e.levelLoadingTimeOut,h=e.levelLoadingRetryDelay,g=e.levelLoadingMaxRetryTimeout,d.logger.log("loading playlist for "+b.type+" "+(b.level||b.id)));e=this.loaders[b.type]=b.loader=void 0!==e.pLoader?new e.pLoader(e):new e.loader(e);b.url=a;b.responseType="";c={timeout:f,maxRetry:c,retryDelay:h,maxRetryDelay:g};f={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};e.load(b,c,f)}},{key:"resolve",value:function(a,d){return b["default"].buildAbsoluteURL(d,
a,{alwaysNormalize:!0})}},{key:"parseMasterPlaylist",value:function(b,d){var e=[],c;for(a.lastIndex=0;null!=(c=a.exec(b));){var f={},h=f.attrs=new l["default"](c[1]);f.url=this.resolve(c[2],d);(c=h.decimalResolution("RESOLUTION"))&&(f.width=c.width,f.height=c.height);f.bitrate=h.decimalInteger("AVERAGE-BANDWIDTH")||h.decimalInteger("BANDWIDTH");f.name=h.NAME;if(h=h.CODECS)for(h=h.split(/[ ,]+/),c=0;c<h.length;c++){var g=h[c];-1!==g.indexOf("avc1")?f.videoCodec=this.avc1toavcoti(g):f.audioCodec=g}e.push(f)}return e}},
{key:"parseMasterPlaylistMedia",value:function(a,b,d){var e,c=[],h=0;for(f.lastIndex=0;null!=(e=f.exec(a));){var g={};e=new l["default"](e[1]);e.TYPE===d&&(g.groupId=e["GROUP-ID"],g.name=e.NAME,g.type=d,g["default"]="YES"===e.DEFAULT,g.autoselect="YES"===e.AUTOSELECT,g.forced="YES"===e.FORCED,e.URI&&(g.url=this.resolve(e.URI,b)),g.lang=e.LANGUAGE,g.name||(g.name=g.lang),g.id=h++,c.push(g))}return c}},{key:"avc1toavcoti",value:function(a){var b,d=a.split(".");return 2<d.length?(b=d.shift()+".",b+=
parseInt(d.shift()).toString(16),b+=("000"+parseInt(d.shift()).toString(16)).substr(-4)):b=a,b}},{key:"parseLevelPlaylist",value:function(a,b,e,c){var f,h,g=0,k=0,n={type:null,version:null,url:b,fragments:[],live:!0,startSN:0},m=new w,p=0,q=null,r=new y;for(t.lastIndex=0;null!==(f=t.exec(a));)if(h=f[1])r.duration=parseFloat(h),f=(" "+f[2]).slice(1),r.title=f||null,r.tagList.push(f?["INF",h,f]:["INF",h]);else if(f[3])isNaN(r.duration)||(q=g++,r.type=c,r.start=k,r.levelkey=m,r.sn=q,r.level=e,r.cc=p,
r.baseurl=b,r.relurl=(" "+f[3]).slice(1),n.fragments.push(r),q=r,k+=r.duration,r=new y);else if(f[4])(r.rawByteRange=(" "+f[4]).slice(1),q)&&(f=q.byteRangeEndOffset)&&(r.lastByteRangeEndOffset=f);else if(f[5])r.rawProgramDateTime=(" "+f[5]).slice(1),r.tagList.push(["PROGRAM-DATE-TIME",r.rawProgramDateTime]);else{f=f[0].match(/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)(.*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/);
for(h=1;h<f.length&&void 0===f[h];h++);var u=(" "+f[h+1]).slice(1),A=(" "+f[h+2]).slice(1);switch(f[h]){case "#":r.tagList.push(A?[u,A]:[u]);break;case "PLAYLIST-TYPE":n.type=u.toUpperCase();break;case "MEDIA-SEQUENCE":g=n.startSN=parseInt(u);break;case "TARGETDURATION":n.targetduration=parseFloat(u);break;case "VERSION":n.version=parseInt(u);break;case "EXTM3U":break;case "ENDLIST":n.live=!1;break;case "DIS":p++;r.tagList.push(["DIS"]);break;case "DISCONTINUITY-SEQ":p=parseInt(u);break;case "KEY":u=
new l["default"](u);f=u.enumeratedString("METHOD");h=u.URI;u=u.hexadecimalInteger("IV");f&&(m=new w,h&&0<=["AES-128","SAMPLE-AES"].indexOf(f)&&(m.method=f,m.baseuri=b,m.reluri=h,m.key=null,m.iv=u));break;case "START":f=(new l["default"](u)).decimalFloatingPoint("TIME-OFFSET");isNaN(f)||(n.startTimeOffset=f);break;case "MAP":f=new l["default"](u);r.relurl=f.URI;r.rawByteRange=f.BYTERANGE;r.baseurl=b;r.level=e;r.type=c;r.sn="initSegment";n.initSegment=r;r=new y;break;default:d.logger.warn("line parsed but not handled: "+
f)}}return r=q,r&&!r.relurl&&(n.fragments.pop(),k-=r.duration),n.totalduration=k,n.averagetargetduration=k/n.fragments.length,n.endSN=g-1,n}},{key:"loadsuccess",value:function(a,b,e){var c=a.data;a=a.url;var f=e.type,h=e.id,g=e.level,k=this.hls;if(this.loaders[f]=void 0,void 0!==a&&0!==a.indexOf("data:")||(a=e.url),b.tload=performance.now(),0===c.indexOf("#EXTM3U"))if(0<c.indexOf("#EXTINF:")){e="audioTrack"!==f&&"subtitleTrack"!==f;var l=isNaN(g)?isNaN(h)?0:h:g,c=this.parseLevelPlaylist(c,a,l,"audioTrack"===
f?"audio":"subtitleTrack"===f?"subtitle":"main");c.tload=b.tload;"manifest"===f&&k.trigger(n["default"].MANIFEST_LOADED,{levels:[{url:a,details:c}],audioTracks:[],url:a,stats:b});b.tparsed=performance.now();c.targetduration?e?k.trigger(n["default"].LEVEL_LOADED,{details:c,level:g||0,id:h||0,stats:b}):"audioTrack"===f?k.trigger(n["default"].AUDIO_TRACK_LOADED,{details:c,id:h,stats:b}):"subtitleTrack"===f&&k.trigger(n["default"].SUBTITLE_TRACK_LOADED,{details:c,id:h,stats:b}):k.trigger(n["default"].ERROR,
{type:r.ErrorTypes.NETWORK_ERROR,details:r.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:a,reason:"invalid targetduration"})}else if(f=this.parseMasterPlaylist(c,a),f.length){h=this.parseMasterPlaylistMedia(c,a,"AUDIO");c=this.parseMasterPlaylistMedia(c,a,"SUBTITLES");if(h.length){var m=!1;h.forEach(function(a){a.url||(m=!0)});!1===m&&f[0].audioCodec&&!f[0].attrs.AUDIO&&(d.logger.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),h.unshift({type:"main",
name:"main"}))}k.trigger(n["default"].MANIFEST_LOADED,{levels:f,audioTracks:h,subtitles:c,url:a,stats:b})}else k.trigger(n["default"].ERROR,{type:r.ErrorTypes.NETWORK_ERROR,details:r.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:a,reason:"no level found in manifest"});else k.trigger(n["default"].ERROR,{type:r.ErrorTypes.NETWORK_ERROR,details:r.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:a,reason:"no EXTM3U delimiter"})}},{key:"loaderror",value:function(a,b){var d=b.loader;switch(b.type){case "manifest":var e=
r.ErrorDetails.MANIFEST_LOAD_ERROR;var c=!0;break;case "level":e=r.ErrorDetails.LEVEL_LOAD_ERROR;c=!1;break;case "audioTrack":e=r.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,c=!1}d&&(d.abort(),this.loaders[b.type]=void 0);this.hls.trigger(n["default"].ERROR,{type:r.ErrorTypes.NETWORK_ERROR,details:e,fatal:c,url:d.url,loader:d,response:a,context:b})}},{key:"loadtimeout",value:function(a,b){var d=b.loader;switch(b.type){case "manifest":var e=r.ErrorDetails.MANIFEST_LOAD_TIMEOUT;var c=!0;break;case "level":e=
r.ErrorDetails.LEVEL_LOAD_TIMEOUT;c=!1;break;case "audioTrack":e=r.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT,c=!1}d&&(d.abort(),this.loaders[b.type]=void 0);this.hls.trigger(n["default"].ERROR,{type:r.ErrorTypes.NETWORK_ERROR,details:e,fatal:c,url:d.url,loader:d,context:b})}}]),g}(k["default"]);q["default"]=c},{2:2,30:30,31:31,32:32,44:44,50:50}],41:[function(c,g,q){Object.defineProperty(q,"__esModule",{value:!0});var m=function(){function c(e,b){for(var c=0;c<b.length;c++){var h=b[c];h.enumerable=h.enumerable||
!1;h.configurable=!0;"value"in h&&(h.writable=!0);Object.defineProperty(e,h.key,h)}}return function(e,b,h){return b&&c(e.prototype,b),h&&c(e,h),e}}(),p=Math.pow(2,32)-1;c=function(){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");}return m(c,null,[{key:"init",value:function(){c.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],
stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};for(var e in c.types)c.types.hasOwnProperty(e)&&(c.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);e=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]);var b=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);c.HDLR_TYPES=
{video:e,audio:b};e=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]);b=new Uint8Array([0,0,0,0,0,0,0,0]);c.STTS=c.STSC=c.STCO=b;c.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]);c.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]);c.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]);c.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var b=new Uint8Array([105,115,111,109]),g=new Uint8Array([97,118,99,49]),h=new Uint8Array([0,0,0,1]);c.FTYP=c.box(c.types.ftyp,b,h,b,g);c.DINF=c.box(c.types.dinf,c.box(c.types.dref,
e))}},{key:"box",value:function(c){for(var b,e=Array.prototype.slice.call(arguments,1),g=8,h=e.length,l=h;h--;)g+=e[h].byteLength;b=new Uint8Array(g);b[0]=g>>24&255;b[1]=g>>16&255;b[2]=g>>8&255;b[3]=255&g;b.set(c,4);h=0;for(g=8;h<l;h++)b.set(e[h],g),g+=e[h].byteLength;return b}},{key:"hdlr",value:function(e){return c.box(c.types.hdlr,c.HDLR_TYPES[e])}},{key:"mdat",value:function(e){return c.box(c.types.mdat,e)}},{key:"mdhd",value:function(e,b){b*=e;var g=Math.floor(b/(p+1)),h=Math.floor(b%(p+1));
return c.box(c.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,g>>24,g>>16&255,g>>8&255,255&g,h>>24,h>>16&255,h>>8&255,255&h,85,196,0,0]))}},{key:"mdia",value:function(e){return c.box(c.types.mdia,c.mdhd(e.timescale,e.duration),c.hdlr(e.type),c.minf(e))}},{key:"mfhd",value:function(e){return c.box(c.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e]))}},{key:"minf",value:function(e){return"audio"===e.type?c.box(c.types.minf,c.box(c.types.smhd,
c.SMHD),c.DINF,c.stbl(e)):c.box(c.types.minf,c.box(c.types.vmhd,c.VMHD),c.DINF,c.stbl(e))}},{key:"moof",value:function(e,b,g){return c.box(c.types.moof,c.mfhd(e),c.traf(g,b))}},{key:"moov",value:function(e){for(var b=e.length,g=[];b--;)g[b]=c.trak(e[b]);return c.box.apply(null,[c.types.moov,c.mvhd(e[0].timescale,e[0].duration)].concat(g).concat(c.mvex(e)))}},{key:"mvex",value:function(e){for(var b=e.length,g=[];b--;)g[b]=c.trex(e[b]);return c.box.apply(null,[c.types.mvex].concat(g))}},{key:"mvhd",
value:function(e,b){b*=e;var g=Math.floor(b/(p+1)),h=Math.floor(b%(p+1)),g=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,g>>24,g>>16&255,g>>8&255,255&g,h>>24,h>>16&255,h>>8&255,255&h,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return c.box(c.types.mvhd,g)}},{key:"sdtp",value:function(e){var b,g=e.samples||[],h=new Uint8Array(4+
g.length);for(b=0;b<g.length;b++)e=g[b].flags,h[b+4]=e.dependsOn<<4|e.isDependedOn<<2|e.hasRedundancy;return c.box(c.types.sdtp,h)}},{key:"stbl",value:function(e){return c.box(c.types.stbl,c.stsd(e),c.box(c.types.stts,c.STTS),c.box(c.types.stsc,c.STSC),c.box(c.types.stsz,c.STSZ),c.box(c.types.stco,c.STCO))}},{key:"avc1",value:function(e){var b,g=[],h=[];for(b=0;b<e.sps.length;b++){var m=e.sps[b];var l=m.byteLength;g.push(l>>>8&255);g.push(255&l);g=g.concat(Array.prototype.slice.call(m))}for(b=0;b<
e.pps.length;b++)m=e.pps[b],l=m.byteLength,h.push(l>>>8&255),h.push(255&l),h=h.concat(Array.prototype.slice.call(m));b=c.box(c.types.avcC,new Uint8Array([1,g[3],g[4],g[5],255,224|e.sps.length].concat(g).concat([e.pps.length]).concat(h)));m=e.width;l=e.height;g=e.pixelRatio[0];e=e.pixelRatio[1];return c.box(c.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,m>>8&255,255&m,l>>8&255,255&l,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,
115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),b,c.box(c.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),c.box(c.types.pasp,new Uint8Array([g>>24,g>>16&255,g>>8&255,255&g,e>>24,e>>16&255,e>>8&255,255&e])))}},{key:"esds",value:function(c){var b=c.config.length;return new Uint8Array([0,0,0,0,3,23+b,0,1,0,4,15+b,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([b]).concat(c.config).concat([6,1,2]))}},{key:"mp4a",value:function(e){var b=e.samplerate;return c.box(c.types.mp4a,new Uint8Array([0,
0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,b>>8&255,255&b,0,0]),c.box(c.types.esds,c.esds(e)))}},{key:"mp3",value:function(e){var b=e.samplerate;return c.box(c.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,b>>8&255,255&b,0,0]))}},{key:"stsd",value:function(e){return"audio"===e.type?e.isAAC||"mp3"!==e.codec?c.box(c.types.stsd,c.STSD,c.mp4a(e)):c.box(c.types.stsd,c.STSD,c.mp3(e)):c.box(c.types.stsd,c.STSD,c.avc1(e))}},{key:"tkhd",value:function(e){var b=
e.id,g=e.duration*e.timescale,h=e.width;e=e.height;var m=Math.floor(g/(p+1)),g=Math.floor(g%(p+1));return c.box(c.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,b>>24&255,b>>16&255,b>>8&255,255&b,0,0,0,0,m>>24,m>>16&255,m>>8&255,255&m,g>>24,g>>16&255,g>>8&255,255&g,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,h>>8&255,255&h,0,0,e>>8&255,255&e,0,0]))}},{key:"traf",value:function(e,b){var g=c.sdtp(e),h=e.id,m=Math.floor(b/
(p+1)),l=Math.floor(b%(p+1));return c.box(c.types.traf,c.box(c.types.tfhd,new Uint8Array([0,0,0,0,h>>24,h>>16&255,h>>8&255,255&h])),c.box(c.types.tfdt,new Uint8Array([1,0,0,0,m>>24,m>>16&255,m>>8&255,255&m,l>>24,l>>16&255,l>>8&255,255&l])),c.trun(e,g.length+16+20+8+16+8+8),g)}},{key:"trak",value:function(e){return e.duration=e.duration||4294967295,c.box(c.types.trak,c.tkhd(e),c.mdia(e))}},{key:"trex",value:function(e){e=e.id;return c.box(c.types.trex,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,
255&e,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}},{key:"trun",value:function(e,b){var g=e.samples||[],h=g.length;var m=12+16*h;var l=new Uint8Array(m);b+=8+m;l.set([0,0,15,1,h>>>24&255,h>>>16&255,h>>>8&255,255&h,b>>>24&255,b>>>16&255,b>>>8&255,255&b],0);for(m=0;m<h;m++){var d=g[m];var a=d.duration;var f=d.size;var p=d.flags;d=d.cts;l.set([a>>>24&255,a>>>16&255,a>>>8&255,255&a,f>>>24&255,f>>>16&255,f>>>8&255,255&f,p.isLeading<<2|p.dependsOn,p.isDependedOn<<6|p.hasRedundancy<<4|p.paddingValue<<1|p.isNonSync,
61440&p.degradPrio,15&p.degradPrio,d>>>24&255,d>>>16&255,d>>>8&255,255&d],12+16*m)}return c.box(c.types.trun,l)}},{key:"initSegment",value:function(e){c.types||c.init();var b;e=c.moov(e);return b=new Uint8Array(c.FTYP.byteLength+e.byteLength),b.set(c.FTYP),b.set(e,c.FTYP.byteLength),b}}]),c}();q["default"]=c},{}],42:[function(c,g,q){function m(b){return b&&b.__esModule?b:{"default":b}}Object.defineProperty(q,"__esModule",{value:!0});var p=function(){function b(b,c){for(var a=0;a<c.length;a++){var d=
c[a];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(c,d,a){return d&&b(c.prototype,d),a&&b(c,a),c}}();g=c(33);var h=m(g);g=c(32);var e=m(g),b=c(50);g=c(41);var n=m(g),k=c(30);c=function(){function c(b,d,a,e){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.observer=b;this.config=d;this.typeSupported=a;b=navigator.userAgent;this.isSafari=e&&-1<e.indexOf("Apple")&&b&&!b.match("CriOS");
this.ISGenerated=!1}return p(c,[{key:"destroy",value:function(){}},{key:"resetTimeStamp",value:function(b){this._initPTS=this._initDTS=b}},{key:"resetInitSegment",value:function(){this.ISGenerated=!1}},{key:"remux",value:function(b,c,a,f,g,h,k){if(this.ISGenerated||this.generateIS(b,c,g),this.ISGenerated)b.samples.length?(b=this.remuxAudio(b,g,h,k),c.samples.length&&(k=void 0,b&&(k=b.endPTS-b.startPTS),this.remuxVideo(c,g,h,k))):(k=void 0,c.samples.length&&(k=this.remuxVideo(c,g,h)),k&&b.codec&&this.remuxEmptyAudio(b,
g,h,k));a.samples.length&&this.remuxID3(a,g);f.samples.length&&this.remuxText(f,g);this.observer.trigger(e["default"].FRAG_PARSED)}},{key:"generateIS",value:function(c,d,a){var f,g,h=this.observer,l=c.samples,m=d.samples,p=this.typeSupported,q="audio/mp4",r={},u={tracks:r},t=void 0===this._initPTS;if(t&&(f=g=1/0),c.config&&l.length&&(c.timescale=c.samplerate,b.logger.log("audio sampling rate : "+c.samplerate),c.isAAC||(p.mpeg?(q="audio/mpeg",c.codec=""):p.mp3&&(c.codec="mp3")),r.audio={container:q,
codec:c.codec,initSegment:!c.isAAC&&p.mpeg?new Uint8Array:n["default"].initSegment([c]),metadata:{channelCount:c.channelCount}},t&&(f=g=l[0].pts-c.inputTimeScale*a)),d.sps&&d.pps&&m.length)c=d.inputTimeScale,d.timescale=c,r.video={container:"video/mp4",codec:d.codec,initSegment:n["default"].initSegment([d]),metadata:{width:d.width,height:d.height}},t&&(f=Math.min(f,m[0].pts-c*a),g=Math.min(g,m[0].dts-c*a),this.observer.trigger(e["default"].INIT_PTS_FOUND,{initPTS:f}));Object.keys(r).length?(h.trigger(e["default"].FRAG_PARSING_INIT_SEGMENT,
u),this.ISGenerated=!0,t&&(this._initPTS=f,this._initDTS=g)):h.trigger(e["default"].ERROR,{type:k.ErrorTypes.MEDIA_ERROR,details:k.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})}},{key:"remuxVideo",value:function(c,d,a,f){var g,h;var l=8;var m=c.timescale,p=c.samples,q=[],r=p.length,u=this._PTSNormalize,t=this._initDTS;p.sort(function(a,b){var c=a.pts-b.pts;return a.dts-b.dts||c||a.id-b.id});var w=p.reduce(function(a,b){return Math.max(Math.min(a,b.pts-b.dts),-18E3)},
0);if(0>w)for(b.logger.warn("PTS < DTS detected in video samples, shifting DTS by "+Math.round(w/90)+" ms to overcome this issue"),h=0;h<p.length;h++)p[h].dts+=w;var F=void 0,F=a?this.nextAvcDts:d*m,G=p[0];w=Math.max(u(G.dts-t,F),0);d=Math.max(u(G.pts-t,F),0);h=Math.round((w-F)/90);a&&h&&(1<h?b.logger.log("AVC:"+h+" ms hole between fragments detected,filling it"):-1>h&&b.logger.log("AVC:"+-h+" ms overlapping between fragments detected"),w=F,p[0].dts=w+t,d=Math.max(d-h,F),p[0].pts=d+t,b.logger.log("Video/PTS/DTS adjusted: "+
Math.round(d/90)+"/"+Math.round(w/90)+",delta:"+h+" ms"));G=p[p.length-1];h=Math.max(u(G.dts-t,F),0);a=Math.max(u(G.pts-t,F),0);a=Math.max(a,h);(G=this.isSafari)&&(g=Math.round((h-w)/(p.length-1)));for(var M=0,J=0,B=0;B<r;B++){for(var O=p[B],N=O.units,I=N.length,K=0,T=0;T<I;T++)K+=N[T].data.length;J+=K;M+=I;O.length=K;O.dts=G?w+B*g:Math.max(u(O.dts-t,F),w);O.pts=Math.max(u(O.pts-t,F),O.dts)}t=J+4*M+8;try{var U=new Uint8Array(t)}catch(Y){return void this.observer.trigger(e["default"].ERROR,{type:k.ErrorTypes.MUX_ERROR,
details:k.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:t,reason:"fail allocating video mdat "+t})}u=new DataView(U.buffer);u.setUint32(0,t);U.set(n["default"].types.mdat,4);for(t=0;t<r;t++){F=p[t];J=F.units;M=0;B=void 0;B=0;for(O=J.length;B<O;B++)I=J[B],N=I.data,I=I.data.byteLength,u.setUint32(l,I),l+=4,U.set(N,l),l+=I,M+=4+I;G?B=Math.max(0,g*Math.round((F.pts-F.dts)/g)):(t<r-1?g=p[t+1].dts-F.dts:(J=this.config,B=F.dts-p[0<t?t-1:t].dts,J.stretchShortVideoTrack?(O=(f?d+f*m:this.nextAudioPts)-F.pts,
O>Math.floor(Math.min(J.maxBufferHole,J.maxSeekHole)*m)?(g=O-B,0>g&&(g=B),b.logger.log("It is approximately "+O/90+" ms to the next segment; using duration "+g/90+" ms for the last video frame.")):g=B):g=B),B=Math.round(F.pts-F.dts));q.push({size:M,duration:g,cts:B,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:F.key?2:1,isNonSync:F.key?0:1}})}this.nextAvcDts=h+g;f=c.dropped;if(c.len=0,c.nbNalu=0,c.dropped=0,q.length&&-1<navigator.userAgent.toLowerCase().indexOf("chrome"))l=
q[0].flags,l.dependsOn=2,l.isNonSync=0;c.samples=q;l=n["default"].moof(c.sequenceNumber++,w,c);c.samples=[];c={data1:l,data2:U,startPTS:d/m,endPTS:(a+g)/m,startDTS:w/m,endDTS:this.nextAvcDts/m,type:"video",nb:q.length,dropped:f};return this.observer.trigger(e["default"].FRAG_PARSING_DATA,c),c}},{key:"remuxAudio",value:function(c,d,a,f){var g,l,m,p,q,r,u,t,w,P,F=c.inputTimeScale,G=F/c.timescale,M=(c.isAAC?1024:1152)*G,J=this._PTSNormalize,B=this._initDTS,O=(m=!c.isAAC&&this.typeSupported.mpeg)?0:8,
N=[],I=[];if(c.samples.sort(function(a,b){return a.pts-b.pts}),I=c.samples,P=this.nextAudioPts,a|=I.length&&P&&(.1>Math.abs(d-P/F)||Math.abs(I[0].pts-P-B)<20*M),a||(P=d*F),f&&c.isAAC){f=0;for(var K=P;f<I.length;){var T=I[f];d=J(T.pts-B,P)-K;if(d<=-M)b.logger.warn("Dropping 1 audio frame @ "+(K/F).toFixed(3)+"s due to "+Math.abs(1E3*d/F)+" ms overlap."),I.splice(f,1),c.len-=T.unit.length;else{if(d>=M&&K){var U=Math.round(d/M);b.logger.warn("Injecting "+U+" audio frame @ "+(K/F).toFixed(3)+"s due to "+
1E3*d/F+" ms gap.");for(var Y=0;Y<U;Y++)d=K+B,d=Math.max(d,B),(w=h["default"].getSilentFrame(c.manifestCodec||c.codec,c.channelCount))||(b.logger.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),w=T.unit.subarray()),I.splice(f,0,{unit:w,pts:d,dts:d}),c.len+=w.length,K+=M,f+=1;T.pts=T.dts=K+B;K+=M}else Math.abs(d),K+=M,T.pts=T.dts=0===f?B+P:I[f-1].pts+M;f+=1}}}f=0;for(K=I.length;f<K;f++){if(l=I[f],T=l.unit,u=l.pts-B,t=l.dts-B,void 0!==r)u=J(u,r),t=J(t,r),S.duration=
Math.round((t-r)/G);else{u=J(u,P);t=J(t,P);d=Math.round(1E3*(u-P)/F);U=0;if(a&&c.isAAC&&d){if(0<d)U=Math.round((u-P)/M),b.logger.log(d+" ms hole between AAC samples detected,filling it"),0<U&&(w=h["default"].getSilentFrame(c.manifestCodec||c.codec,c.channelCount),w||(w=T.subarray()),c.len+=U*w.length);else if(-12>d){b.logger.log(-d+" ms overlapping between AAC samples detected, drop frame");c.len-=T.byteLength;continue}u=t=P}if(p=Math.max(0,u),q=Math.max(0,t),!(0<c.len))return;var S=m?c.len:c.len+
8;try{var aa=new Uint8Array(S)}catch(da){return void this.observer.trigger(e["default"].ERROR,{type:k.ErrorTypes.MUX_ERROR,details:k.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:S,reason:"fail allocating audio mdat "+S})}m||(g=new DataView(aa.buffer),g.setUint32(0,S),aa.set(n["default"].types.mdat,4));for(r=0;r<U;r++)d=u-(U-r)*M,(w=h["default"].getSilentFrame(c.manifestCodec||c.codec,c.channelCount))||(b.logger.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),
w=T.subarray()),aa.set(w,O),O+=w.byteLength,S={size:w.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},N.push(S)}aa.set(T,O);S=T.byteLength;O+=S;S={size:S,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}};N.push(S);r=t}a=0;g=N.length;return(2<=g&&(a=N[g-2].duration,S.duration=a),g)?(this.nextAudioPts=u+G*a,c.len=0,c.samples=N,m=m?new Uint8Array:n["default"].moof(c.sequenceNumber++,q/G,c),c.samples=
[],c={data1:m,data2:aa,startPTS:p/F,endPTS:this.nextAudioPts/F,startDTS:q/F,endDTS:(t+G*a)/F,type:"audio",nb:g},this.observer.trigger(e["default"].FRAG_PARSING_DATA,c),c):null}},{key:"remuxEmptyAudio",value:function(c,d,a,e){var f=c.inputTimeScale,g=this.nextAudioPts,g=(void 0!==g?g:e.startDTS*f)+this._initDTS,k=f/(c.samplerate?c.samplerate:f)*1024;e=Math.ceil((e.endDTS*f+this._initDTS-g)/k);f=h["default"].getSilentFrame(c.manifestCodec||c.codec,c.channelCount);if(b.logger.warn("remux empty Audio"),
!f)return void b.logger.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!");for(var l=[],n=0;n<e;n++){var m=g+n*k;l.push({unit:f,pts:m,dts:m});c.len+=f.length}c.samples=l;this.remuxAudio(c,d,a)}},{key:"remuxID3",value:function(b,c){var a=b.samples.length,d=b.inputTimeScale,g=this._initPTS,h=this._initDTS;if(a){for(var k=0;k<a;k++){var l=b.samples[k];l.pts=(l.pts-g)/d;l.dts=(l.dts-h)/d}this.observer.trigger(e["default"].FRAG_PARSING_METADATA,{samples:b.samples})}b.samples=
[]}},{key:"remuxText",value:function(b,c){b.samples.sort(function(a,b){return a.pts-b.pts});var a=b.samples.length,d=b.inputTimeScale,g=this._initPTS;if(a){for(var h=0;h<a;h++){var k=b.samples[h];k.pts=(k.pts-g)/d}this.observer.trigger(e["default"].FRAG_PARSING_USERDATA,{samples:b.samples})}b.samples=[]}},{key:"_PTSNormalize",value:function(b,c){var a;if(void 0===c)return b;for(a=c<b?-8589934592:8589934592;4294967296<Math.abs(b-c);)b+=a;return b}}]),c}();q["default"]=c},{30:30,32:32,33:33,41:41,50:50}],
43:[function(c,g,q){Object.defineProperty(q,"__esModule",{value:!0});var m=function(){function c(c,b){for(var e=0;e<b.length;e++){var g=b[e];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(c,g.key,g)}}return function(e,b,g){return b&&c(e.prototype,b),g&&c(e,g),e}}(),p=(c=c(32))&&c.__esModule?c:{"default":c};c=function(){function c(e){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.observer=e}return m(c,[{key:"destroy",
value:function(){}},{key:"resetTimeStamp",value:function(){}},{key:"resetInitSegment",value:function(){}},{key:"remux",value:function(c,b,g,h,m,l,d,a){g=this.observer;h="";c&&(h+="audio");b&&(h+="video");g.trigger(p["default"].FRAG_PARSING_DATA,{data1:a,startPTS:m,startDTS:m,type:h,nb:1,dropped:0});g.trigger(p["default"].FRAG_PARSED)}}]),c}();q["default"]=c},{32:32}],44:[function(c,g,q){Object.defineProperty(q,"__esModule",{value:!0});var m=function(){function c(b,c){for(var e=0;e<c.length;e++){var g=
c[e];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(b,g.key,g)}}return function(b,e,g){return e&&c(b.prototype,e),g&&c(b,g),b}}(),p=/^(\d+)x(\d+)$/,h=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g;c=function(){function c(b){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");"string"==typeof b&&(b=c.parseAttrList(b));for(var e in b)b.hasOwnProperty(e)&&(this[e]=b[e])}return m(c,[{key:"decimalInteger",value:function(b){b=parseInt(this[b],
10);return b>Number.MAX_SAFE_INTEGER?1/0:b}},{key:"hexadecimalInteger",value:function(b){if(this[b]){b=(this[b]||"0x").slice(2);b=(1&b.length?"0":"")+b;for(var c=new Uint8Array(b.length/2),e=0;e<b.length/2;e++)c[e]=parseInt(b.slice(2*e,2*e+2),16);return c}return null}},{key:"hexadecimalIntegerAsNumber",value:function(b){b=parseInt(this[b],16);return b>Number.MAX_SAFE_INTEGER?1/0:b}},{key:"decimalFloatingPoint",value:function(b){return parseFloat(this[b])}},{key:"enumeratedString",value:function(b){return this[b]}},
{key:"decimalResolution",value:function(b){b=p.exec(this[b]);if(null!==b)return{width:parseInt(b[1],10),height:parseInt(b[2],10)}}}],[{key:"parseAttrList",value:function(b){var c,e={};for(h.lastIndex=0;null!==(c=h.exec(b));){var g=c[2];0===g.indexOf('"')&&g.lastIndexOf('"')===g.length-1&&(g=g.slice(1,-1));e[c[1]]=g}return e}}]),c}();q["default"]=c},{}],45:[function(c,g,q){g.exports={search:function(c,g){for(var h=0,e=c.length-1,b,n;h<=e;){b=(h+e)/2|0;n=c[b];var k=g(n);if(0<k)h=b+1;else{if(!(0>k))return n;
e=b-1}}return null}}},{}],46:[function(c,g,q){function m(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(q,"__esModule",{value:!0});var p=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,
126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,
188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},e=function(a){var b=a;return h.hasOwnProperty(a)&&(b=h[a]),String.fromCharCode(b)},b={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},n={17:2,18:4,21:6,22:8,23:10,19:13,20:15},k={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},r={25:2,26:4,29:6,30:8,31:10,27:13,28:15},l="white green blue cyan red yellow magenta black transparent".split(" "),d=
{verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(a){this.time=a},log:function(a,b){this.verboseLevel>=this.verboseFilter[a]&&console.log(this.time+" ["+a+"] "+b)}},a=function(a){for(var b=[],c=0;c<a.length;c++)b.push(a[c].toString(16));return b},f=function(){function a(b,c,d,e,f){m(this,a);this.foreground=b||"white";this.underline=c||!1;this.italics=d||!1;this.background=e||"black";this.flash=f||!1}return p(a,[{key:"reset",value:function(){this.foreground=
"white";this.italics=this.underline=!1;this.background="black";this.flash=!1}},{key:"setStyles",value:function(a){for(var b=["foreground","underline","italics","background","flash"],c=0;c<b.length;c++){var d=b[c];a.hasOwnProperty(d)&&(this[d]=a[d])}}},{key:"isDefault",value:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash}},{key:"equals",value:function(a){return this.foreground===a.foreground&&this.underline===a.underline&&this.italics===
a.italics&&this.background===a.background&&this.flash===a.flash}},{key:"copy",value:function(a){this.foreground=a.foreground;this.underline=a.underline;this.italics=a.italics;this.background=a.background;this.flash=a.flash}},{key:"toString",value:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}]),a}(),t=function(){function a(b,c,d,e,g,h){m(this,a);this.uchar=b||" ";this.penState=new f(c,d,e,g,
h)}return p(a,[{key:"reset",value:function(){this.uchar=" ";this.penState.reset()}},{key:"setChar",value:function(a,b){this.uchar=a;this.penState.copy(b)}},{key:"setPenState",value:function(a){this.penState.copy(a)}},{key:"equals",value:function(a){return this.uchar===a.uchar&&this.penState.equals(a.penState)}},{key:"copy",value:function(a){this.uchar=a.uchar;this.penState.copy(a.penState)}},{key:"isEmpty",value:function(){return" "===this.uchar&&this.penState.isDefault()}}]),a}(),w=function(){function a(){m(this,
a);this.chars=[];for(var b=0;100>b;b++)this.chars.push(new t);this.pos=0;this.currPenState=new f}return p(a,[{key:"equals",value:function(a){for(var b=!0,c=0;100>c;c++)if(!this.chars[c].equals(a.chars[c])){b=!1;break}return b}},{key:"copy",value:function(a){for(var b=0;100>b;b++)this.chars[b].copy(a.chars[b])}},{key:"isEmpty",value:function(){for(var a=!0,b=0;100>b;b++)if(!this.chars[b].isEmpty()){a=!1;break}return a}},{key:"setCursor",value:function(a){this.pos!==a&&(this.pos=a);0>this.pos?(d.log("ERROR",
"Negative cursor position "+this.pos),this.pos=0):100<this.pos&&(d.log("ERROR","Too large cursor position "+this.pos),this.pos=100)}},{key:"moveCursor",value:function(a){var b=this.pos+a;if(1<a)for(a=this.pos+1;a<b+1;a++)this.chars[a].setPenState(this.currPenState);this.setCursor(b)}},{key:"backSpace",value:function(){this.moveCursor(-1);this.chars[this.pos].setChar(" ",this.currPenState)}},{key:"insertChar",value:function(a){144<=a&&this.backSpace();var b=e(a);if(100<=this.pos)return void d.log("ERROR",
"Cannot insert "+a.toString(16)+" ("+b+") at position "+this.pos+". Skipping it!");this.chars[this.pos].setChar(b,this.currPenState);this.moveCursor(1)}},{key:"clearFromPos",value:function(a){for(;100>a;a++)this.chars[a].reset()}},{key:"clear",value:function(){this.clearFromPos(0);this.pos=0;this.currPenState.reset()}},{key:"clearToEndOfRow",value:function(){this.clearFromPos(this.pos)}},{key:"getTextString",value:function(){for(var a=[],b=!0,c=0;100>c;c++){var d=this.chars[c].uchar;" "!==d&&(b=!1);
a.push(d)}return b?"":a.join("")}},{key:"setPenStyles",value:function(a){this.currPenState.setStyles(a);this.chars[this.pos].setPenState(this.currPenState)}}]),a}(),y=function(){function a(){m(this,a);this.rows=[];for(var b=0;15>b;b++)this.rows.push(new w);this.currRow=14;this.nrRollUpRows=null;this.reset()}return p(a,[{key:"reset",value:function(){for(var a=0;15>a;a++)this.rows[a].clear();this.currRow=14}},{key:"equals",value:function(a){for(var b=!0,c=0;15>c;c++)if(!this.rows[c].equals(a.rows[c])){b=
!1;break}return b}},{key:"copy",value:function(a){for(var b=0;15>b;b++)this.rows[b].copy(a.rows[b])}},{key:"isEmpty",value:function(){for(var a=!0,b=0;15>b;b++)if(!this.rows[b].isEmpty()){a=!1;break}return a}},{key:"backSpace",value:function(){this.rows[this.currRow].backSpace()}},{key:"clearToEndOfRow",value:function(){this.rows[this.currRow].clearToEndOfRow()}},{key:"insertChar",value:function(a){this.rows[this.currRow].insertChar(a)}},{key:"setPen",value:function(a){this.rows[this.currRow].setPenStyles(a)}},
{key:"moveCursor",value:function(a){this.rows[this.currRow].moveCursor(a)}},{key:"setCursor",value:function(a){d.log("INFO","setCursor: "+a);this.rows[this.currRow].setCursor(a)}},{key:"setPAC",value:function(a){d.log("INFO","pacData = "+JSON.stringify(a));var b=a.row-1;if(this.nrRollUpRows&&b<this.nrRollUpRows-1&&(b=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==b){for(var c=0;15>c;c++)this.rows[c].clear();var c=this.currRow+1-this.nrRollUpRows,e=this.lastOutputScreen;if(e){var f=e.rows[c].cueStartTime;
if(f&&f<d.time)for(f=0;f<this.nrRollUpRows;f++)this.rows[b-this.nrRollUpRows+f+1].copy(e.rows[c+f])}}this.currRow=b;b=this.rows[this.currRow];null!==a.indent&&(c=Math.max(a.indent-1,0),b.setCursor(a.indent),a.color=b.chars[c].penState.foreground);this.setPen({foreground:a.color,underline:a.underline,italics:a.italics,background:"black",flash:!1})}},{key:"setBkgData",value:function(a){d.log("INFO","bkgData = "+JSON.stringify(a));this.backSpace();this.setPen(a);this.insertChar(32)}},{key:"setRollUpRows",
value:function(a){this.nrRollUpRows=a}},{key:"rollUp",value:function(){if(null===this.nrRollUpRows)return void d.log("DEBUG","roll_up but nrRollUpRows not set yet");d.log("TEXT",this.getDisplayText());var a=this.rows.splice(this.currRow+1-this.nrRollUpRows,1)[0];a.clear();this.rows.splice(this.currRow,0,a);d.log("INFO","Rolling up")}},{key:"getDisplayText",value:function(a){a=a||!1;for(var b=[],c="",d=-1,e=0;15>e;e++){var f=this.rows[e].getTextString();f&&(d=e+1,a?b.push("Row "+d+": '"+f+"'"):b.push(f.trim()))}return 0<
b.length&&(c=a?"["+b.join(" | ")+"]":b.join("\n")),c}},{key:"getTextAndFormat",value:function(){return this.rows}}]),a}(),z=function(){function a(b,c){m(this,a);this.chNr=b;this.outputFilter=c;this.mode=null;this.verbose=0;this.displayedMemory=new y;this.nonDisplayedMemory=new y;this.lastOutputScreen=new y;this.currRollUpRow=this.displayedMemory.rows[14];this.writeScreen=this.displayedMemory;this.cueStartTime=this.mode=null}return p(a,[{key:"reset",value:function(){this.mode=null;this.displayedMemory.reset();
this.nonDisplayedMemory.reset();this.lastOutputScreen.reset();this.currRollUpRow=this.displayedMemory.rows[14];this.writeScreen=this.displayedMemory;this.lastCueEndTime=this.cueStartTime=this.mode=null}},{key:"getHandler",value:function(){return this.outputFilter}},{key:"setHandler",value:function(a){this.outputFilter=a}},{key:"setPAC",value:function(a){this.writeScreen.setPAC(a)}},{key:"setBkgData",value:function(a){this.writeScreen.setBkgData(a)}},{key:"setMode",value:function(a){a!==this.mode&&
(this.mode=a,d.log("INFO","MODE="+a),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=a)}},{key:"insertChars",value:function(a){for(var b=0;b<a.length;b++)this.writeScreen.insertChar(a[b]);d.log("INFO",(this.writeScreen===this.displayedMemory?"DISP":"NON_DISP")+": "+this.writeScreen.getDisplayText(!0));
"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(d.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}},{key:"ccRCL",value:function(){d.log("INFO","RCL - Resume Caption Loading");this.setMode("MODE_POP-ON")}},{key:"ccBS",value:function(){d.log("INFO","BS - BackSpace");"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}},{key:"ccAOF",value:function(){}},{key:"ccAON",value:function(){}},
{key:"ccDER",value:function(){d.log("INFO","DER- Delete to End of Row");this.writeScreen.clearToEndOfRow();this.outputDataUpdate()}},{key:"ccRU",value:function(a){d.log("INFO","RU("+a+") - Roll Up");this.writeScreen=this.displayedMemory;this.setMode("MODE_ROLL-UP");this.writeScreen.setRollUpRows(a)}},{key:"ccFON",value:function(){d.log("INFO","FON - Flash On");this.writeScreen.setPen({flash:!0})}},{key:"ccRDC",value:function(){d.log("INFO","RDC - Resume Direct Captioning");this.setMode("MODE_PAINT-ON")}},
{key:"ccTR",value:function(){d.log("INFO","TR");this.setMode("MODE_TEXT")}},{key:"ccRTD",value:function(){d.log("INFO","RTD");this.setMode("MODE_TEXT")}},{key:"ccEDM",value:function(){d.log("INFO","EDM - Erase Displayed Memory");this.displayedMemory.reset();this.outputDataUpdate()}},{key:"ccCR",value:function(){d.log("CR - Carriage Return");this.writeScreen.rollUp();this.outputDataUpdate()}},{key:"ccENM",value:function(){d.log("INFO","ENM - Erase Non-displayed Memory");this.nonDisplayedMemory.reset()}},
{key:"ccEOC",value:function(){if(d.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var a=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory;this.writeScreen=this.nonDisplayedMemory=a;d.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()}},{key:"ccTO",value:function(a){d.log("INFO","TO("+a+") - Tab Offset");this.writeScreen.moveCursor(a)}},{key:"ccMIDROW",value:function(a){var b={flash:!1};(b.underline=1==a%2,b.italics=46<=a,b.italics)?b.foreground=
"white":b.foreground="white green blue cyan red yellow magenta".split(" ")[Math.floor(a/2)-16];d.log("INFO","MIDROW: "+JSON.stringify(b));this.writeScreen.setPen(b)}},{key:"outputDataUpdate",value:function(){var a=d.time;null!==a&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(a,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,
a,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:a):this.cueStartTime=a,this.lastOutputScreen.copy(this.displayedMemory))}},{key:"cueSplitAtTime",value:function(a){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,a,this.displayedMemory),this.cueStartTime=a))}}]),a}();c=function(){function c(a,b,d){m(this,c);this.field=a||1;this.outputs=[b,d];this.channels=[new z(1,b),new z(2,d)];this.currChNr=-1;
this.lastCmdB=this.lastCmdA=null;this.bufferedData=[];this.lastTime=this.startTime=null;this.dataCounters={padding:0,"char":0,cmd:0,other:0}}return p(c,[{key:"getHandler",value:function(a){return this.channels[a].getHandler()}},{key:"setHandler",value:function(a,b){this.channels[a].setHandler(b)}},{key:"addData",value:function(b,c){var e,f,g,h=!1;this.lastTime=b;d.setTime(b);for(var k=0;k<c.length;k+=2)if(f=127&c[k],g=127&c[k+1],0!==f||0!==g){if(d.log("DATA","["+a([c[k],c[k+1]])+"] -> ("+a([f,g])+
")"),e=this.parseCmd(f,g),e||(e=this.parseMidrow(f,g)),e||(e=this.parsePAC(f,g)),e||(e=this.parseBackgroundAttributes(f,g)),!e&&(h=this.parseChars(f,g)))this.currChNr&&0<=this.currChNr?this.channels[this.currChNr-1].insertChars(h):d.log("WARNING","No channel found yet. TEXT-MODE?");e?this.dataCounters.cmd+=2:h?this.dataCounters["char"]+=2:(this.dataCounters.other+=2,d.log("WARNING","Couldn't parse cleaned data "+a([f,g])+" orig: "+a([c[k],c[k+1]])))}else this.dataCounters.padding+=2}},{key:"parseCmd",
value:function(b,c){if(!((20===b||28===b)&&32<=c&&47>=c||(23===b||31===b)&&33<=c&&35>=c))return!1;if(b===this.lastCmdA&&c===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,d.log("DEBUG","Repeated command ("+a([b,c])+") is dropped"),!0;var e=20===b||23===b?1:2;var f=this.channels[e-1];return 20===b||28===b?32===c?f.ccRCL():33===c?f.ccBS():34===c?f.ccAOF():35===c?f.ccAON():36===c?f.ccDER():37===c?f.ccRU(2):38===c?f.ccRU(3):39===c?f.ccRU(4):40===c?f.ccFON():41===c?f.ccRDC():42===c?f.ccTR():
43===c?f.ccRTD():44===c?f.ccEDM():45===c?f.ccCR():46===c?f.ccENM():47===c&&f.ccEOC():f.ccTO(c-32),this.lastCmdA=b,this.lastCmdB=c,this.currChNr=e,!0}},{key:"parseMidrow",value:function(b,c){var e;return(17===b||25===b)&&32<=c&&47>=c?(e=17===b?1:2)!==this.currChNr?(d.log("ERROR","Mismatch channel in midrow parsing"),!1):(this.channels[e-1].ccMIDROW(c),d.log("DEBUG","MIDROW ("+a([b,c])+")"),!0):!1}},{key:"parsePAC",value:function(a,c){if(!((17<=a&&23>=a||25<=a&&31>=a)&&64<=c&&127>=c||(16===a||24===
a)&&64<=c&&95>=c))return!1;if(a===this.lastCmdA&&c===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,!0;var d=23>=a?1:2;var e=this.interpretPAC(64<=c&&95>=c?1===d?b[a]:k[a]:1===d?n[a]:r[a],c);return this.channels[d-1].setPAC(e),this.lastCmdA=a,this.lastCmdB=c,this.currChNr=d,!0}},{key:"interpretPAC",value:function(a,b){var c=b,d={color:null,italics:!1,indent:null,underline:!1,row:a};return c=95<b?b-96:b-64,d.underline=1==(1&c),13>=c?d.color="white green blue cyan red yellow magenta white".split(" ")[Math.floor(c/
2)]:15>=c?(d.italics=!0,d.color="white"):d.indent=4*Math.floor((c-16)/2),d}},{key:"parseChars",value:function(b,c){var f=null,g=null,h=null;(25<=b?(f=2,h=b-8):(f=1,h=b),17<=h&&19>=h)?(g=17===h?c+80:18===h?c+112:c+144,d.log("INFO","Special char '"+e(g)+"' in channel "+f),g=[g]):32<=b&&127>=b&&(g=0===c?[b]:[b,c]);g&&(f=a(g),d.log("DEBUG","Char codes =  "+f.join(",")),this.lastCmdB=this.lastCmdA=null);return g}},{key:"parseBackgroundAttributes",value:function(a,b){var c,d,e,f;return!!((16===a||24===
a)&&32<=b&&47>=b||(23===a||31===a)&&45<=b&&47>=b)&&(c={},16===a||24===a?(d=Math.floor((b-32)/2),c.background=l[d],1==b%2&&(c.background+="_semi")):45===b?c.background="transparent":(c.foreground="black",47===b&&(c.underline=!0)),e=24>a?1:2,f=this.channels[e-1],f.setBkgData(c),this.lastCmdA=null,this.lastCmdB=null,!0)}},{key:"reset",value:function(){for(var a=0;a<this.channels.length;a++)this.channels[a]&&this.channels[a].reset();this.lastCmdB=this.lastCmdA=null}},{key:"cueSplitAtTime",value:function(a){for(var b=
0;b<this.channels.length;b++)this.channels[b]&&this.channels[b].cueSplitAtTime(a)}}]),c}();q["default"]=c},{}],47:[function(c,g,q){var m=c(53);g.exports={newCue:function(c,g,e,b){for(var h,k,p,l,d=window.VTTCue||window.TextTrackCue,a=0;a<b.rows.length;a++)if(h=b.rows[a],k=!0,p=0,l="",!h.isEmpty()){for(var f=0;f<h.chars.length;f++)h.chars[f].uchar.match(/\s/)&&k?p++:(l+=h.chars[f].uchar,k=!1);h.cueStartTime=g;g===e&&(e+=1E-4);k=new d(g,e,(0,m.fixLineBreaks)(l.trim()));16<=p?p--:p++;navigator.userAgent.match(/Firefox\//)?
k.line=a+1:k.line=7<a?a-2:a+1;k.align="left";k.position=Math.max(0,Math.min(100,p/32*100+(navigator.userAgent.match(/Firefox\//)?50:0)));c.addCue(k)}}}},{53:53}],48:[function(c,g,q){Object.defineProperty(q,"__esModule",{value:!0});var m=function(){function c(c,b){for(var e=0;e<b.length;e++){var g=b[e];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(c,g.key,g)}}return function(e,b,g){return b&&c(e.prototype,b),g&&c(e,g),e}}(),p=(c=c(49))&&c.__esModule?
c:{"default":c};c=function(){function c(e,b,g,h){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.hls=e;this.defaultEstimate_=h;this.minWeight_=.001;this.minDelayMs_=50;this.slow_=new p["default"](b);this.fast_=new p["default"](g)}return m(c,[{key:"sample",value:function(c,b){c=Math.max(c,this.minDelayMs_);var e=8E3*b/c,g=c/1E3;this.fast_.sample(g,e);this.slow_.sample(g,e)}},{key:"canEstimate",value:function(){var c=this.fast_;return c&&c.getTotalWeight()>=this.minWeight_}},
{key:"getEstimate",value:function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}},{key:"destroy",value:function(){}}]),c}();q["default"]=c},{49:49}],49:[function(c,g,q){Object.defineProperty(q,"__esModule",{value:!0});var m=function(){function c(c,e){for(var b=0;b<e.length;b++){var g=e[b];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(c,g.key,g)}}return function(g,e,b){return e&&c(g.prototype,
e),b&&c(g,b),g}}();c=function(){function c(g){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.alpha_=g?Math.exp(Math.log(.5)/g):0;this.totalWeight_=this.estimate_=0}return m(c,[{key:"sample",value:function(c,e){var b=Math.pow(this.alpha_,c);this.estimate_=e*(1-b)+b*this.estimate_;this.totalWeight_+=c}},{key:"getTotalWeight",value:function(){return this.totalWeight_}},{key:"getEstimate",value:function(){return this.alpha_?this.estimate_/(1-Math.pow(this.alpha_,
this.totalWeight_)):this.estimate_}}]),c}();q["default"]=c},{}],50:[function(c,g,q){function m(){}function p(b){var c=self.console[b];return c?function(){for(var e=arguments.length,d=Array(e),a=0;a<e;a++)d[a]=arguments[a];d[0]&&(d[0]="["+b+"] > "+d[0]);c.apply(self.console,d)}:m}function h(b){for(var c=arguments.length,e=Array(1<c?c-1:0),d=1;d<c;d++)e[d-1]=arguments[d];e.forEach(function(a){n[a]=b[a]?b[a].bind(b):p(a)})}Object.defineProperty(q,"__esModule",{value:!0});var e="function"==typeof Symbol&&
"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},b={trace:m,debug:m,log:m,warn:m,info:m,error:m},n=b;q.enableLogs=function(c){if(!0===c||"object"===(void 0===c?"undefined":e(c))){h(c,"debug","log","info","warn","error");try{n.log()}catch(r){n=b}}else n=b};q.logger=n},{}],51:[function(c,g,q){g.exports={toString:function(c){for(var g="",h=c.length,e=0;e<h;e++)g+="["+c.start(e).toFixed(3)+
","+c.end(e).toFixed(3)+"]";return g}}},{}],52:[function(c,g,q){Object.defineProperty(q,"__esModule",{value:!0});q["default"]=function(){function c(b){return"string"==typeof b&&!!n[b.toLowerCase()]&&b.toLowerCase()}function g(b){for(var c=1;c<arguments.length;c++){var e=arguments[c],d;for(d in e)b[d]=e[d]}return b}function h(h,n,l){var d=this;var a="undefined"!=typeof navigator?/MSIE\s8\.0/.test(navigator.userAgent):void 0;var f={};a?d=document.createElement("custom"):f.enumerable=!0;d.hasBeenReset=
!1;var k="",m=!1,p=h,q=n,r=l,u=null,t="",w=!0,E="auto",P="start",F=50,G="middle",M=50,J="middle";if(Object.defineProperty(d,"id",g({},f,{get:function(){return k},set:function(a){k=""+a}})),Object.defineProperty(d,"pauseOnExit",g({},f,{get:function(){return m},set:function(a){m=!!a}})),Object.defineProperty(d,"startTime",g({},f,{get:function(){return p},set:function(a){if("number"!=typeof a)throw new TypeError("Start time must be set to a number.");p=a;this.hasBeenReset=!0}})),Object.defineProperty(d,
"endTime",g({},f,{get:function(){return q},set:function(a){if("number"!=typeof a)throw new TypeError("End time must be set to a number.");q=a;this.hasBeenReset=!0}})),Object.defineProperty(d,"text",g({},f,{get:function(){return r},set:function(a){r=""+a;this.hasBeenReset=!0}})),Object.defineProperty(d,"region",g({},f,{get:function(){return u},set:function(a){u=a;this.hasBeenReset=!0}})),Object.defineProperty(d,"vertical",g({},f,{get:function(){return t},set:function(a){a="string"==typeof a&&!!b[a.toLowerCase()]&&
a.toLowerCase();if(!1===a)throw new SyntaxError("An invalid or illegal string was specified.");t=a;this.hasBeenReset=!0}})),Object.defineProperty(d,"snapToLines",g({},f,{get:function(){return w},set:function(a){w=!!a;this.hasBeenReset=!0}})),Object.defineProperty(d,"line",g({},f,{get:function(){return E},set:function(a){if("number"!=typeof a&&a!==e)throw new SyntaxError("An invalid number or illegal string was specified.");E=a;this.hasBeenReset=!0}})),Object.defineProperty(d,"lineAlign",g({},f,{get:function(){return P},
set:function(a){a=c(a);if(!a)throw new SyntaxError("An invalid or illegal string was specified.");P=a;this.hasBeenReset=!0}})),Object.defineProperty(d,"position",g({},f,{get:function(){return F},set:function(a){if(0>a||100<a)throw Error("Position must be between 0 and 100.");F=a;this.hasBeenReset=!0}})),Object.defineProperty(d,"positionAlign",g({},f,{get:function(){return G},set:function(a){a=c(a);if(!a)throw new SyntaxError("An invalid or illegal string was specified.");G=a;this.hasBeenReset=!0}})),
Object.defineProperty(d,"size",g({},f,{get:function(){return M},set:function(a){if(0>a||100<a)throw Error("Size must be between 0 and 100.");M=a;this.hasBeenReset=!0}})),Object.defineProperty(d,"align",g({},f,{get:function(){return J},set:function(a){a=c(a);if(!a)throw new SyntaxError("An invalid or illegal string was specified.");J=a;this.hasBeenReset=!0}})),d.displayState=void 0,a)return d}if("undefined"!=typeof window&&window.VTTCue)return window.VTTCue;var e="auto",b={"":!0,lr:!0,rl:!0},n={start:!0,
middle:!0,end:!0,left:!0,right:!0};return h.prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)},h}()},{}],53:[function(c,g,q){function m(){this.window=window;this.state="INITIAL";this.buffer="";this.decoder=new r;this.regionList=[]}function p(a){function b(a,b,c,d){return 3600*(0|a)+60*(0|b)+(0|c)+(0|d)/1E3}return(a=a.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/))?a[3]?b(a[1],a[2],a[3].replace(":",""),a[4]):59<a[1]?b(a[1],a[2],0,a[4]):b(0,a[1],a[2],a[4]):null}
function h(){this.values=Object.create(null)}function e(a,b,c,d){a=d?a.split(d):[a];for(var e in a)"string"==typeof a[e]&&(d=a[e].split(c),2===d.length&&b(d[0],d[1]))}function b(a,b,c){function f(){var b=p(a);if(null===b)throw Error("Malformed timestamp: "+k);return a=a.replace(/^[^\sa-zA-Z-]+/,""),b}function g(){a=a.replace(/^\s+/,"")}var k=a;if(g(),b.startTime=f(),g(),"--\x3e"!==a.substr(0,3))throw Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+k);a=a.substr(3);g();b.endTime=
f();g();(function(a,b){var f=new h;e(a,function(a,b){switch(a){case "region":for(var e=c.length-1;0<=e;e--)if(c[e].id===b){f.set(a,c[e].region);break}break;case "vertical":f.alt(a,b,["rl","lr"]);break;case "line":var e=b.split(","),g=e[0];f.integer(a,g);f.percent(a,g)&&f.set("snapToLines",!1);f.alt(a,g,["auto"]);2===e.length&&f.alt("lineAlign",e[1],["start",d,"end"]);break;case "position":e=b.split(",");f.percent(a,e[0]);2===e.length&&f.alt("positionAlign",e[1],["start",d,"end","line-left","line-right",
"auto"]);break;case "size":f.percent(a,b);break;case "align":f.alt(a,b,["start",d,"end","left","right"])}},/:/,/\s/);b.region=f.get("region",null);b.vertical=f.get("vertical","");var g=f.get("line","auto");"auto"===g&&-1===l.line&&(g=-1);b.line=g;b.lineAlign=f.get("lineAlign","start");b.snapToLines=f.get("snapToLines",!0);b.size=f.get("size",100);b.align=f.get("align",d);g=f.get("position","auto");"auto"===g&&50===l.position&&(g="start"===b.align||"left"===b.align?0:"end"===b.align||"right"===b.align?
100:50);b.position=g})(a,b)}function n(a){return a.replace(/<br(?: \/)?>/gi,"\n")}Object.defineProperty(q,"__esModule",{value:!0});q.fixLineBreaks=void 0;var k=(c=c(52))&&c.__esModule?c:{"default":c},r=function(){return{decode:function(a){if(!a)return"";if("string"!=typeof a)throw Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(a))}}};h.prototype={set:function(a,b){this.get(a)||""===b||(this.values[a]=b)},get:function(a,b,c){return c?this.has(a)?this.values[a]:
b[c]:this.has(a)?this.values[a]:b},has:function(a){return a in this.values},alt:function(a,b,c){for(var d=0;d<c.length;++d)if(b===c[d]){this.set(a,b);break}},integer:function(a,b){/^-?\d+$/.test(b)&&this.set(a,parseInt(b,10))},percent:function(a,b){return!!(b.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&0<=(b=parseFloat(b))&&100>=b)&&(this.set(a,b),!0)}};var l=new k["default"](0,0,0),d="middle"===l.align?"middle":"center";m.prototype={parse:function(a){function c(){for(var a=d.buffer,b=0,a=n(a);b<a.length&&
"\r"!==a[b]&&"\n"!==a[b];)++b;var c=a.substr(0,b);return"\r"===a[b]&&++b,"\n"===a[b]&&++b,d.buffer=a.substr(b),c}var d=this;a&&(d.buffer+=d.decoder.decode(a,{stream:!0}));try{if("INITIAL"===d.state){if(!/\r\n|\n/.test(d.buffer))return this;var g=c();var h=g.match(/^WEBVTT([ \t].*)?$/);if(!h||!h[0])throw Error("Malformed WebVTT signature.");d.state="HEADER"}for(a=!1;d.buffer;){if(!/\r\n|\n/.test(d.buffer))return this;switch(a?a=!1:g=c(),d.state){case "HEADER":/:/.test(g)?function(a){e(a,function(a,
b){switch(a){case "Region":console.log("parse region",b)}},/:/)}(g):g||(d.state="ID");continue;case "NOTE":g||(d.state="ID");continue;case "ID":if(/^NOTE($|[ \t])/.test(g)){d.state="NOTE";break}if(!g)continue;if(d.cue=new k["default"](0,0,""),d.state="CUE",-1===g.indexOf("--\x3e")){d.cue.id=g;continue}case "CUE":try{b(g,d.cue,d.regionList)}catch(x){d.cue=null;d.state="BADCUE";continue}d.state="CUETEXT";continue;case "CUETEXT":var l=-1!==g.indexOf("--\x3e");if(!g||l&&(a=!0)){d.oncue&&d.oncue(d.cue);
d.cue=null;d.state="ID";continue}d.cue.text&&(d.cue.text+="\n");d.cue.text+=g;continue;case "BADCUE":g||(d.state="ID")}}}catch(x){"CUETEXT"===d.state&&d.cue&&d.oncue&&d.oncue(d.cue),d.cue=null,d.state="INITIAL"===d.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),(this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw Error("Malformed WebVTT signature.");}catch(a){throw a;}return this.onflush&&this.onflush(),
this}};q.fixLineBreaks=n;q["default"]=m},{52:52}],54:[function(c,g,q){var m=(c=c(53))&&c.__esModule?c:{"default":c},p=function(c){var e=parseInt(c.substr(-3)),b=parseInt(c.substr(-6,2)),g=parseInt(c.substr(-9,2));c=9<c.length?parseInt(c.substr(0,c.indexOf(":"))):0;return isNaN(e)||isNaN(b)||isNaN(g)||isNaN(c)?-1:(e+=1E3*b,e+=6E4*g,e+36E5*c)};g.exports={parse:function(c,e,b,g,k,q){c=String.fromCharCode.apply(null,new Uint8Array(c)).trim().replace(/\r\n|\n\r|\n|\r/g,"\n").split("\n");var h="00:00.000",
d=0,a=0,f=0,n=[],r=void 0,u=!0,t=new m["default"];t.oncue=function(c){var d=b[g],e=b.ccOffset;if(d&&d["new"])if(a)e=b.ccOffset=d.start;else{var d=f,h=b[g],k=b[h.prevCC];if(!k||!k["new"]&&h["new"])b.ccOffset=b.presentationOffset=h.start,h["new"]=!1;else{for(;k&&k["new"];)b.ccOffset+=h.start-k.start,h["new"]=!1,h=k,k=b[h.prevCC];b.presentationOffset=d}}f&&!a&&(e=f+b.ccOffset-b.presentationOffset);c.startTime+=e-a;c.endTime+=e-a;c.text=decodeURIComponent(escape(c.text));0<c.endTime&&n.push(c)};t.onparsingerror=
function(a){r=a};t.onflush=function(){if(r&&q)return void q(r);k(n)};c.forEach(function(b){if(u){if(b.startsWith("X-TIMESTAMP-MAP=")){u=!1;b.substr(16).split(",").forEach(function(a){a.startsWith("LOCAL:")?h=a.substr(6):a.startsWith("MPEGTS:")&&(d=parseInt(a.substr(7)))});try{e=0>e?e+8589934592:e,d-=e,a=p(h)/1E3,f=d/9E4,-1===a&&(r=Error("Malformed X-TIMESTAMP-MAP: "+b))}catch(A){r=Error("Malformed X-TIMESTAMP-MAP: "+b)}return}""===b&&(u=!1)}t.parse(b+"\n")});t.flush()}}},{53:53}],55:[function(c,g,
q){Object.defineProperty(q,"__esModule",{value:!0});var m=function(){function c(c,b){for(var e=0;e<b.length;e++){var g=b[e];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(c,g.key,g)}}return function(e,b,g){return b&&c(e.prototype,b),g&&c(e,g),e}}(),p=c(50);c=function(){function c(e){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");e&&e.xhrSetup&&(this.xhrSetup=e.xhrSetup)}return m(c,[{key:"destroy",value:function(){this.abort();
this.loader=null}},{key:"abort",value:function(){var c=this.loader;c&&4!==c.readyState&&(this.stats.aborted=!0,c.abort());window.clearTimeout(this.requestTimeout);this.requestTimeout=null;window.clearTimeout(this.retryTimeout);this.retryTimeout=null}},{key:"load",value:function(c,b,g){this.context=c;this.config=b;this.callbacks=g;this.stats={trequest:performance.now(),retry:0};this.retryDelay=b.retryDelay;this.loadInternal()}},{key:"loadInternal",value:function(){var c=this.context;var b="undefined"!=
typeof XDomainRequest?this.loader=new XDomainRequest:this.loader=new XMLHttpRequest;var g=this.stats;g.tfirst=0;g.loaded=0;if(g=this.xhrSetup)try{g(b,c.url)}catch(k){b.open("GET",c.url,!0),g(b,c.url)}b.readyState||b.open("GET",c.url,!0);c.rangeEnd&&b.setRequestHeader("Range","bytes="+c.rangeStart+"-"+(c.rangeEnd-1));b.onreadystatechange=this.readystatechange.bind(this);b.onprogress=this.loadprogress.bind(this);b.responseType=c.responseType;this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),
this.config.timeout);b.send()}},{key:"readystatechange",value:function(c){c=c.currentTarget;var b=c.readyState,e=this.stats,g=this.context,h=this.config;!e.aborted&&2<=b&&((window.clearTimeout(this.requestTimeout),0===e.tfirst&&(e.tfirst=Math.max(performance.now(),e.trequest)),4===b)?(b=c.status,200<=b&&300>b?(e.tload=Math.max(e.tfirst,performance.now()),b=h=void 0,"arraybuffer"===g.responseType?(h=c.response,b=h.byteLength):(h=c.responseText,b=h.length),e.loaded=e.total=b,this.callbacks.onSuccess({url:c.responseURL,
data:h},e,g)):e.retry>=h.maxRetry||400<=b&&499>b?(p.logger.error(b+" while loading "+g.url),this.callbacks.onError({code:b,text:c.statusText},g)):(p.logger.warn(b+" while loading "+g.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,h.maxRetryDelay),e.retry++)):this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),h.timeout))}},{key:"loadtimeout",value:function(){p.logger.warn("timeout while loading "+
this.context.url);this.callbacks.onTimeout(this.stats,this.context)}},{key:"loadprogress",value:function(c){var b=this.stats;b.loaded=c.loaded;c.lengthComputable&&(b.total=c.total);(c=this.callbacks.onProgress)&&c(b,this.context,null)}}]),c}();q["default"]=c},{50:50}]},{},[37])(37)}();!0},function(w,t){w.exports='<div class="media-control-background" data-background></div>\n<div class="media-control-layer" data-controls>\n  <%  var renderBar = function(name) { %>\n      <div class="bar-container" data-<%= name %>>\n        <div class="bar-background" data-<%= name %>>\n          <div class="bar-fill-1" data-<%= name %>></div>\n          <div class="bar-fill-2" data-<%= name %>></div>\n          <div class="bar-hover" data-<%= name %>></div>\n        </div>\n        <div class="bar-scrubber" data-<%= name %>>\n          <div class="bar-scrubber-icon" data-<%= name %>></div>\n        </div>\n      </div>\n  <%  }; %>\n  <%  var renderSegmentedBar = function(name, segments) {\n      segments = segments || 10; %>\n    <div class="bar-container" data-<%= name %>>\n    <% for (var i = 0; i < segments; i++) { %>\n      <div class="segmented-bar-element" data-<%= name %>></div>\n    <% } %>\n    </div>\n  <% }; %>\n  <% var renderDrawer = function(name, renderContent) { %>\n      <div class="drawer-container" data-<%= name %>>\n        <div class="drawer-icon-container" data-<%= name %>>\n          <div class="drawer-icon media-control-icon" data-<%= name %>></div>\n          <span class="drawer-text" data-<%= name %>></span>\n        </div>\n        <% renderContent(name); %>\n      </div>\n  <% }; %>\n  <% var renderIndicator = function(name) { %>\n      <div class="media-control-indicator" data-<%= name %>></div>\n  <% }; %>\n  <% var renderButton = function(name) { %>\n    <button type="button" class="media-control-button media-control-icon" data-<%= name %> aria-label="<%= name %>"></button>\n  <% }; %>\n  <%  var templates = {\n        bar: renderBar,\n        segmentedBar: renderSegmentedBar,\n      };\n      var render = function(settingsList) {\n        settingsList.forEach(function(setting) {\n          if(setting === "seekbar") {\n            renderBar(setting);\n          } else if (setting === "volume") {\n            renderDrawer(setting, settings.volumeBarTemplate ? templates[settings.volumeBarTemplate] : function(name) { return renderSegmentedBar(name); });\n          } else if (setting === "duration" || setting === "position") {\n            renderIndicator(setting);\n          } else {\n            renderButton(setting);\n          }\n        });\n      }; %>\n  <% if (settings.default && settings.default.length) { %>\n  <div class="media-control-center-panel" data-media-control>\n    <% render(settings.default); %>\n  </div>\n  <% } %>\n  <% if (settings.left && settings.left.length) { %>\n  <div class="media-control-left-panel" data-media-control>\n    <% render(settings.left); %>\n  </div>\n  <% } %>\n  <% if (settings.right && settings.right.length) { %>\n  <div class="media-control-right-panel" data-media-control>\n    <% render(settings.right); %>\n  </div>\n  <% } %>\n</div>\n'},
function(w,t){w.exports='<param name="movie" value="<%= swfPath %>?inline=1">\n<param name="quality" value="autohigh">\n<param name="swliveconnect" value="true">\n<param name="allowScriptAccess" value="always">\n<param name="bgcolor" value="#000000">\n<param name="allowFullScreen" value="false">\n<param name="wmode" value="<%= wmode %>">\n<param name="tabindex" value="1">\n<param name="FlashVars" value="playbackId=<%= playbackId %>&callback=<%= callbackName %>">\n<embed\n  name="<%= cid %>"\n  type="application/x-shockwave-flash"\n  disabled="disabled"\n  tabindex="-1"\n  enablecontextmenu="false"\n  allowScriptAccess="always"\n  quality="autohigh"\n  pluginspage="http://www.macromedia.com/go/getflashplayer"\n  wmode="<%= wmode %>"\n  swliveconnect="true"\n  allowfullscreen="false"\n  bgcolor="#000000"\n  FlashVars="playbackId=<%= playbackId %>&callback=<%= callbackName %>"\n  src="<%= swfPath %>"\n  width="100%"\n  height="100%">\n</embed>\n'},
function(w,t){w.exports="<canvas data-no-op-canvas></canvas>\n<p data-no-op-msg><%=message%><p>\n"},function(w,t){w.exports='<div class="live-info"><%= live %></div>\n<button type="button" class="live-button" aria-label="<%= backToLive %>"><%= backToLive %></button>\n'},function(w,t){w.exports='<div class="play-wrapper" data-poster></div>\n'},function(w,t){w.exports="<span data-seek-time></span>\n<span data-duration></span>\n"},function(w,t){w.exports="<div data-bounce1></div><div data-bounce2></div><div data-bounce3></div>\n"},
function(w,t){w.exports="<div data-watermark data-watermark-<%=position %>>\n<% if(typeof imageLink !== 'undefined') { %>\n<a target=_blank href=\"<%= imageLink %>\">\n<% } %>\n<img src=\"<%= imageUrl %>\">\n<% if(typeof imageLink !== 'undefined') { %>\n</a>\n<% } %>\n</div>\n"},function(w,t){t.read=function(c,t,m,g,q){var u=8*q-g-1;var p=(1<<u)-1,h=p>>1,e=-7;q=m?q-1:0;var b=m?-1:1,n=c[t+q];q+=b;m=n&(1<<-e)-1;n>>=-e;for(e+=u;0<e;m=256*m+c[t+q],q+=b,e-=8);u=m&(1<<-e)-1;m>>=-e;for(e+=g;0<e;u=256*u+
c[t+q],q+=b,e-=8);if(0===m)m=1-h;else{if(m===p)return u?NaN:1/0*(n?-1:1);u+=Math.pow(2,g);m-=h}return(n?-1:1)*u*Math.pow(2,m-g)};t.write=function(c,t,m,g,q,u){var p,h,e,b=8*u-q-1,n=(1<<b)-1,k=n>>1,r=23===q?Math.pow(2,-24)-Math.pow(2,-77):0;u=g?0:u-1;g=g?1:-1;var l=0>t||0===t&&0>1/t?1:0;t=Math.abs(t);for(isNaN(t)||t===1/0?(h=isNaN(t)?1:0,p=n):(p=Math.floor(Math.log(t)/Math.LN2),1>t*(e=Math.pow(2,-p))&&(p--,e*=2),t+=1<=p+k?r/e:r*Math.pow(2,1-k),2<=t*e&&(p++,e/=2),p+k>=n?(h=0,p=n):1<=p+k?(h=(t*e-1)*
Math.pow(2,q),p+=k):(h=t*Math.pow(2,k-1)*Math.pow(2,q),p=0));8<=q;c[m+u]=255&h,u+=g,h/=256,q-=8);p=p<<q|h;for(b+=q;0<b;c[m+u]=255&p,u+=g,p/=256,b-=8);c[m+u-g]|=128*l}},function(w,t,c){(function(c,m){function g(a,b){for(var c=-1,d=null==a?0:a.length,e=0,f=[];++c<d;){var g=a[c];b(g,c,a)&&(f[e++]=g)}return f}function q(a,b){for(var c=-1,d=null==a?0:a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}function u(a){var b=-1,c=Array(a.size);return a.forEach(function(a,d){c[++b]=[d,a]}),c}function p(a){var b=
-1,c=Array(a.size);return a.forEach(function(a){c[++b]=a}),c}function h(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function e(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function b(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function n(a){var c=-1,d=null==a?0:a.length;for(this.__data__=new b;++c<d;)this.add(a[c])}function k(a){this.size=(this.__data__=new e(a)).size}
function r(a,b){for(var c=a.length;c--;)if(L(a[c][0],b))return c;return-1}function l(a,b,c){b=b(a);if(!Aa(a)){a=c(a);c=-1;for(var d=a.length,e=b.length;++c<d;)b[e+c]=a[c]}return b}function d(a){if(null==a)a=void 0===a?Sa:Q;else if(R&&R in Object(a)){var b=ga.call(a,R),c=a[R];try{a[R]=void 0}catch(nb){}var d=Xa.call(a);a=(b?a[R]=c:delete a[R],d)}else a=Xa.call(a);return a}function a(a){return F(a)&&d(a)==I}function f(a,b,c,d,e){var g;if(!(g=a===b)){if(null==a||null==b||!F(a)&&!F(b))b=a!==a&&b!==b;
else a:{g=Aa(a);var h=Aa(b),m=g?K:ba(a),n=h?K:ba(b),m=m==I?ea:m,n=n==I?ea:n,p=m==ea,h=n==ea;if((n=m==n)&&oa(a)){if(!oa(b)){b=!1;break a}g=!0;p=!1}if(n&&!p)b=(e||(e=new k),g||Oa(a)?w(a,b,c,d,f,e):y(a,b,m,c,d,f,e));else{if(!(c&B)&&(g=p&&ga.call(a,"__wrapped__"),m=h&&ga.call(b,"__wrapped__"),g||m)){a=g?a.value():a;b=m?b.value():b;b=(e||(e=new k),f(a,b,c,d,e));break a}if(g=!!n){e||(e=new k);b:{var q,m=c&B,h=l(a,G,ib),n=h.length;if(n==l(b,G,ib).length||m){for(p=n;p--;){var r=h[p];if(!(m?r in b:ga.call(b,
r))){b=!1;break b}}if((g=e.get(a))&&e.get(b))b=g==b;else{g=!0;e.set(a,b);e.set(b,a);for(var t=m;++p<n;){r=h[p];var u=a[r],v=b[r];d&&(q=m?d(v,u,r,b,a,e):d(u,v,r,a,b,e));if(void 0===q?u!==v&&!f(u,v,c,d,e):!q){g=!1;break}t||(t="constructor"==r)}g&&!t&&(c=a.constructor,d=b.constructor,c!=d&&"constructor"in a&&"constructor"in b&&!("function"==typeof c&&c instanceof c&&"function"==typeof d&&d instanceof d)&&(g=!1));b=(e["delete"](a),e["delete"](b),g)}}else b=!1}g=b}b=g}}g=b}return g}function v(a){return F(a)&&
E(a.length)&&!!W[d(a)]}function w(a,b,c,d,e,f){var g,h=c&B,k=a.length,l=b.length;if(k!=l&&!(h&&l>k))return!1;if((l=f.get(a))&&f.get(b))return l==b;var l=-1,m=!0,p=c&O?new n:void 0;f.set(a,b);for(f.set(b,a);++l<k;){var r=a[l],t=b[l];d&&(g=h?d(t,r,l,b,a,f):d(r,t,l,a,b,f));if(void 0!==g){if(g)continue;m=!1;break}if(p){if(!q(b,function(a,b){if(!p.has(b)&&(r===a||e(r,a,c,d,f)))return p.push(b)})){m=!1;break}}else if(r!==t&&!e(r,t,c,d,f)){m=!1;break}}return f["delete"](a),f["delete"](b),m}function y(a,
b,c,d,e,f,g){switch(c){case ka:if(a.byteLength!=b.byteLength||a.byteOffset!=b.byteOffset)break;a=a.buffer;b=b.buffer;case Fa:return!(a.byteLength!=b.byteLength||!f(new kb(a),new kb(b)));case U:case Y:case pa:return L(+a,+b);case S:return a.name==b.name&&a.message==b.message;case ha:case Da:return a==b+"";case Z:var h=u;case Ca:c=d&B;if(h||(h=p),a.size!=b.size&&!c)break;if(c=g.get(a))return c==b;d|=O;g.set(a,b);b=w(h(a),h(b),d,e,f,g);return g["delete"](a),b;case Ea:if(fa)return fa.call(a)==fa.call(b)}return!1}
function z(a,b){var c=a.__data__,d=typeof b;return("string"==d||"number"==d||"symbol"==d||"boolean"==d?"__proto__"!==b:null===b)?c["string"==typeof b?"string":"hash"]:c.map}function x(a,b){var c=null==a?void 0:a[b];return!P(c)||Wa&&Wa in c||!(C(c)?db:Ka).test(A(c))?void 0:c}function A(a){if(null!=a){try{return Va.call(a)}catch(pb){}return a+""}return""}function L(a,b){return a===b||a!==a&&b!==b}function C(a){if(!P(a))return!1;a=d(a);return a==aa||a==da||a==T||a==ia}function E(a){return"number"==typeof a&&
-1<a&&0==a%1&&a<=N}function P(a){var b=typeof a;return null!=a&&("object"==b||"function"==b)}function F(a){return null!=a&&"object"==typeof a}function G(a){if(null!=a&&E(a.length)&&!C(a)){var b=Aa(a),c=!b&&Pa(a),d=!b&&!c&&oa(a),e=!b&&!c&&!d&&Oa(a);if(b=b||c||d||e){for(var c=a.length,f=String,g=-1,h=Array(c);++g<c;)h[g]=f(g);c=h}else c=[];var f=c.length;for(k in a)!(g=!ga.call(a,k))&&(g=b)&&((h="length"==k||d&&("offset"==k||"parent"==k)||e&&("buffer"==k||"byteLength"==k||"byteOffset"==k))||(h=k,g=
f,h=!!(g=null==g?N:g)&&("number"==typeof h||La.test(h))&&-1<h&&0==h%1&&h<g),g=h),g||c.push(k);a=c}else{var k=a&&a.constructor;if(a===("function"==typeof k&&k.prototype||wa)){k=[];for(d in Object(a))ga.call(a,d)&&"constructor"!=d&&k.push(d);a=k}else a=ja(a)}return a}function M(){return[]}function J(){return!1}var B=1,O=2,N=9007199254740991,I="[object Arguments]",K="[object Array]",T="[object AsyncFunction]",U="[object Boolean]",Y="[object Date]",S="[object Error]",aa="[object Function]",da="[object GeneratorFunction]",
Z="[object Map]",pa="[object Number]",Q="[object Null]",ea="[object Object]",ia="[object Proxy]",ha="[object RegExp]",Ca="[object Set]",Da="[object String]",Ea="[object Symbol]",Sa="[object Undefined]",Fa="[object ArrayBuffer]",ka="[object DataView]",Ka=/^\[object .+?Constructor\]$/,La=/^(?:0|[1-9]\d*)$/,W={};W["[object Float32Array]"]=W["[object Float64Array]"]=W["[object Int8Array]"]=W["[object Int16Array]"]=W["[object Int32Array]"]=W["[object Uint8Array]"]=W["[object Uint8ClampedArray]"]=W["[object Uint16Array]"]=
W["[object Uint32Array]"]=!0;W[I]=W[K]=W[Fa]=W[U]=W[ka]=W[Y]=W[S]=W[aa]=W[Z]=W[pa]=W[ea]=W[ha]=W[Ca]=W[Da]=W["[object WeakMap]"]=!1;var ta="object"==typeof c&&c&&c.Object===Object&&c,Ta="object"==typeof self&&self&&self.Object===Object&&self,ca=ta||Ta||Function("return this")(),ua="object"==typeof t&&t&&!t.nodeType&&t,xa=ua&&"object"==typeof m&&m&&!m.nodeType&&m,la=xa&&xa.exports===ua,Ra=la&&ta.process;a:{try{var qa=Ra&&Ra.binding&&Ra.binding("util");break a}catch(Ma){}qa=void 0}var va=qa&&qa.isTypedArray,
Ua=Array.prototype,wa=Object.prototype,ra=ca["__core-js_shared__"],Va=Function.prototype.toString,ga=wa.hasOwnProperty,Wa=function(){var a=/[^.]+$/.exec(ra&&ra.keys&&ra.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),Xa=wa.toString,db=RegExp("^"+Va.call(ga).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),V=la?ca.Buffer:void 0,Qa=ca.Symbol,kb=ca.Uint8Array,ma=wa.propertyIsEnumerable,X=Ua.splice,R=Qa?Qa.toStringTag:void 0,Za=
Object.getOwnPropertySymbols,eb=V?V.isBuffer:void 0,ja=function(a,b){return function(c){return a(b(c))}}(Object.keys,Object),$a=x(ca,"DataView"),Ga=x(ca,"Map"),ya=x(ca,"Promise"),Ha=x(ca,"Set"),Ia=x(ca,"WeakMap"),za=x(Object,"create"),na=A($a),Ja=A(Ga),Ya=A(ya),ab=A(Ha),cb=A(Ia),Na=Qa?Qa.prototype:void 0,fa=Na?Na.valueOf:void 0;h.prototype.clear=function(){this.__data__=za?za(null):{};this.size=0};h.prototype["delete"]=function(a){a=this.has(a)&&delete this.__data__[a];return this.size-=a?1:0,a};
h.prototype.get=function(a){var b=this.__data__;return za?(a=b[a],"__lodash_hash_undefined__"===a?void 0:a):ga.call(b,a)?b[a]:void 0};h.prototype.has=function(a){var b=this.__data__;return za?void 0!==b[a]:ga.call(b,a)};h.prototype.set=function(a,b){var c=this.__data__;return this.size+=this.has(a)?0:1,c[a]=za&&void 0===b?"__lodash_hash_undefined__":b,this};e.prototype.clear=function(){this.__data__=[];this.size=0};e.prototype["delete"]=function(a){var b=this.__data__;a=r(b,a);return!(0>a)&&(a==b.length-
1?b.pop():X.call(b,a,1),--this.size,!0)};e.prototype.get=function(a){var b=this.__data__;a=r(b,a);return 0>a?void 0:b[a][1]};e.prototype.has=function(a){return-1<r(this.__data__,a)};e.prototype.set=function(a,b){var c=this.__data__,d=r(c,a);return 0>d?(++this.size,c.push([a,b])):c[d][1]=b,this};b.prototype.clear=function(){this.size=0;this.__data__={hash:new h,map:new (Ga||e),string:new h}};b.prototype["delete"]=function(a){a=z(this,a)["delete"](a);return this.size-=a?1:0,a};b.prototype.get=function(a){return z(this,
a).get(a)};b.prototype.has=function(a){return z(this,a).has(a)};b.prototype.set=function(a,b){var c=z(this,a),d=c.size;return c.set(a,b),this.size+=c.size==d?0:1,this};n.prototype.add=n.prototype.push=function(a){return this.__data__.set(a,"__lodash_hash_undefined__"),this};n.prototype.has=function(a){return this.__data__.has(a)};k.prototype.clear=function(){this.__data__=new e;this.size=0};k.prototype["delete"]=function(a){var b=this.__data__;a=b["delete"](a);return this.size=b.size,a};k.prototype.get=
function(a){return this.__data__.get(a)};k.prototype.has=function(a){return this.__data__.has(a)};k.prototype.set=function(a,c){var d=this.__data__;if(d instanceof e){var f=d.__data__;if(!Ga||199>f.length)return f.push([a,c]),this.size=++d.size,this;d=this.__data__=new b(f)}return d.set(a,c),this.size=d.size,this};var ib=Za?function(a){return null==a?[]:(a=Object(a),g(Za(a),function(b){return ma.call(a,b)}))}:M,ba=d;($a&&ba(new $a(new ArrayBuffer(1)))!=ka||Ga&&ba(new Ga)!=Z||ya&&"[object Promise]"!=
ba(ya.resolve())||Ha&&ba(new Ha)!=Ca||Ia&&"[object WeakMap]"!=ba(new Ia))&&(ba=function(a){var b=d(a);if(a=(a=b==ea?a.constructor:void 0)?A(a):"")switch(a){case na:return ka;case Ja:return Z;case Ya:return"[object Promise]";case ab:return Ca;case cb:return"[object WeakMap]"}return b});var Pa=a(function(){return arguments}())?a:function(a){return F(a)&&ga.call(a,"callee")&&!ma.call(a,"callee")},Aa=Array.isArray,oa=eb||J,Oa=va?function(a){return function(b){return a(b)}}(va):v;m.exports=function(a,
b){return f(a,b)}}).call(t,c(12),c(23)(w))},function(w,t){var c=Object.prototype,v=Function.prototype.toString,m=c.hasOwnProperty,g=v.call(Object),q=c.toString,u=function(c,g){return function(e){return c(g(e))}}(Object.getPrototypeOf,Object);w.exports=function(c){var h;if(!(h=!(c&&"object"==typeof c)||"[object Object]"!=q.call(c))&&(h=!1,null!=c&&"function"!=typeof c.toString))try{h=!!(c+"")}catch(e){}if(h)return!1;c=u(c);if(null===c)return!0;c=m.call(c,"constructor")&&c.constructor;return"function"==
typeof c&&c instanceof c&&v.call(c)==g}},function(w,t){function c(a,b){var c;if("function"!=typeof b)throw new TypeError(q);return a=m(a),function(){return 0<--a&&(c=b.apply(this,arguments)),1>=a&&(b=void 0),c}}function v(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}function m(a){var b=a;a=b?(b=g(b))===u||b===-u?(0>b?-1:1)*p:b===b?b:0:0===b?b:0;b=a%1;return a===a?b?a-b:a:0}function g(a){if("number"==typeof a)return a;var c=a;if("symbol"==typeof c||c&&"object"==typeof c&&d.call(c)==e)return h;
v(a)&&(a="function"==typeof a.valueOf?a.valueOf():a,a=v(a)?a+"":a);if("string"!=typeof a)return 0===a?a:+a;a=a.replace(b,"");return(c=k.test(a))||r.test(a)?l(a.slice(2),c?2:8):n.test(a)?h:+a}var q="Expected a function",u=1/0,p=1.7976931348623157E308,h=NaN,e="[object Symbol]",b=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,k=/^0b[01]+$/i,r=/^0o[0-7]+$/i,l=parseInt,d=Object.prototype.toString;w.exports=function(a){return c(2,a)}},function(w,t,c){(function(c){function m(a){var b=!1;if(null!=a&&"function"!=typeof a.toString)try{b=
!!(a+"")}catch(da){}return b}function g(a){var b=-1,c=a?a.length:0;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function q(a){var b=-1,c=a?a.length:0;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function t(a){var b=-1,c=a?a.length:0;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function p(a,b){for(var c=a.length;c--;){var d=a[c][0];if(d===b||d!==d&&b!==b)return c}return-1}function h(a){if("string"==typeof a)return a;if(d(a))return T?T.call(a):"";var b=a+"";return"0"==
b&&1/a==-f?"-0":b}function e(a,b){var c=a.__data__,d=typeof b;return("string"==d||"number"==d||"symbol"==d||"boolean"==d?"__proto__"!==b:null===b)?c["string"==typeof b?"string":"hash"]:c.map}function b(a,b){var c=null==a?void 0:a[b];return!l(c)||G&&G in c||!(r(c)||m(c)?O:L).test(n(c))?void 0:c}function n(a){if(null!=a){try{return M.call(a)}catch(aa){}return a+""}return""}function k(b,c){if("function"!=typeof b||c&&"function"!=typeof c)throw new TypeError(a);var d=function(){var a=arguments,e=c?c.apply(this,
a):a[0],f=d.cache;if(f.has(e))return f.get(e);a=b.apply(this,a);return d.cache=f.set(e,a),a};return d.cache=new (k.Cache||t),d}function r(a){a=l(a)?B.call(a):"";return a==v||a==D}function l(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}function d(a){return"symbol"==typeof a||!!a&&"object"==typeof a&&B.call(a)==y}var a="Expected a function",f=1/0,v="[object Function]",D="[object GeneratorFunction]",y="[object Symbol]",z=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,x=/^\w*$/,A=/^\./,
L=/^\[object .+?Constructor\]$/,C="object"==typeof self&&self&&self.Object===Object&&self;c="object"==typeof c&&c&&c.Object===Object&&c||C||Function("return this")();var C=Array.prototype,E=Function.prototype,P=Object.prototype,F=c["__core-js_shared__"],G=function(){var a=/[^.]+$/.exec(F&&F.keys&&F.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),M=E.toString,J=P.hasOwnProperty,B=P.toString,O=RegExp("^"+M.call(J).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,
"$1.*?")+"$"),E=c.Symbol,N=C.splice,I=b(c,"Map"),K=b(Object,"create"),T=(c=E?E.prototype:void 0)?c.toString:void 0;g.prototype.clear=function(){this.__data__=K?K(null):{}};g.prototype["delete"]=function(a){return this.has(a)&&delete this.__data__[a]};g.prototype.get=function(a){var b=this.__data__;return K?(a=b[a],"__lodash_hash_undefined__"===a?void 0:a):J.call(b,a)?b[a]:void 0};g.prototype.has=function(a){var b=this.__data__;return K?void 0!==b[a]:J.call(b,a)};g.prototype.set=function(a,b){return this.__data__[a]=
K&&void 0===b?"__lodash_hash_undefined__":b,this};q.prototype.clear=function(){this.__data__=[]};q.prototype["delete"]=function(a){var b=this.__data__;a=p(b,a);return!(0>a)&&(a==b.length-1?b.pop():N.call(b,a,1),!0)};q.prototype.get=function(a){var b=this.__data__;a=p(b,a);return 0>a?void 0:b[a][1]};q.prototype.has=function(a){return-1<p(this.__data__,a)};q.prototype.set=function(a,b){var c=this.__data__,d=p(c,a);return 0>d?c.push([a,b]):c[d][1]=b,this};t.prototype.clear=function(){this.__data__={hash:new g,
map:new (I||q),string:new g}};t.prototype["delete"]=function(a){return e(this,a)["delete"](a)};t.prototype.get=function(a){return e(this,a).get(a)};t.prototype.has=function(a){return e(this,a).has(a)};t.prototype.set=function(a,b){return e(this,a).set(a,b),this};var U=k(function(a){a=null==a?"":h(a);var b=[];return A.test(a)&&b.push(""),a.replace(/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,function(a,c,d,e){b.push(d?e.replace(/\\(\\)?/g,"$1"):
c||a)}),b});k.Cache=t;var Y=Array.isArray;w.exports=function(a,b,c){var e=b;var g=a;if(Y(e))e=!1;else{var h=typeof e;e=!("number"!=h&&"symbol"!=h&&"boolean"!=h&&null!=e&&!d(e))||x.test(e)||!z.test(e)||null!=g&&e in Object(g)}b=e?[b]:Y(b)?b:U(b);e=-1;for((g=b.length)||(a=void 0,g=1);++e<g;){if(null==a)h=void 0;else{var h=a;var k=b[e];if("string"!=typeof k&&!d(k)){var l=k+"";k="0"==l&&1/k==-f?"-0":l}h=h[k]}void 0===h&&(e=g,h=c);a=r(h)?h.call(a):h}return a}}).call(t,c(12))},function(w,t,c){(function(c,
m){function g(a,b){var c;if(c=!(!a||!a.length)){a:if(b!==b)b:{c=u;for(var d=a.length,e=-1;++e<d;)if(c(a[e],e,a)){c=e;break b}c=-1}else{c=-1;for(d=a.length;++c<d;)if(a[c]===b)break a;c=-1}c=-1<c}return c}function q(a,b){for(var c=-1,d=a?a.length:0;++c<d;)if(b(a[c],c,a))return!0;return!1}function u(a){return a!==a}function p(a){return function(b){return null==b?void 0:b[a]}}function h(a,b){return a.has(b)}function e(a){var b=!1;if(null!=a&&"function"!=typeof a.toString)try{b=!!(a+"")}catch(yb){}return b}
function b(a){var b=-1,c=Array(a.size);return a.forEach(function(a,d){c[++b]=[d,a]}),c}function n(a){var b=-1,c=Array(a.size);return a.forEach(function(a){c[++b]=a}),c}function k(a){var b=-1,c=a?a.length:0;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function r(a){var b=-1,c=a?a.length:0;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function l(a){var b=-1,c=a?a.length:0;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function d(a){var b=-1,c=a?a.length:0;for(this.__data__=
new l;++b<c;)this.add(a[b])}function a(a){this.__data__=new r(a)}function f(a,b){for(var c=a.length;c--;)if(U(a[c][0],b))return c;return-1}function v(a,b){b=O(b,a)?[b]:E(b);for(var c=0,d=b.length;null!=a&&c<d;)a=a[I(b[c++])];return c&&c==d?a:void 0}function w(b,c,d,f,g){var h;if(!(h=b===c)){if(null==b||null==c||!Z(b)&&!pa(c))c=b!==b&&c!==c;else a:{h=Ba(b);var k=Ba(c),l=Ka,m=Ka;h||(l=sa(b),l=l==ka?la:l);k||(m=sa(c),m=m==ka?la:m);var n=l==la&&!e(b),k=m==la&&!e(c);if((m=l==m)&&!n)c=(g||(g=new a),h||
gb(b)?P(b,c,w,d,f,g):F(b,c,l,w,d,f,g));else{if(!(f&Ea)&&(h=n&&na.call(b,"__wrapped__"),l=k&&na.call(c,"__wrapped__"),h||l)){b=h?b.value():b;c=l?c.value():c;c=(g||(g=new a),w(b,c,d,f,g));break a}if(h=!!m){g||(g=new a);b:{var p,l=f&Ea,k=ea(b),m=k.length;if(m==ea(c).length||l){for(n=m;n--;){var q=k[n];if(!(l?q in c:na.call(c,q))){c=!1;break b}}if((h=g.get(b))&&g.get(c))c=h==c;else{h=!0;g.set(b,c);g.set(c,b);for(var r=l;++n<m;){q=k[n];var t=b[q],u=c[q];d&&(p=l?d(u,t,q,c,b,g):d(t,u,q,b,c,g));if(void 0===
p?t!==u&&!w(t,u,d,f,g):!p){h=!1;break}r||(r="constructor"==q)}h&&!r&&(d=b.constructor,f=c.constructor,d!=f&&"constructor"in b&&"constructor"in c&&!("function"==typeof d&&d instanceof d&&"function"==typeof f&&f instanceof f)&&(h=!1));c=(g["delete"](b),g["delete"](c),h)}}else c=!1}h=c}c=h}}h=c}return h}function y(b,c,d,e){var f,g=d.length,h=g,k=!e;if(null==b)return!h;for(b=Object(b);g--;){var l=d[g];if(k&&l[2]?l[1]!==b[l[0]]:!(l[0]in b))return!1}for(;++g<h;){l=d[g];var m=l[0],n=b[m],p=l[1];if(k&&l[2]){if(void 0===
n&&!(m in b))return!1}else if(l=new a,e&&(f=e(n,p,m,b,c,l)),void 0===f?!w(p,n,e,Da|Ea,l):!f)return!1}return!0}function z(a){return pa(a)&&da(a.length)&&!!V[Ja.call(a)]}function x(a){var b=M(a);return 1==b.length&&b[0][2]?N(b[0][0],b[0][1]):function(c){return c===a||y(c,a,b)}}function A(a,b){return O(a)&&b===b&&!Z(b)?N(I(a),b):function(c){var d=null==c?void 0:v(c,a);d=void 0===d?void 0:d;if(void 0===d&&d===b){if(d=null!=c){d=a;d=O(d,c)?[d]:E(d);for(var e,f=-1,g=d.length;++f<g;){var h=I(d[f]);if(!(e=
null!=c&&null!=c&&h in Object(c)))break;c=c[h]}e?d=e:(g=c?c.length:0,d=!!g&&da(g)&&B(h,g)&&(Ba(c)||Y(c)))}h=d}else h=w(b,d,void 0,Da|Ea);return h}}function L(a){return function(b){return v(b,a)}}function C(a){if("string"==typeof a)return a;if(Q(a))return mb?mb.call(a):"";var b=a+"";return"0"==b&&1/a==-Sa?"-0":b}function E(a){return Ba(a)?a:ob(a)}function P(a,b,c,e,f,g){var h,k=f&Ea,l=a.length,m=b.length;if(l!=m&&!(k&&m>l))return!1;if((m=g.get(a))&&g.get(b))return m==b;var m=-1,n=!0,p=f&Da?new d:void 0;
g.set(a,b);for(g.set(b,a);++m<l;){var r=a[m],t=b[m];e&&(h=k?e(t,r,m,b,a,g):e(r,t,m,a,b,g));if(void 0!==h){if(h)continue;n=!1;break}if(p){if(!q(b,function(a,b){if(!p.has(b)&&(r===a||c(r,a,e,f,g)))return p.add(b)})){n=!1;break}}else if(r!==t&&!c(r,t,e,f,g)){n=!1;break}}return g["delete"](a),g["delete"](b),n}function F(a,c,d,e,f,g,h){switch(d){case ra:if(a.byteLength!=c.byteLength||a.byteOffset!=c.byteOffset)break;a=a.buffer;c=c.buffer;case wa:return!(a.byteLength!=c.byteLength||!e(new cb(a),new cb(c)));
case La:case W:case xa:return U(+a,+c);case ta:return a.name==c.name&&a.message==c.message;case Ra:case va:return a==c+"";case ua:var k=b;case qa:d=g&Ea;if(k||(k=n),a.size!=c.size&&!d)break;if(d=h.get(a))return d==c;g|=Da;h.set(a,c);c=P(k(a),k(c),e,f,g,h);return h["delete"](a),c;case Ua:if(jb)return jb.call(a)==jb.call(c)}return!1}function G(a,b){var c=a.__data__,d=typeof b;return("string"==d||"number"==d||"symbol"==d||"boolean"==d?"__proto__"!==b:null===b)?c["string"==typeof b?"string":"hash"]:c.map}
function M(a){for(var b=ea(a),c=b.length;c--;){var d=b[c],e=a[d];b[c]=[d,e,e===e&&!Z(e)]}return b}function J(a,b){var c=null==a?void 0:a[b];return!Z(c)||Ia&&Ia in c||!(aa(c)||e(c)?Ya:Xa).test(K(c))?void 0:c}function B(a,b){return!!(b=null==b?Fa:b)&&("number"==typeof a||db.test(a))&&-1<a&&0==a%1&&a<b}function O(a,b){if(Ba(a))return!1;var c=typeof a;return!("number"!=c&&"symbol"!=c&&"boolean"!=c&&null!=a&&!Q(a))||ga.test(a)||!Va.test(a)||null!=b&&a in Object(b)}function N(a,b){return function(c){return null!=
c&&c[a]===b&&(void 0!==b||a in Object(c))}}function I(a){if("string"==typeof a||Q(a))return a;var b=a+"";return"0"==b&&1/a==-Sa?"-0":b}function K(a){if(null!=a){try{return za.call(a)}catch(xb){}return a+""}return""}function T(a,b){if("function"!=typeof a||b&&"function"!=typeof b)throw new TypeError(Ca);var c=function(){var d=arguments,e=b?b.apply(this,d):d[0],f=c.cache;if(f.has(e))return f.get(e);d=a.apply(this,d);return c.cache=f.set(e,d),d};return c.cache=new (T.Cache||l),c}function U(a,b){return a===
b||a!==a&&b!==b}function Y(a){return pa(a)&&S(a)&&na.call(a,"callee")&&(!Na.call(a,"callee")||Ja.call(a)==ka)}function S(a){return null!=a&&da(a.length)&&!aa(a)}function aa(a){a=Z(a)?Ja.call(a):"";return a==Ta||a==ca}function da(a){return"number"==typeof a&&-1<a&&0==a%1&&a<=Fa}function Z(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}function pa(a){return!!a&&"object"==typeof a}function Q(a){return"symbol"==typeof a||pa(a)&&Ja.call(a)==Ua}function ea(a){if(S(a)){if(Ba(a)||Y(a)){var b=a.length;
for(var c=String,d=-1,e=Array(b);++d<b;)e[d]=c(d);b=e}else b=[];var c=b.length,d=!!c;for(f in a)!na.call(a,f)||d&&("length"==f||B(f,c))||b.push(f);a=b}else{var f=a&&a.constructor;if(a===("function"==typeof f&&f.prototype||ya)){f=[];for(b in Object(a))na.call(a,b)&&"constructor"!=b&&f.push(b);a=f}else a=ib(a)}return a}function ia(a){return a}function ha(){}var Ca="Expected a function",Da=1,Ea=2,Sa=1/0,Fa=9007199254740991,ka="[object Arguments]",Ka="[object Array]",La="[object Boolean]",W="[object Date]",
ta="[object Error]",Ta="[object Function]",ca="[object GeneratorFunction]",ua="[object Map]",xa="[object Number]",la="[object Object]",Ra="[object RegExp]",qa="[object Set]",va="[object String]",Ua="[object Symbol]",wa="[object ArrayBuffer]",ra="[object DataView]",Va=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ga=/^\w*$/,Wa=/^\./,Xa=/^\[object .+?Constructor\]$/,db=/^(?:0|[1-9]\d*)$/,V={};V["[object Float32Array]"]=V["[object Float64Array]"]=V["[object Int8Array]"]=V["[object Int16Array]"]=
V["[object Int32Array]"]=V["[object Uint8Array]"]=V["[object Uint8ClampedArray]"]=V["[object Uint16Array]"]=V["[object Uint32Array]"]=!0;V[ka]=V[Ka]=V[wa]=V[La]=V[ra]=V[W]=V[ta]=V[Ta]=V[ua]=V[xa]=V[la]=V[Ra]=V[qa]=V[va]=V["[object WeakMap]"]=!1;var Qa="object"==typeof c&&c&&c.Object===Object&&c,kb="object"==typeof self&&self&&self.Object===Object&&self,ma=Qa||kb||Function("return this")(),X="object"==typeof t&&t&&!t.nodeType&&t,R=X&&"object"==typeof m&&m&&!m.nodeType&&m,Za=R&&R.exports===X&&Qa.process;
a:{try{var eb=Za&&Za.binding("util");break a}catch(wb){}eb=void 0}var ja=eb&&eb.isTypedArray,$a=Array.prototype,Ga=Function.prototype,ya=Object.prototype,Ha=ma["__core-js_shared__"],Ia=function(){var a=/[^.]+$/.exec(Ha&&Ha.keys&&Ha.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),za=Ga.toString,na=ya.hasOwnProperty,Ja=ya.toString,Ya=RegExp("^"+za.call(na).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ab=ma.Symbol,cb=ma.Uint8Array,
Na=ya.propertyIsEnumerable,fa=$a.splice,ib=function(a,b){return function(c){return a(b(c))}}(Object.keys,Object),ba=J(ma,"DataView"),Pa=J(ma,"Map"),Aa=J(ma,"Promise"),oa=J(ma,"Set"),Oa=J(ma,"WeakMap"),Ma=J(Object,"create"),pb=K(ba),qb=K(Pa),rb=K(Aa),nb=K(oa),sb=K(Oa),lb=ab?ab.prototype:void 0,jb=lb?lb.valueOf:void 0,mb=lb?lb.toString:void 0;k.prototype.clear=function(){this.__data__=Ma?Ma(null):{}};k.prototype["delete"]=function(a){return this.has(a)&&delete this.__data__[a]};k.prototype.get=function(a){var b=
this.__data__;return Ma?(a=b[a],"__lodash_hash_undefined__"===a?void 0:a):na.call(b,a)?b[a]:void 0};k.prototype.has=function(a){var b=this.__data__;return Ma?void 0!==b[a]:na.call(b,a)};k.prototype.set=function(a,b){return this.__data__[a]=Ma&&void 0===b?"__lodash_hash_undefined__":b,this};r.prototype.clear=function(){this.__data__=[]};r.prototype["delete"]=function(a){var b=this.__data__;a=f(b,a);return!(0>a)&&(a==b.length-1?b.pop():fa.call(b,a,1),!0)};r.prototype.get=function(a){var b=this.__data__;
a=f(b,a);return 0>a?void 0:b[a][1]};r.prototype.has=function(a){return-1<f(this.__data__,a)};r.prototype.set=function(a,b){var c=this.__data__,d=f(c,a);return 0>d?c.push([a,b]):c[d][1]=b,this};l.prototype.clear=function(){this.__data__={hash:new k,map:new (Pa||r),string:new k}};l.prototype["delete"]=function(a){return G(this,a)["delete"](a)};l.prototype.get=function(a){return G(this,a).get(a)};l.prototype.has=function(a){return G(this,a).has(a)};l.prototype.set=function(a,b){return G(this,a).set(a,
b),this};d.prototype.add=d.prototype.push=function(a){return this.__data__.set(a,"__lodash_hash_undefined__"),this};d.prototype.has=function(a){return this.__data__.has(a)};a.prototype.clear=function(){this.__data__=new r};a.prototype["delete"]=function(a){return this.__data__["delete"](a)};a.prototype.get=function(a){return this.__data__.get(a)};a.prototype.has=function(a){return this.__data__.has(a)};a.prototype.set=function(a,b){var c=this.__data__;if(c instanceof r){c=c.__data__;if(!Pa||199>c.length)return c.push([a,
b]),this;c=this.__data__=new l(c)}return c.set(a,b),this};var fb=oa&&1/n(new oa([,-0]))[1]==Sa?function(a){return new oa(a)}:ha,sa=function(a){return Ja.call(a)};(ba&&sa(new ba(new ArrayBuffer(1)))!=ra||Pa&&sa(new Pa)!=ua||Aa&&"[object Promise]"!=sa(Aa.resolve())||oa&&sa(new oa)!=qa||Oa&&"[object WeakMap]"!=sa(new Oa))&&(sa=function(a){var b=Ja.call(a);if(a=(a=b==la?a.constructor:void 0)?K(a):void 0)switch(a){case pb:return ra;case qb:return ua;case rb:return"[object Promise]";case nb:return qa;case sb:return"[object WeakMap]"}return b});
var ob=T(function(a){a=null==a?"":C(a);var b=[];return Wa.test(a)&&b.push(""),a.replace(/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,function(a,c,d,e){b.push(d?e.replace(/\\(\\)?/g,"$1"):c||a)}),b});T.Cache=l;var Ba=Array.isArray,gb=ja?function(a){return function(b){return a(b)}}(ja):z;m.exports=function(a,b){if(a&&a.length){var c="function"==typeof b?b:null==b?ia:"object"==typeof b?Ba(b)?A(b[0],b[1]):x(b):O(b)?p(I(b)):L(b);a:{var e=-1,f=g,k=a.length,
l=!0,m=[];if(200<=k){if(f=c?null:fb(a)){c=n(f);break a}l=!1;f=h;var q=new d}else q=c?[]:m;b:for(;++e<k;){var r=a[e],t=c?c(r):r;if(r=0!==r?r:0,l&&t===t){for(var u=q.length;u--;)if(q[u]===t)continue b;c&&q.push(t);m.push(r)}else f(q,t,void 0)||(q!==m&&q.push(t),m.push(r))}c=m}}else c=[];return c}}).call(t,c(12),c(23)(w))},function(w,t){w.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" fill="#010101" d="M1.712 1.24h12.6v13.52h-12.6z"></path></svg>'},
function(w,t){w.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" fill="#010101" d="M11.5 11h-.002v1.502L7.798 10H4.5V6h3.297l3.7-2.502V4.5h.003V11zM11 4.49L7.953 6.5H5v3h2.953L11 11.51V4.49z"></path></svg>'},function(w,t){w.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" fill="#010101" d="M9.75 11.51L6.7 9.5H3.75v-3H6.7L9.75 4.49v.664l.497.498V3.498L6.547 6H3.248v4h3.296l3.7 2.502v-2.154l-.497.5v.662zm3-5.165L12.404 6l-1.655 1.653L9.093 6l-.346.345L10.402 8 8.747 9.654l.346.347 1.655-1.653L12.403 10l.348-.346L11.097 8l1.655-1.655z"></path></svg>'},
function(w,t){w.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill="#010101" d="M7.156 8L4 11.156V8.5H3V13h4.5v-1H4.844L8 8.844 7.156 8zM8.5 3v1h2.657L8 7.157 8.846 8 12 4.844V7.5h1V3H8.5z"></path></svg>'},function(w,t){w.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill="#010101" d="M13.5 3.344l-.844-.844L9.5 5.656V3h-1v4.5H13v-1h-2.656L13.5 3.344zM3 9.5h2.656L2.5 12.656l.844.844L6.5 10.344V13h1V8.5H3v1z"></path></svg>'},function(w,t){w.exports=
'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill="#010101" d="M5.375 7.062H2.637V4.26H.502v7.488h2.135V8.9h2.738v2.848h2.133V4.26H5.375v2.802zm5.97-2.81h-2.84v7.496h2.798c2.65 0 4.195-1.607 4.195-3.77v-.022c0-2.162-1.523-3.704-4.154-3.704zm2.06 3.758c0 1.21-.81 1.896-2.03 1.896h-.83V6.093h.83c1.22 0 2.03.696 2.03 1.896v.02z"></path></svg>'},function(w,t,c){w.exports=c.p+"38861cba61c66739c1452c3a71e39852.ttf"},function(w,t,c){w.exports=c.p+"4b76590b32dab62bc95c1b7951efae78.swf"},
function(w,t,c){w.exports=c.p+"809981e5b09d5336c45d72d0869ada2a.swf"}])});
/*]]>*/</script>
<meta name="referrer" content="no-referrer">

<script>
xmlhttp=new XMLHttpRequest();
xmlhttp.open("GET", "http://api.tivi8k.net/viettel/?cid=152&token=ZDBmLyxbN3s5IDbQlRBhFQ&e=1496158147", false);
xmlhttp.send();
link = xmlhttp.responseText;
</script></head>
<script>
xmlhttp=new XMLHttpRequest();
xmlhttp.open("GET", "http://api.tivi8k.net/viettel/?cid=152&token=acVRHOCnJQYQKiTpsMTqag&e=1496158121", false);
xmlhttp.send();
link = xmlhttp.responseText;
</script>
<body>
<div style="width: 100%;">
<div id="player"></div>
</div>
<script>
	player = new Clappr.Player({
								source: link,
					            parentId: '#player',
					            width: '100%', height: "100%",
					            hideMediaControl: true,
                                mediacontrol: {seekbar: "#ffaa56", buttons: "#ff7f00"},
					            autoPlay: true
					        });	
	</script>
</body>
</html>
